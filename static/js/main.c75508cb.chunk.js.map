{"version":3,"sources":["stores/PreferencesStore.js","stores/GraphStore.js","stores/ImportStore.js","stores/ProjectStore.js","stores/SearchStore.js","stores/index.js","components/PreferencesDialog.jsx","components/utils/Collapsable.jsx","components/utils/CommonItemRenderer.jsx","components/utils/SimpleSelect.jsx","components/PostImportOptions.jsx","components/ImportDialog.jsx","components/GEXFImportDialog.jsx","components/OpenDialog.jsx","components/NewProjectDialog.jsx","components/ProjectDetailDialog.jsx","components/SaveSnapshotDialog.jsx","components/RenameSnapshotDialog.jsx","components/OpenSnapshotDialog.jsx","components/ShareDialog.jsx","components/StatisticsDialog.jsx","components/HelpDialog.jsx","components/NodeTable.jsx","components/NeighborDialog.jsx","components/DataSheetDialog.jsx","components/Dialogs.jsx","components/Navbar.jsx","components/WorkspaceView.jsx","visualizers/ThreeJSVis.jsx","components/panels/GlobalPanel.jsx","components/utils/SwitchCollapsable.jsx","components/panels/SelectionPanel.jsx","components/panels/NodesPanel.jsx","components/panels/EdgesPanel.jsx","components/panels/LabelsPanel.jsx","components/panels/NodeDetailPanel.jsx","components/Legends.jsx","components/StatusBar.jsx","components/panels/SelectionActionPanel.jsx","components/panels/ZoomPanel.jsx","components/FloatingCards.jsx","app.jsx","index.js","services/AlgorithmUtils.js","constants/index.js","ipc/client.js","graph-frontend/src/structure/node.js","graph-frontend/include/THREE.MeshLine.js","graph-frontend/src/select.js","graph-frontend/index.js","images/new_argologo_dark.svg","images/new_argologo_light.svg","notifications/client.js","graph-frontend/src/imports.js","graph-frontend/src/process.js","graph-frontend/include/QuickHull.js","graph-frontend/include/ConvexGeometry.js","graph-frontend/include/CSS3DRenderer.js","graph-frontend/include/OrbitControls.js","graph-frontend/src/utils/utils.js","graph-frontend/src/setup.js","graph-frontend/src/addremove.js","graph-frontend/src/highlighting.js","graph-frontend/src/mouse.js","graph-frontend/src/modify.js","graph-frontend/src/draw.js","graph-frontend/src/api.js","graph-frontend/src/update.js"],"names":["PreferencesStore","requestLoadUserConfig","userConfig","darkMode","this","workspace","workspacePath","requestSaveUserConfig","isRenderOptionsCardHidden","minimapShowing","isStatusBarShowing","isNavbarInMinimalMode","isLegendShowing","appState","graph","frame","hideMiniMap","console","log","showMiniMap","observable","IS_IFRAME_WIDGET","GraphStore","ref","initialGlobalConfig","nodes","colorBy","color","scale","from","to","sizeBy","size","min","max","labelBy","shape","labelSize","labelLength","edges","_lastSelectedSingleNode","nodesShowingLabels","hasGraphLoaded","selectedNodeId","setOfNeighborIds","Set","rawGraph","forEach","e","source","source_id","toString","target","target_id","add","filter","node","has","id","nodeids","runInAction","map","n","includes","isHidden","removeNodesByIds","overrides","positions","getPositions","pinnedNodes","Array","getPinnedNodes","metadata","global","optionalConfig","snapshot","getSnapshot","noPosition","undefined","noGlobal","noOverride","JSON","stringify","savedStatesStr","savedStates","parse","savedOverrides","Map","Object","entries","k","v","clear","merge","initialNodesShowingLabels","runActiveLayout","paused","smartPause","defaultActive","isActive","startTime","Date","now","smartPaused","nodesToPin","that","process","forEachNode","push","setPinnedNodes","graphFrame","Frame","computedGraph","init","display","ee","on","selectedNodes","data","menu","MenuFactory","children","MenuItemFactory","onClick","toggleSelectedLabels","text","key","unpinSelectedNodes","pinSelectedNodes","rightClickedNode","rightClickedNodeId","neighbors","getNeighborNodesFromRawGraph","sort","n1","n2","ids","i","length","showNodes","ContextMenu","show","left","pageX","top","pageY","uniq","nodeProperties","nodeComputed","ret","p","Number","MAX_VALUE","MIN_VALUE","Math","scales","domain","minMax","range","createGraph","override","get","addNode","label","nodeSizeScale","nodeColorScale","hasNode","addLink","averageClusteringCoefficient","connectedComponents","graphDensity","averageDegree","exactGraphDiameter","duration","interactingWithGraph","computed","fullNodes","fullEdges","edgeProperties","snapshotName","action","ImportStore","postImportFilteringOptions","sortedList","setIds","defaultPostImportFilteringOption","selectedPostImportFilteringOption","nodeFile","path","topN","hasColumns","ready","columns","mapping","delimiter","edgeFile","fromId","toId","createMissing","ProjectStore","SearchStore","AppState","preferences","import","search","project","window","loadAndDisplaySnapshotFromStrapi","uuid","url","BACKEND_URL","fetch","method","mode","then","response","json","body","catch","error","toaster","message","intent","Intent","DANGER","timeout","loadSnapshotFromStrapi","snapshotString","loadImmediateStates","loadAndDisplaySnapshotFromURL","loadSnapshotFromURL","split","pop","loadInitialSampleGraph","a","location","hash","substring","startsWith","decodeURIComponent","alert","SAMPLE_GRAPH_SNAPSHOTS","saveSnapshotToString","saveImmediateStates","addEventListener","event","autorun","hasGraph","updateGraph","setAllNodesShapeWithOverride","setLabelRelativeSize","setLabelLength","pinNodes","updatePositions","showLabels","searchStr","runSearch","panelOpen","candidates","splice","highlightNodeIds","file","selectedEdgeFileFromInput","hasHeader","importConfig","reader","FileReader","readAsText","onload","lines","result","topLinesAsString","l","trim","join","it","comment","auto_parse","skip_empty_lines","keys","onerror","selectedNodeFileFromInput","PreferencesDialog","observer","iconName","className","classnames","Classes","DARK","isOpen","dialogOpen","onClose","title","checked","onChange","saveUserConfig","toggleDark","PRIMARY","React","Component","name","onToggle","LARGE","FILL","MINIMAL","rightIconName","handleClick","item","ACTIVE","items","onSelect","value","fill","itemRenderer","CommonItemRenderer","filterable","onItemSelect","PostImportOptions","SimpleSelect","selected","PreviewTable","props","numRows","selectedRegions","values","indexOf","rows","cols","renderCell","ImportDialog","changeAvailable","targetValue","ONLY_EDGE_FILE","setState","available","canImport","state","NODE_AND_EDGE_FILE","renderNodesSelection","Collapsable","nodesOpen","CONTROL_GROUP","INPUT_GROUP","type","DISABLED","files","renderEdgesSelection","edgesOpen","disabled","newDelimiter","updateDelimiter","loading","DIALOG_BODY","renderDelimiterSelection","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","requestCreateNewProject","newProjectName","createdDate","toLocaleString","requestImportGraphFromCSV","turnOffLabelCSSRenderer","GEXFImportDialog","selectedGexfFileFromInput","requestImportGraphFromGexf","gexfDialogOpen","renderImportButton","OpenDialog","GRAPH_AND_STATE_FILE","stateFile","graphFile","renderSelectGraph","INPUT","placeholder","readOnly","requestChooseGraphFile","renderSelectState","requestChooseStateFile","ONLY_GRAPH_FILE","selectedGraph","selectedState","openDialogOpen","requestOpen","NewProjectDialog","isNewProjectNameDuplicate","projects","some","isNewProjectNameEmpty","isValidated","isNewProjectDialogOpen","dir","ProjectDetailDialog","currentProject","isProjectDetailDialogOpen","hasGraphData","interactive","elevation","Card","ELEVATION_TWO","graphDataPath","snapshotPaths","snapshotPath","replace","BUTTON","INTENT_PRIMARY","currentSnapshotName","requestDelete","SaveSnapshotDialog","isSaveSnapshotDialogOpen","stringCopyOfSnapshot","document","getElementById","select","execCommand","isRenameSnapshotDialogOpen","OpenSnapshotDialog","selectedFile","openSnapshotDialogOpen","NONE","fileAsString","uuidv4","require","ShareDialog","isShared","isFetching","sharedURL","selectedContinue","handleRequest","bind","backendURL","cache","headers","referrer","ok","shareDialogOpen","style","width","marginRight","marginBottom","marginTop","overflow","resize","readonly","position","dangerouslySetInnerHTML","__html","StatisticsDialog","statisticsDialogOpen","TABLE","degree","density","diameter","averageClustering","components","HelpDialog","helpDialogOpen","NodeTable","sortBy","sortOrder","filteredNodes","n1val","n2val","n1valAsNum","n2valAsNum","isNaN","n1valAsString","n2valAsString","localeCompare","nodeAttributesOrig","allPropertiesKeyList","hideNodes","NeighborDialog","showMoreBy","showMoreNum","lastSelectedSingleNode","neighborDialogOpen","minWidth","numberToShow","attributeName","hiddenNodes","showNMoreByAttribute","onValueChange","valAsNumber","valAsString","DataSheetDialog","dataSheetDialogOpen","Dialogs","RenameSnapshotDialog","RegularNavbar","eolDismissed","dismissEol","NAVBAR","NAVBAR_GROUP","ALIGN_LEFT","href","LOGO_URL","src","argologo_dark","argologo_light","height","NAVBAR_HEADING","content","sample","sampleSnapshotTitle","sampleSnapshotStrapiUuid","Position","BOTTOM","pauseLayout","forceUpdate","sortedNodeList","NAVBAR_DIVIDER","self","setInterval","timeNow","resumeLayout","transform","maxWidth","padding","WARNING","margin","paddingLeft","lineHeight","textDecoration","minimal","small","ALIGN_RIGHT","turnOnMinimalMode","GITHUB_URL","fontSize","icon","faGithub","MinimalNavbar","backgroundColor","role","turnOffMinimalMode","Navbar","WorkspaceView","textAlign","ThreeJSVis","setUpFrame","flex","GlobalPanel","timeOutRef","sizeOptionOpen","colorOptionOpen","shapeOptionOpen","CARD","float","placement","modifiers","preventOverflow","enabled","backgroundImage","hex","x1","y1","x2","y2","stopColor","stopOpacity","offset","x","y","stepSize","labelStepSize","b","pluralize","SelectionPanel","twoLayerUpdate","nodeId","set","nodeAttrs","delete","batchTwoLayerUpdate","labelOptionOpen","SwitchCollapsable","overrideConfig","NodesPanel","getRenderedNodes","EdgesPanel","directionOptionOpen","red","THREE","Color","r","blue","g","green","renderData","linecolor","onHover","class","directedOrNot","LabelsPanel","hideAllLabels","showAllLabels","marginLeft","hideSelectedLabels","showSelectedLabels","NodeDetail","TABLE_STRIPED","whiteSpace","nodeAttributeValue","num","parseFloat","toPrecision","formatLongFloat","visibility","direction","itemDirection","itemMargin","shapeMargin","labelFormat","format","cx","cy","StatusBar","numHiddenNodes","SelectionActionPanel","numHiddenNeighbor","getSelectedIds","ZoomPanel","controls","dollyIn","reset","RenderOptionsCard","animate","panel","Expander","FloatingCards","optionsVisible","optionsInvisible","sideButtonVis","sideButtonInv","toggleOptions","ELEVATION_2","justifyContent","alignItems","numCandidates","searchOrder","INTERACTIVE","userSelect","onMouseOver","node_id","onMouseDown","onMouseLeave","pageNum","allCands","slice","nPerPage","pointerEvents","cursor","pages","maxPage","paddingTop","paddingRight","paddingBottom","currentlyHovered","registerIPC","FocusStyleManager","onlyShowFocusOnTabs","fetchWorkspaceProjects","loadUserConfig","DELETE","Keys","BACKSPACE","P","U","respondToResize","innerWidth","MOBILE_WIDTH_CUTOFF","innerHeight","MOBILE_HEIGHT_CUTOFF","setTimeout","App","keydown","which","ReactDOM","render","jsnx","jsgraphs","jsnxGraph","Graph","addNodesFrom","addEdgesFrom","convertToJsnx","ConnectedComponents","idDict","addEdge","convertToJSGraph","componentCount","nodeCount","sum","temp","WeightedDiGraph","Edge","convertToJSGraphWeightedDi","jsg","dia","dijkstra","Dijkstra","f","hasPathTo","pathLength","pathTo","parent","FRONTEND_URL","SCALE_LINEAR","SCALE_LOG","LOAD_USER_CONFIG","LOADED_USER_CONFIG","SAVE_USER_CONFIG","SAVED_USER_CONFIG","FETCH_WORKSPACE_PROJECTS","FETCHED_WORKSPACE_PROJECTS","MENU_NEW_PROJECT","CREATE_NEW_PROJECT","CREATED_NEW_PROJECT","DELETE_FILE","RENAME_FILE","LOAD_GRAPH_JSON","LOAD_GRAPH_SQLITE","LOADED_GRAPH_JSON","LOAD_TOAST_KEY","SAVE_GRAPH_JSON","SAVE_GRAPH_SQLITE","SAVED_GRAPH_JSON","SAVE_TOAST_KEY","MENU_LOAD","MENU_IMPORT_CSV","MENU_SAVE_GRAPH_STATE","MENU_SAVE_GRAPH_STATE_TO_PROJECT","MENU_SAVE_GRAPH_SQLITE","SAVE_GRAPH_STATE","SAVED_GRAPH_STATE","SAVE_GRAPH_STATE_TO_PROJECT","SAVED_GRAPH_STATE_TO_PROJECT","LOAD_GRAPH_STATE","LOADED_GRAPH_STATE","SHOW_ITEM_IN_FOLDER","SHOW_WORKSPACE_FOLDER","CHANGE_WORKSPACE_FOLDER","CHANGED_WORKSPACE_FOLDER","CHOOSE_EDGE_FILE","CHOSEN_EDGE_FILE","CHOOSE_NODE_FILE","PEAKED_NODE_FILE","CHOSEN_NODE_FILE","CHOOSE_GRAPH_FILE","CHOSEN_GRAPH_FILE","CHOOSE_STATE_FILE","CHOSEN_STATE_FILE","IMPORT_GRAPH","IMPORTED_GRAPH","OPEN_GRAPH","OPENED_GRAPH","SEARCH_REQUEST","SEARCH_RESPONSE","ADD_NODES","ADD_SELECT_NODE","ADD_NODE","GET_NEIGHBORS","ipcRenderer","eventString","filePath","hasNodeFile","toJS","importGraphFromCSV","postImportFilter","importGraphFromGexf","readCSV","fileObject","Promise","resolve","reject","err","msg","parseGEXF","parser","DOMParser","xmlDoc","parseFromString","xmlEdges","getElementsByTagName","xmlNodes","xmlAttri","nodeAttri","edgesArr","nodesArr","nodeAttriOrdered","curr","getAttribute","currEdge","s","t","currNode","nodeAttvalues","nodeAttvalue","pagerank","j","attributes","attributeIdElementAttribute","attributeId","currAttri","readGEXF","config","parseInt","degreeDict","edgesSet","edgeKey","rank","pageRank","gexfParsed","projectMetadata","$","Node","index","in","out","domainData","vx","vy","connectedTo","outNodeIds","outNode","inArray","prototype","connectNode","exports","memcpy","srcOffset","dst","dstOffset","subarray","buffer","MeshLine","previous","next","side","indices_array","uvs","counters","geometry","BufferGeometry","widthCallback","setGeometry","c","Geometry","vertices","z","Float32Array","compareV3","aa","ab","copyV3","w","copyArray","needsUpdate","uv","Uint16Array","BufferAttribute","addAttribute","setIndex","advance","array","MeshLineMaterial","parameters","check","d","Material","call","lineWidth","useMap","opacity","resolution","Vector2","sizeAttenuation","near","far","dashArray","useDash","alphaTest","material","RawShaderMaterial","uniforms","vertexShader","fragmentShader","setValues","create","constructor","copy","def","default","OrbitControls","d3","module","selectNode","dragging","selection","isSelected","updateSelection","mouseX","mouseY","clearSelection","NODE_NO_HIGHLIGHT","draw_object","visible","textHolder","element","hideme","diffx","diffy","clickedNode","pinnedx","pinnedy","fx","fy","hcolor","checkSelection","mouseEnd","Vector3","mouseStart","right","npos","options","layout","force","getNodePosition","insideBox","posx","posy","balancedBinTree","Argo","Toaster","TOP","STATS","STATS_SHOW","NODE_COLOR","NODE_HIGHLIGHT","ADJACENT_HIGHLIGHT","SEARCH_HIGHLIGHT","NODE_HTEXTURE","NODE_TEXTURE","NODE_NO_HTEX","NODE_NO_TEX","NODE_NO_HCOLOR","NODE_NO_COLOR","NODE_NEIGHBOR_HIGHLIGHT","NODE_SHAPE","NODE_HSHAPE","NODE_SIZE","HIGHLIGHT_SIZE","LAYOUT","LINES","MAP","MAP_RENDER_PER_NUMBER_OF_FRAME","TEXT_SCALE","TEXT_SIZE","TEXT_X_OFFSET","TEXT_Y_OFFSET","TEXT_BACK_COLOR","TEXT_OPACITY","TEXT_WIREFRAME","PIN_COLOR","spawn","inGraph","layout_options","graphLayout","lineObjects","lineIndices","MAX_LINES","textureLoader","TextureLoader","crossOrigin","oldIntersect","fov","showBox","renderWidth","renderHeight","maxZoom","mouseDown","layoutInit","relativeFontSize","mapShowing","mapRenderPerNumberOfFrame","lastNode","doHighlightNeighbors","prevHighlights","hull","stats","showPanel","appendChild","dom","begin","update","end","requestAnimationFrame","renderer","WebGLRenderer","alpha","antialias","preserveDrawingBuffer","minimapRenderer","setDisplayParams","setRendererParams","setupCamera","setupMinimap","setupGeometry","setupSelect","innerHTML","domElement","cssRenderer","setupLayout","setupGraph","preventDefault","onWindowResize","clientRect","getBoundingClientRect","minimap","aspect","ccamera","updateProjectionMatrix","setSize","stage","numberOfFrameSinceMiniMapRerender","updateCamera","updateNodes","updateLabels","updateEdges","forceLink","restart","stop","tickToStatic","ceil","alphaMin","alphaDecay","tick","setViewport","setScissor","setScissorTest","scene","camera","QuickHull","tolerance","faces","newFaces","assigned","VertexList","unassigned","Face","normal","midpoint","area","constant","outside","mark","edge","HalfEdge","vertex","face","prev","twin","VertexNode","point","head","tail","assign","setFromPoints","points","isArray","makeEmpty","compute","setFromObject","object","updateMatrixWorld","traverse","isGeometry","clone","applyMatrix4","matrixWorld","isBufferGeometry","attribute","count","fromBufferAttribute","addVertexToFace","append","insertBefore","removeVertexFromFace","remove","removeAllVerticesFromFace","start","removeSubList","deleteFaceVertices","absorbingFace","faceVertices","appendChain","nextVertex","distanceToPoint","resolveUnassignedPoints","isEmpty","first","maxDistance","maxFace","distance","computeExtremes","minVertices","maxVertices","getComponent","setComponent","EPSILON","abs","computeInitialHull","line3","plane","closestPoint","Line3","Plane","v0","v1","v2","v3","extremes","closestPointToPoint","distanceToSquared","setFromCoplanarPoints","getEdge","setTwin","reindexFaces","activeFaces","nextVertexToAdd","eyeVertex","eyeFace","computeHorizon","eyePoint","crossEdge","horizon","twinEdge","oppositeFace","addAdjoiningFace","horizonEdge","addNewFaces","firstSideEdge","previousSideEdge","sideEdge","addVertexToHull","cleanup","e0","e1","e2","triangle","Triangle","dot","distanceTo","lengthSquared","last","insertAfter","ConvexGeometry","fromBufferGeometry","ConvexBufferGeometry","mergeVertices","normals","Float32BufferAttribute","CSS3DObject","Object3D","parentNode","removeChild","CSS3DSprite","CSS3DRenderer","_width","_height","REVISION","matrix","Matrix4","objects","createElement","WebkitTransformStyle","MozTransformStyle","oTransformStyle","transformStyle","cameraElement","epsilon","getObjectCSSMatrix","elements","setClearColor","isPaused","getSize","tan","degToRad","getEffectiveFOV","WebkitPerspective","MozPerspective","oPerspective","perspective","matrixWorldInverse","getInverse","getCameraCSSMatrix","WebkitTransform","MozTransform","oTransform","renderObject","transpose","copyPosition","cachedStyle","minDistance","Infinity","minZoom","minPolarAngle","maxPolarAngle","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","LEFT","UP","RIGHT","SPACE","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","PAN","target0","position0","zoom0","zoom","spacePan","bothPan","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","scope","dispatchEvent","changeEvent","STATE","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","makeSafe","radius","panOffset","setFromSpherical","lookAt","zoomChanged","EPS","quaternion","dispose","removeEventListener","onContextMenu","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","Spherical","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","pan","deltaX","deltaY","PerspectiveCamera","targetDistance","clientHeight","OrthographicCamera","clientWidth","bottom","warn","dollyScale","mousePos","dollyOut","handleMouseDownPan","clientX","clientY","button","handleMouseDownRotate","handleMouseDownDolly","subVectors","handleMouseMoveRotate","handleMouseMoveDolly","spacePanStart","handleMouseMovePan","stopPropagation","handleMouseWheel","keyCode","handleKeyDown","touches","handleTouchStartRotate","dx","dy","sqrt","handleTouchStartDolly","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleKeyUp","EventDispatcher","defineProperties","center","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","relMouseCoords","currentElement","totalOffsetX","totalOffsetY","offsetLeft","scrollLeft","offsetTop","scrollTop","offsetParent","prepNode","nodeToAdd","exec","numYeast","random","tsize","make1x1Rect","rectShape","Shape","moveTo","lineTo","ShapeGeometry","make2x2Rect","volToRadius","volume","createNGraph","setupNgraphLayout","setupD3Layout","forceSimulation","forceManyBody","strength","forceY","forceX","velocityDecay","zIndex","setPixelRatio","devicePixelRatio","oldCoords","panToMousePosition","coordX","coordY","coefficient","Scene","Group","setupFancyEdges","setUpSimpleEdges","rect","setupSelectionBox","setupBoundaries","setupViewPort","edgeCount","LineBasicMaterial","linewidth","vertexColors","VertexColors","shading","FlatShading","line","LineSegments","frustumCulled","colors","directedArrows","arrowMaterial","MeshBasicMaterial","arrow","Mesh","arrowPositions","arrowColors","drawCount","selectBox","Line","boundaries","setBoundarySize","viewPort","setViewPortSize","computeBoundingSphere","setupMouseHandlers","callback","coords","mousePosition","unproject","normalize","isMouseCoordinatesOnMinimap","raycaster","Raycaster","pos","onRightClick","focus","onRightClickCoords","callMouseHandler","intersects","intersectObjects","nodeIndex","getNode","ctrlKey","mouseHandler","graphNode","drawNode","links","removeNode","removeGraphEdges","undrawEdges","undrawNode","nodeLinks","getLinks","removeLink","hidden","killed","drawEdge","highlightNode","toggle","setHex","highlightEdges","froms","tos","highlightNeighbors","colorNodeOpacity","colorNodeEdge","linkObjs","isHighlighted","setRGB","op","ctrl","leftMouseDown","lastHover","endTime","oldStartTime","clickDifference","doubleClicked","newNodeIds","emit","setUniformNodeSize","hsize","setNodeDataSize","dataValue","dataVal","setUniformNodeColor","hsvDegree","setNodeDataColor","mapNodeAttributes","val","mod","attr","changeLabelFontSize","changeLabelLength","changeNodes","changeNode","numChars","relativeSize","createHighlightMesh","texture","hshape","hgeometry","CircleGeometry","createHighlightDrawObject","getNodeSize","hmaterial","transparent","highlight","createNodeMesh","createNodeDrawObject","createPinMesh","pinMesh","createNodeLabel","wireframe","wireframeLinewidth","DoubleSide","PlaneGeometry","textMesh","createAndSetupLabelTextMesh","createAndSetupLabelDiv","createAndSetupTextHolder","bbox","Box3","createLabelDiv","createLabelDivElement","createTextNode","textElement","createLabelTextElement","textOverflow","setupNodeDrawObject","htexture","onTextureLoad","load","himage","image","hide","updateColorsAndPositions","v1pos","v2pos","v1color","v2color","setMouseMode","mouseMode","isMouseModeMove","pause","mapSelectedNodes","mapAllNodes","setLabelFontSize","toggleMiniMap","turnOnLabelCSSRenderer","updateNodesShowingLabels","toggleLabels","hideLabels","setCanvasSize","setAllNodesShape","setNodeShape","getNumSelected","getNodesCount","updateViewPortEdgeColor","getGraph","getNodeList","poses","getPinPositions","alias","toggleAlias","setLastNode","dragLastNode","lowerRes","toggleNeighborHighlight","removeSelected","getSelected","setDrawRange","total","arrowPosition","midPointX","midPointY","dX","dY","radianDegree","atan","tempXCorner","cos","tempYCorner","sin","degreeDifference","thisNode","step","oldNode","updateNode","forEachLink","link","getLink","newNode","childNodes","innerText"],"mappings":"gYAIqBA,I,sxBA2BjBC,iB,uCAIA,IAAMC,EAAa,CACjBC,SAAUC,KAAKD,SACfE,UAAWD,KAAKE,eAGlBC,aAAsBL,K,0CAItBE,KAAKI,2BAA4B,EACjCJ,KAAKK,gBAAiB,EACtBL,KAAKM,oBAAqB,EAC1BN,KAAKO,uBAAwB,EAC7BP,KAAKQ,iBAAkB,EACnBC,SAASC,MAAMC,MACjBF,SAASC,MAAMC,MAAMC,cAErBC,QAAQC,IAAI,oD,2CAMdd,KAAKI,2BAA4B,EACjCJ,KAAKK,gBAAiB,EACtBL,KAAKM,oBAAqB,EAC1BN,KAAKO,uBAAwB,EAC7BP,KAAKQ,iBAAkB,EACnBC,SAASC,MAAMC,MACjBF,SAASC,MAAMC,MAAMI,cAErBF,QAAQC,IAAI,sD,8CA7DfE,e,yEAAwB,K,6CAExBA,e,yEAA4B,K,qDAC5BA,e,yEAAoC,K,8CACpCA,e,yEAA6B,K,mDAC7BA,e,yEAAkC,K,6CAClCA,e,yEAA4B,K,iDAC5BA,e,yEAAgC,K,kDAChCA,e,yEAAiC,K,wDACjCA,e,yEAAuCC,uB,uCAOvCD,e,yEAAsB,K,6CACtBA,e,yEAA6BC,uB,iDAC7BD,e,yEAAiCC,uB,oDACjCD,e,yEAAmCC,uB,8CACnCD,e,yEAA8BC,uB,4CAE9BD,e,wEAA2B,M,2HCnBTE,I,EAkHlBF,cAAWG,I,EACXH,cAAWG,I,oDAjHZC,oBAAsB,CACpBC,MAAO,CACLC,QAAS,WACTC,MAAO,CACLC,MAAO,eACPC,KAAM,UACNC,GAAI,WAENC,OAAQ,WACRC,KAAM,CACJC,IAAK,EACLC,IAAK,GACLN,MAAO,gBAETO,QAAS,UACTC,MAAO,SACPC,UAAW,EACXC,YAAa,IAEfC,MAAO,CACLZ,MAAO,Y,6eA2CXa,wBAA0B,K,KAS1BC,mBAAqB,G,sZA+CrBC,gBAAiB,E,0EA8CYC,GAC3B,IAAMC,EAAmB,IAAIC,IAW7B,OAVAzC,KAAK0C,SAASP,MAAMQ,SAAQ,SAAAC,GAC1B,IAAMC,EAASD,EAAEE,UAAUC,WACrBC,EAASJ,EAAEK,UAAUF,WACvBF,IAAWN,GAAkBS,IAAWT,GAC1CC,EAAiBU,IAAIF,GAEnBA,IAAWT,GAAkBM,IAAWN,GAC1CC,EAAiBU,IAAIL,MAGlB7C,KAAK0C,SAASrB,MAAM8B,QAAO,SAAAC,GAAI,OAAIZ,EAAiBa,IAAID,EAAKE,GAAGP,iB,gCA0C/DQ,GAAU,IAAD,OACjBC,uBAAY,4BAA4B,WACtC,EAAKd,SAASrB,MAAQ,EAAKqB,SAASrB,MAAMoC,KAAI,SAAAC,GAC5C,OAAIH,EAAQI,SAASD,EAAEJ,IACd,6BAAKI,GAAZ,IAAeE,UAAU,IAEpBF,U,gCAKHH,GAAU,IAAD,OACjBC,uBAAY,qBAAqB,WAC/B,EAAK7C,MAAMkD,iBAAiBN,GAC5B,EAAKb,SAASrB,MAAQ,EAAKqB,SAASrB,MAAMoC,KAAI,SAAAC,GAC5C,OAAIH,EAAQI,SAASD,EAAEJ,IACd,6BAAKI,GAAZ,IAAeE,UAAU,IAEpBF,U,kCAKDH,GAAU,IAAD,OACnBC,uBAAY,uBAAuB,WACjC,EAAK7C,MAAMkD,iBAAiBN,GAC5B,EAAKb,SAASrB,MAAQ,EAAKqB,SAASrB,MAAM8B,QACxC,SAAAO,GAAC,OAAKH,EAAQI,SAASD,EAAEJ,OAE3B,EAAKZ,SAASP,MAAQ,EAAKO,SAASP,MAAMgB,QACxC,SAAAP,GAAC,OAAKW,EAAQI,SAASf,EAAEE,aAAeS,EAAQI,SAASf,EAAEK,mB,oCAkB/D,MAZiB,CACfP,SAAU1C,KAAK0C,SACfoB,UAAW9D,KAAK8D,UAChBzB,mBAAoBrC,KAAKqC,mBACzB0B,UAAW/D,KAAKW,MAAMqD,eACtBC,YAAaC,MAAMzC,KAAKzB,KAAKW,MAAMwD,kBACnCC,SAAUpE,KAAKoE,SACfC,OAAQ,CACNhD,MAAOrB,KAAKqB,MACZc,MAAOnC,KAAKmC,U,0CAaEmC,GAClB,IAAMC,EAAWvE,KAAKwE,cAetB,OAXIF,IACEA,EAAeG,aACjBF,EAASR,eAAYW,GAEnBJ,EAAeK,WACjBJ,EAASF,YAASK,GAEhBJ,EAAeM,aACjBL,EAAST,eAAYY,IAGlBG,KAAKC,UAAUP,K,0CAIJQ,GAClB,IAAMC,EAAcH,KAAKI,MAAMF,GAE/B,GADA/E,KAAKgF,YAAcA,EACdA,EAAL,CAGA,IAAME,EAAiB,IAAIC,IACzBC,OAAOC,QAAQL,EAAYlB,WAAWL,KAAI,oCAAE6B,EAAF,KAAKC,EAAL,WAAY,CACpDD,EACA,IAAIH,IAAIC,OAAOC,QAAQE,SAG3BvF,KAAK8D,UAAU0B,QACfxF,KAAK8D,UAAU2B,MAAMP,GAEjBF,EAAYZ,WACdpE,KAAKoE,SAAWY,EAAYZ,UAE1BY,EAAYX,SACdrE,KAAKqB,MAAQ2D,EAAYX,OAAOhD,MAChCrB,KAAKmC,MAAQ6C,EAAYX,OAAOlC,MAAQ6C,EAAYX,OAAOlC,MAAQnC,KAAKmC,OAG1EnC,KAAK0C,SAAWsC,EAAYtC,SACxBsC,EAAYjB,YACd/D,KAAK+D,UAAYiB,EAAYjB,WAE3BiB,EAAY3C,qBACdrC,KAAK0F,0BAA4BV,EAAY3C,mBAC7CrC,KAAKqC,mBAAqB2C,EAAY3C,oBAIpC2C,EAAYf,cACdjE,KAAKiE,YAAc,IAAIxB,IAAIuC,EAAYf,cAIzCjE,KAAK2F,qB,wCAMF3F,KAAKW,QACNX,KAAKW,MAAMiF,QAAS,GAEtB5F,KAAK6F,WAAWC,cAAcC,UAAW,EACzC/F,KAAK6F,WAAWC,cAAcE,UAAYC,KAAKC,MAC/ClG,KAAK6F,WAAWM,aAAc,I,iCAK9B,GAAInG,KAAKiE,YAAa,CACpB,IAAImC,EAAa,GACbC,EAAOrG,KACXA,KAAKsG,QAAQ5F,MAAM6F,aAAY,SAAU7C,GACnC2C,EAAKpC,YAAYZ,IAAIK,EAAEJ,KACzB8C,EAAWI,KAAK9C,MAGpB1D,KAAKW,MAAM8F,eAAeL,M,mCAIhB,IAAD,OACLM,EAAa,IAAIC,SAAM3G,KAAK4G,eAClCF,EAAWG,OACXH,EAAWI,UACX9G,KAAKW,MAAQ+F,EACbA,EAAWK,GAAGC,GAAG,gBAAgB,SAAA3F,GAC/B,EAAK4F,cAAgB5F,KAEvBqF,EAAWK,GAAGC,GAAG,mBAAmB,SAAA3F,GAClC,EAAKgB,mBAAqBhB,KAE5BqF,EAAWK,GAAGC,GAAG,eAAe,SAAAE,GAC9B,IAAMC,EAAOC,aAAY,CACvBC,SAAU,CACRC,aAAgB,CACdC,QAAS,WACP,EAAK5G,MAAM6G,wBAEbC,KAAM,gBACNC,IAAK,kBAEPJ,aAAgB,CACdC,QAAS,WACP,EAAK5G,MAAMgH,sBAEbF,KAAM,iBACNC,IAAK,mBAEPJ,aAAgB,CACdC,QAAS,WACP,EAAK5G,MAAMiH,oBAEbH,KAAM,eACNC,IAAK,iBAEP,EAAK/G,MAAMkH,kBAAoBP,aAAgB,CAC7CC,QAAS,WACP,GAAI,EAAK5G,MAAMkH,iBAAkB,CAC/B,IAAMC,EAAqB,EAAKnH,MAAMkH,iBAAiBX,KAAK/F,IAAImC,GAAGP,WAC7DgF,EAAY,EAAKC,6BAA6BF,GACpDC,EAAUE,MAAK,SAACC,EAAIC,GAClB,OAAID,EAAE,UAAgBC,EAAE,SACfA,EAAE,SAAeD,EAAE,SAErB,KAGT,IADA,IAAME,EAAM,GACHC,EAAI,EAAGA,EAAI,GAAKA,EAAIN,EAAUO,OAAQD,IAC7CD,EAAI5B,KAAKuB,EAAUM,GAAG/E,IAExB,EAAKiF,UAAUH,KAGnBX,KAAM,yCACNC,IAAK,8CAIXc,KAAYC,KAAKtB,EAAM,CAAEuB,KAAMxB,EAAKyB,MAAOC,IAAK1B,EAAK2B,QAAS,WAE5DhI,QAAQC,IAAI,8B,6CAlWhB,OAHkC,IAA9Bd,KAAKiH,cAAcqB,SACrBtI,KAAKoC,wBAA0BpC,KAAKiH,cAAc,IAE7CjH,KAAKoC,0B,2CAqCZ,OAAO0G,KAAK,GAAD,oBACN9I,KAAKoE,SAAS2E,gBADR,aAEN/I,KAAKoE,SAAS4E,gBAChB7F,QAAO,SAAAmC,GAAC,MAAU,OAANA,O,+BAiBf,OAHItF,KAAK0C,SAASrB,MAAMiH,OAAS,IAC/BtI,KAAKsC,gBAAiB,GAEjBtC,KAAKsC,iB,6BAMZ,IADA,IAAM2G,EAAM,GACZ,6BACKjJ,KAAKoE,SAAS2E,gBADnB,aAEK/I,KAAKoE,SAAS4E,eAFnB,eAGG,CAHE,IAAME,EAAC,KAINrH,EAAMsH,OAAOC,UACbtH,EAAMqH,OAAOE,UAFhB,uBAID,YAAgBrJ,KAAK0C,SAASrB,MAA9B,+CAAqC,CAAC,IAA3BqC,EAA0B,QACnC7B,EAAMyH,KAAKxH,IAAIwH,KAAKzH,IAAIA,EAAK6B,EAAEwF,IAAK,MACpCpH,EAAMwH,KAAKxH,IAAIA,EAAK4B,EAAEwF,KANvB,kFASDD,EAAIC,GAAK,CAACrH,EAAKC,GAEjB,OAAOmH,I,oCAKP,OAAOM,UAAOvJ,KAAKqB,MAAMO,KAAKJ,SAC3BgI,OAAOxJ,KAAKyJ,OAAOzJ,KAAKqB,MAAMM,SAC9B+H,MAAM,CAAC1J,KAAKqB,MAAMO,KAAKC,IAAK7B,KAAKqB,MAAMO,KAAKE,Q,qCAK/C,OAAOyH,UAAOvJ,KAAKqB,MAAME,MAAMC,SAC5BgI,OAAOxJ,KAAKyJ,OAAOzJ,KAAKqB,MAAMC,UAC9BoI,MAAM,CAAC1J,KAAKqB,MAAME,MAAME,KAAMzB,KAAKqB,MAAME,MAAMG,O,oCAsB/B,IAAD,OACZhB,EAAQiJ,OA4Bd,OA3BA3J,KAAK0C,SAASrB,MAAMsB,SAAQ,SAAAe,GAE1B,IAAIA,EAAEE,SAAN,CAGA,IAAMgG,EAAW,EAAK9F,UAAU+F,IAAInG,EAAEJ,GAAGP,YACzCrC,EAAMoJ,QAAQpG,EAAEJ,GAAGP,WAAY,CAC7BgH,MAAQH,GAAYA,EAASC,IAAI,UAAanG,EAAE,EAAKrC,MAAMU,SAC3DH,KACGgI,GAAYA,EAASC,IAAI,SAC1B,EAAKG,cAActG,EAAE,EAAKrC,MAAMM,SAClCJ,MACGqI,GAAYA,EAASC,IAAI,UAC1B,EAAKI,eAAevG,EAAE,EAAKrC,MAAMC,UACnCU,MAAQ4H,GAAYA,EAASC,IAAI,UAAanG,EAAE,EAAKrC,MAAMW,OAC3Db,IAAKuC,QAIT1D,KAAK0C,SAASP,MAAMQ,SAAQ,SAAAC,GAGtBlC,EAAMwJ,QAAQtH,EAAEE,UAAUC,aAAerC,EAAMwJ,QAAQtH,EAAEK,UAAUF,aACrErC,EAAMyJ,QAAQvH,EAAEE,UAAUC,WAAYH,EAAEK,UAAUF,eAI/CrC,I,qCAKP,OAAOV,KAAK0C,SAASrB,MAAM8B,QAAO,SAAAO,GAAC,OAAIA,EAAEE,YAAU0E,S,wCAyNnD,IAAM/D,EAAW,CACf7B,SAAU1C,KAAK0C,UAEjB,OAAO0H,aAA6B7F,K,iCAKpC,IAAMA,EAAW,CACf7B,SAAU1C,KAAK0C,UAEjB,OAAO2H,aAAoB9F,K,8BAK3B,IAAMA,EAAW,CACf7B,SAAU1C,KAAK0C,UAEjB,OAAO4H,aAAa/F,K,6BAKpB,IAAMA,EAAW,CACf7B,SAAU1C,KAAK0C,UAEjB,OAAO6H,aAAchG,K,+BAKrB,IAAMA,EAAW,CACf7B,SAAU1C,KAAK0C,UAEjB,OAAO8H,aAAmBjG,O,yCA5b3BvD,e,yEAAmBhB,KAAKoB,oBAAoBC,S,oCAC5CL,e,yEAAmBhB,KAAKoB,oBAAoBe,S,2CAE5CnB,e,yEAA0B,K,4CAC1BA,e,yEAA2B,K,6CAC3BA,e,yEAA4B,K,gDAC5BA,e,yEAA+B,K,8CAC/BA,e,yEAA6B,K,sCAG7BA,e,kHAGAA,e,wEAA2B,M,+CAG3BA,e,+GAMAA,e,wEAAwB,CACvB8E,cAAe,CACbC,UAAU,EACVC,UAAWC,KAAKC,MAChBuE,SAAU,KAGZtE,aAAa,EACbuE,sBAAsB,M,4CAIvB1J,e,yEAA2B,K,mDAM3B2J,a,2IAUA3J,e,wEAAuC,M,6CAEvCA,e,wEACgB,CACfO,MAAO,OACPK,KAAM,EACNmI,MAAO,GACP/H,MAAO,a,uCAGRhB,e,wEACU,CACTK,MAAO,GACPc,MAAO,O,0CAIRnB,e,yEAAyB,Q,uCAEzBA,e,wEACU,CACT4J,UAAW,EACXC,UAAW,EACX9B,eAAgB,GAChBC,aAAc,CAAC,WAAY,UAC3B8B,eAAgB,GAChBC,aAAc,iB,iDAIfJ,a,iMAQuB,Q,oHACI,Q,0CAC3B3J,e,yEAAyB,Q,wCAEzBA,e,yEAAuB,IAAImE,O,0CAC3BnE,e,wEAAyB,Y,qCAIzB2J,a,wGAQAA,a,6GAoBAA,a,qHAOAA,a,qHAyBAA,a,qHAiCAA,a,2HAkFAK,W,oHAuJAL,a,uGAQAA,a,wGAQAA,a,wECvdkBM,I,icA+CnBC,2BAA6B,CAC3B,4CAA6C,SAACxI,GAC5C,IAAMyI,EAAU,aAAOzI,EAASrB,OAChC8J,EAAWlD,MAAK,SAACC,EAAIC,GACjB,OAAID,EAAE,UAAgBC,EAAE,SACbA,EAAE,SAAeD,EAAE,SAEvB,KAGX,IADA,IAAMkD,EAAS,IAAI3I,IACV4F,EAAI,EAAGA,EAAI,IAAMA,EAAI8C,EAAW7C,OAAQD,IAC/C+C,EAAOlI,IAAIiI,EAAW9C,GAAG/E,IAE3BZ,EAASrB,MAAQqB,EAASrB,MAAMoC,KAAI,SAAAC,GAClC,OAAI0H,EAAO/H,IAAIK,EAAEJ,IACR,6BAAII,GAAX,IAAcE,UAAU,IAEnBF,MAGX,YAAa,SAAChB,GACZA,EAASrB,MAAQqB,EAASrB,MAAMoC,KAAI,SAAAC,GAAC,oCAASA,GAAT,IAAYE,UAAU,S,KAI/DyH,iCAAmC,4C,6HAIlB3I,GAEfA,EAASrB,MAAQqB,EAASrB,MAAMoC,KAAI,SAAAC,GAAC,oCAASA,GAAT,IAAYE,UAAU,OAE3D5D,KAAKkL,2BAA2BlL,KAAKsL,mCAAmC5I,O,6CA/EzE1B,e,wEAAuB,M,wCACvBA,e,wEAAuB,M,yCAEvBA,e,yEAAwB,K,6CACxBA,e,yEAA4B,K,sCAE5BA,e,yEAAqB,K,wDAGrBA,e,yEAAuC,Q,wDACvCA,e,yEAAuC,Q,wDAEvCA,e,yEAAuC,Q,2CAEvCA,e,wEACc,CACbuK,SAAU,CACRC,KAAM,GACNC,KAAM,GACNC,YAAY,EACZC,OAAO,EACPC,QAAS,GACTC,QAAS,CACPvI,GAAI,SAENwI,UAAW,KAEbC,SAAU,CACRP,KAAM,GACNG,OAAO,EACPD,YAAY,EACZE,QAAS,GACTH,KAAM,GACNI,QAAS,CACPG,OAAQ,QACRC,KAAM,SAERC,eAAe,EACfJ,UAAW,S,iEAmCd9K,e,yEAA+ChB,KAAKqL,oC,GC1ElCc,I,ijBAElBnL,e,wEAAsB,M,+CAKtBA,e,yEAA4B,Q,oDAG5BA,e,wEAAiC,gB,qDAGjCA,e,wEAAkC,a,uDAKlCA,e,yEAAoC,K,0DACpCA,e,yEAAuC,K,yDACvCA,e,yEAAsC,K,2DACtCA,e,yEAAwC,K,2CAIxCA,e,yEAAwB,K,+CAKxBA,e,wEAA4B,M,wBC9BVoL,I,iPAClBpL,e,wEAAuB,M,2CACvBA,e,wEAAwB,M,8CACxBA,e,yEAA2B,K,0CAC3BA,e,yEAAuB,K,uDCSnB,IAAMqL,GACX,aAAe,qBACbrM,KAAKsM,YAAc,IAAI1M,GACvBI,KAAKU,MAAQ,IAAIQ,GACjBlB,KAAKuM,OAAS,IAAItB,GAClBjL,KAAKwM,OAAS,IAAIJ,GAClBpM,KAAKyM,QAAU,IAAIN,IAIjB1L,GAAW,IAAI4L,GAErBK,OAAOjM,SAAWA,GAElB,IAqCMkM,GAAmC,SAACC,IAvBX,SAACA,GAC9B,IAAMC,EAAG,UAAMC,eAAN,2BAAoCF,GAC7C,OAAOG,MAAMF,EAAK,CAChBG,OAAQ,MACRC,KAAM,SACLC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAAQF,MAAK,SAAAE,GAAI,OAAIA,EAAK,GAAGC,QAAMC,OAAM,SAAAC,GACpEC,KAAQ/E,KAAK,CACXgF,QAAS,iCACTC,OAAQC,KAAOC,OACfC,SAAU,IAEZhN,QAAQ0M,MAAMA,OAahBO,CAAuBlB,GAAMM,MAAK,SAAAa,GAEhCtN,GAASC,MAAM0D,SAAS2G,aAAe,SACvCtK,GAASC,MAAMsN,oBAAoBD,OAIvCrB,OAAOuB,8BAhB+B,SAACpB,IA7BX,SAACA,GAC3B,OAAOE,MAAMF,EAAK,CAChBG,OAAQ,MACRC,KAAM,SACLC,MAAK,SAAAC,GAAQ,OAAIA,EAAS1F,UAAQ6F,OAAM,SAAAC,GACzCC,KAAQ/E,KAAK,CACXgF,QAAS,iCACTC,OAAQC,KAAOC,OACfC,SAAU,IAEZhN,QAAQ0M,MAAMA,OAoBhBW,CAAoBrB,GAAKK,MAAK,SAAAa,GAE5BtN,GAASC,MAAM0D,SAAS2G,aAAe8B,EAAIsB,MAAM,KAAKC,OAASvB,EAAIsB,MAAM,KAAKC,MAAMA,MACpF3N,GAASC,MAAMsN,oBAAoBD,OAavCrB,OAAOC,iCAAmCA,GAE1CD,OAAO2B,uBAAP,wBAAgC,6BAAAC,EAAA,yDAEpB,+DAGN5B,OAAO6B,SAASC,KALU,sBAMtBA,EAAO9B,OAAO6B,SAASC,KAAKC,UAAU,IAEnCnG,QAAU,GAAKkG,EAAKE,WAAW,SARZ,gBAS1B,IACQC,mBAAmBH,GACzB,MAAO5L,GACP/B,QAAQ0M,MAAM3K,GACdgM,MAAM,8BAbkB,6BAkB1BjC,GAAiC6B,GAlBP,0BAwB9B7B,GAAiCkC,0BAAuB,GAAG,IAxB7B,4CA2BhCnC,OAAOoC,qBAAuB,WAE5B,OADuBrO,GAASC,MAAMqO,uBAKxCrC,OAAOsC,iBAAiB,QAAQ,SAACC,GAC/BvC,OAAO2B,4BAOTa,oBAAQ,YACDzO,GAASC,MAAMyO,UAAY1O,GAASC,MAAMgC,SAASrB,MAAMiH,OAAS,IACrE7H,GAASC,MAAMyO,UAAW,MAI9BD,oBAAQ,WACFzO,GAASC,MAAMC,QACjBF,GAASC,MAAMC,MAAMyO,YAAY3O,GAASC,MAAMkG,eAChDnG,GAASC,MAAMC,MAAM0O,6BAA6B5O,GAASC,MAAMW,MAAMW,MAAOvB,GAASC,MAAMoD,WAC7FrD,GAASC,MAAMC,MAAM2O,qBAAqB7O,GAASC,MAAMW,MAAMY,WAC/DxB,GAASC,MAAMC,MAAM4O,eAAe9O,GAASC,MAAMW,MAAMa,cAI3DzB,GAASC,MAAM8O,cAGjBN,oBAAQ,WACFzO,GAASC,MAAMC,OAASF,GAASC,MAAMqD,YAEzCtD,GAASC,MAAMC,MAAM8O,gBAAgBhP,GAASC,MAAMqD,WACpDtD,GAASC,MAAMqD,UAAY,KAC3BlD,QAAQC,IAAI,iCAGVL,GAASC,MAAMC,OAASF,GAASC,MAAMgF,4BACzCjF,GAASC,MAAMC,MAAM+O,WAAWjP,GAASC,MAAMgF,2BAC/CjF,GAASC,MAAMgF,0BAA4B,SAI/CwJ,oBAAQ,WACN,IAAMS,EAAYlP,GAAS+L,OAAOmD,UAC9BA,EAAUrH,QAAU,EACtBsH,aAAUD,IAEVlP,GAAS+L,OAAOqD,WAAY,EAC5BpP,GAAS+L,OAAOsD,WAAWC,OAAO,EAAGtP,GAAS+L,OAAOsD,WAAWxH,QAC5D7H,GAASC,MAAMC,OACjBF,GAASC,MAAMC,MAAMqP,iBAAiB,IAAI,OAMhDd,oBAAQ,WACN,IAAMe,EAAOxP,GAAS8L,OAAO2D,0BACvBC,EAAY1P,GAAS8L,OAAO6D,aAAarE,SAASL,WAClDI,EAAYrL,GAAS8L,OAAO6D,aAAarE,SAASD,UAExD,GAAKmE,EAAL,CAGA,IAAMI,EAAS,IAAIC,WACnBD,EAAOE,WAAWN,GAElBI,EAAOG,OAAS,WAEd,IAEMC,EAFeJ,EAAOK,OAEDvC,MAAM,MAE3BwC,GADaF,EAAMnI,OACAmI,EAAMhN,KAAI,SAAAmN,GAAC,OAAIA,EAAEC,UAAQ1N,QAAO,SAACyN,EAAGvI,GAAJ,OAAUA,EAAI,MAAIyI,KAAK,OAChFjQ,QAAQC,IAAI6P,GAGZ,IACE,IAAMI,EAAKZ,EAAYlL,KAAM0L,EAAkB,CAC7CK,QAAS,IACTH,MAAM,EACNI,YAAY,EACZC,kBAAkB,EAClBtF,QAASuE,EACTrE,cACG7G,KAAM0L,EAAkB,CAC3BK,QAAS,IACTH,MAAM,EACNI,YAAY,EACZC,kBAAkB,EAClBtF,aAASlH,EACToH,cAEFtI,uBAAY,oCAAoC,WAC9C/C,GAAS8L,OAAO6D,aAAarE,SAASN,KAAOsF,EAC7CtQ,GAAS8L,OAAO6D,aAAarE,SAASH,QAAUxG,OAAO+L,KAAKJ,EAAG,IAAItN,KAAI,SAAAiE,GAAG,gBAAOA,MACjFjH,GAAS8L,OAAO6D,aAAarE,SAASF,QAAQG,OAASvL,GAAS8L,OAAO6D,aAAarE,SAASH,QAAQ,GACrGnL,GAAS8L,OAAO6D,aAAarE,SAASF,QAAQI,KAAOxL,GAAS8L,OAAO6D,aAAarE,SAASH,QAAQ,GACnGnL,GAAS8L,OAAO6D,aAAarE,SAASJ,OAAQ,KAEhD,SACA6B,KAAQ/E,KAAK,CACXgF,QAAS,6BACTC,OAAQC,KAAOC,OACfC,SAAU,MAKhBwC,EAAOe,QAAU,WACfvQ,QAAQ0M,MAAM8C,EAAO9C,OACrBC,KAAQ/E,KAAK,CACXgF,QAAS,4BACTC,OAAQC,KAAOC,OACfC,SAAU,SAKhBqB,oBAAQ,WACN,IAAMe,EAAOxP,GAAS8L,OAAO8E,0BACvBlB,EAAY1P,GAAS8L,OAAO6D,aAAa7E,SAASG,WAClDI,EAAYrL,GAAS8L,OAAO6D,aAAa7E,SAASO,UAExD,GAAKmE,EAAL,CAGA,IAAMI,EAAS,IAAIC,WACnBD,EAAOE,WAAWN,GAElBI,EAAOG,OAAS,WAEd,IAEMC,EAFeJ,EAAOK,OAEDvC,MAAM,MAE3BwC,GADaF,EAAMnI,OACAmI,EAAMhN,KAAI,SAAAmN,GAAC,OAAIA,EAAEC,UAAQ1N,QAAO,SAACyN,EAAGvI,GAAJ,OAAUA,EAAI,MAAIyI,KAAK,OAChFjQ,QAAQC,IAAI6P,GAGZ,IACE,IAAMI,EAAKZ,EAAYlL,KAAM0L,EAAkB,CAC7CK,QAAS,IACTH,MAAM,EACNI,YAAY,EACZC,kBAAkB,EAClBtF,QAASuE,EACTrE,cACG7G,KAAM0L,EAAkB,CAC3BK,QAAS,IACTH,MAAM,EACNI,YAAY,EACZC,kBAAkB,EAClBtF,aAASlH,EACToH,cAGFtI,uBAAY,oCAAoC,WAC9C/C,GAAS8L,OAAO6D,aAAa7E,SAASE,KAAOsF,EAC7CtQ,GAAS8L,OAAO6D,aAAa7E,SAASK,QAAUxG,OAAO+L,KAAKJ,EAAG,IAAItN,KAAI,SAAAiE,GAAG,gBAAOA,MACjFjH,GAAS8L,OAAO6D,aAAa7E,SAASM,QAAQvI,GAAK7C,GAAS8L,OAAO6D,aAAa7E,SAASK,QAAQ,GACjGnL,GAAS8L,OAAO6D,aAAa7E,SAASI,OAAQ,KAEhD,SACA6B,KAAQ/E,KAAK,CACXgF,QAAS,4BACTC,OAAQC,KAAOC,OACfC,SAAU,MAKhBwC,EAAOe,QAAU,WACfvQ,QAAQ0M,MAAM8C,EAAO9C,OACrBC,KAAQ/E,KAAK,CACXgF,QAAS,4BACTC,OAAQC,KAAOC,OACfC,SAAU,SAKDpN,c,sSC7NA6Q,EA9DdC,Y,mLAGG,OACE,kBAAC,IAAD,CACEC,SAAS,MACTC,UAAWC,IAAW,eACnBC,IAAQC,KAAOnR,UAAS6L,YAAYvM,WAEvC8R,OAAQpR,UAAS6L,YAAYwF,WAC7BC,QAAS,WACPtR,UAAS6L,YAAYwF,YAAa,GAEpCE,MAAM,eAEN,yBAAKP,UAAU,kBACb,kBAAC,IAAD,CACE1H,MAAM,YACNkI,QAASxR,UAAS6L,YAAYvM,SAC9BmS,SAAU,WACRzR,UAAS6L,YAAYvM,UAAYU,UAAS6L,YAAYvM,SACtDU,UAAS6L,YAAY6F,iBACjB1R,UAASC,MAAMC,OACjBF,UAASC,MAAMC,MAAMyR,gBAK3B,kBAAC,IAAD,CACCrI,MAAM,UACNkI,QAASxR,UAAS6L,YAAYjM,eAC9B6R,SAAU,WACTzR,UAAS6L,YAAYjM,gBAAkBI,UAAS6L,YAAYjM,eAC5DI,UAAS6L,YAAY6F,iBACjB1R,UAASC,MAAMC,MACbF,UAAS6L,YAAYjM,eACvBI,UAASC,MAAMC,MAAMI,cAErBN,UAASC,MAAMC,MAAMC,cAGvBC,QAAQC,IAAI,sDAKlB,yBAAK2Q,UAAU,oBACb,yBAAKA,UAAU,4BACb,kBAAC,IAAD,CACE/D,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAAS6L,YAAYwF,YAAa,GAEpCrK,KAAK,gB,GApDa6K,IAAMC,a,mDCJvB,mBAAGC,EAAH,EAAGA,KAAMX,EAAT,EAASA,OAAQY,EAAjB,EAAiBA,SAAUpL,EAA3B,EAA2BA,SAA3B,OACb,6BACE,kBAAC,IAAD,CACEoK,UAAWC,IAAWC,IAAQe,MAAOf,IAAQgB,KAAMhB,IAAQiB,QAAS,mBACpEC,cAAehB,EAAS,aAAe,eACvCtK,QAASkL,GAERD,GAEH,kBAAC,KAAD,CAAUX,OAAQA,GAASxK,K,mBCVhB,mBAAGyL,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,KAAMhN,EAAtB,EAAsBA,SAAtB,OACb,kBAAC,KAAD,CACE0L,UAAW1L,EAAW4L,IAAQqB,OAAS,GACvCtL,IAAKqL,EACLxL,QAASuL,EACTrL,KAAMsL,KCHK,mBAAGE,EAAH,EAAGA,MAAOC,EAAV,EAAUA,SAAUC,EAApB,EAAoBA,MAApB,IAA2BC,YAA3B,gBACb,kBAAC,KAAD,CACEH,MAAOA,EACPI,aAAcC,GACdC,YAAY,EACZC,aAAcN,GAEd,kBAAC,IAAD,CAAQzB,UAAW2B,EAAOzB,IAAQgB,KAAO,KAAMlL,KAAM0L,M,SCsB1CM,GAlBdlC,Y,mLAGG,OACE,mDAEM,kBAACmC,GAAD,CACIT,MAAO7N,OAAO+L,KAAK1Q,UAAS8L,OAAOrB,4BACnCiI,MAAO1S,UAAS8L,OAAOjB,kCACvB4H,SAAU,SAACS,GACPlT,UAAS8L,OAAOjB,kCAAoCqI,U,GATxCrB,IAAMC,a,ECShCqB,GADLrC,Y,mLAGG,IAAMtB,EAAOjQ,KAAK6T,MAAM5D,KACxB,OACE,kBAAC,IAAD,CACEwB,UAAU,uBACVqC,QAAS7D,EAAKxE,KAAKnD,OACnByL,gBAAiB3O,OAAO4O,OAAO/D,EAAKpE,SACjCpI,KAAI,SAAAsN,GAAE,OAAId,EAAKrE,QAAQqI,QAAQlD,MAC/BtN,KAAI,SAAAsN,GAAE,MAAK,CAAEmD,KAAM,KAAMC,KAAM,CAACpD,EAAIA,QAEtCd,EAAKrE,QAAQnI,KAAI,SAAAsN,GAAE,OAClB,kBAAC,KAAD,CACErJ,IAAKqJ,EACLyB,KAAMzB,EACNqD,WAAY,SAAA/L,GAAC,OAAI,kBAAC,KAAD,KAAO4H,EAAKxE,KAAKpD,GAAG0I,e,GAftBuB,IAAMC,a,EAoPlB8B,GA7Nd9C,Y,cAEC,WAAYsC,GAAQ,IAAD,8BACjB,4CAAMA,KASRS,gBAAkB,SAAAC,GACZA,IAAgBC,oBAClB/T,UAAS8L,OAAO6D,aAAarE,SAASG,eAAgB,GAExD,EAAKuI,SAAS,CAAEC,UAAWH,KAdV,EAiBnBI,UAAY,WACV,OAAI,EAAKC,MAAMF,YAAcG,sBAEzBpU,UAAS8L,OAAO6D,aAAarE,SAASJ,OACtClL,UAAS8L,OAAO6D,aAAa7E,SAASI,MAE/B,EAAKiJ,MAAMF,YAAcF,mBAC3B/T,UAAS8L,OAAO6D,aAAarE,SAASJ,OAxB9B,EA6BnBmJ,qBAAuB,WACrB,IAAMvJ,EAAW9K,UAAS8L,OAAO6D,aAAa7E,SAC9C,OAAI,EAAKqJ,MAAMF,YAAcF,kBACpB,KAGP,kBAACO,GAAD,CACEvC,KAAK,QACLX,OAAQ,EAAK+C,MAAMI,UACnBvC,SAAU,kBAAM,EAAKgC,SAAS,CAAEO,WAAY,EAAKJ,MAAMI,cAEvD,yBAAKvD,UAAWC,IAAWC,IAAQsD,gBACjC,yBAAKxD,UAAWC,IAAWC,IAAQuD,YAAavD,IAAQgB,OACtD,2BACEwC,KAAK,OACL1D,UAAWC,IAAWC,IAAQyD,UAC9BlD,SAAU,SAACjD,GACLA,EAAMjM,OAAOqS,MAAM/M,OAAS,IAGhC7H,UAAS8L,OAAO8E,0BAA4BpC,EAAMjM,OAAOqS,MAAM,SAKvE,kBAAC,IAAD,CACEtL,MAAM,cACNkI,QAAS1G,EAASG,WAClBwG,SAAU,kBAAO3G,EAASG,YAAcH,EAASG,cAElDH,EAASI,OACR,yBAAK8F,UAAU,oBACb,kBAAC,GAAD,CAAcxB,KAAM1E,IADtB,sBAGE,kBAACmI,GAAD,CACET,MAAO1H,EAASK,QAChBuH,MAAO5H,EAASM,QAAQvI,GACxB4P,SAAU,SAAAnC,GAAE,OAAKxF,EAASM,QAAQvI,GAAKyN,QAlEhC,EA0EnBuE,qBAAuB,WACrB,IAAMvJ,EAAWtL,UAAS8L,OAAO6D,aAAarE,SAC9C,OACE,kBAACgJ,GAAD,CACEvC,KAAK,QACLX,OAAQ,EAAK+C,MAAMW,UACnB9C,SAAU,kBAAM,EAAKgC,SAAS,CAAEc,WAAY,EAAKX,MAAMW,cAEvD,yBAAK9D,UAAWC,IAAWC,IAAQsD,gBACjC,yBAAKxD,UAAWC,IAAWC,IAAQuD,YAAavD,IAAQgB,OACtD,2BACEwC,KAAK,OACL1D,UAAWC,IAAWC,IAAQyD,UAC9BlD,SAAU,SAACjD,GACLA,EAAMjM,OAAOqS,MAAM/M,OAAS,IAGhC7H,UAAS8L,OAAO2D,0BAA4BjB,EAAMjM,OAAOqS,MAAM,SAKvE,kBAAC,IAAD,CACEtL,MAAM,cACNkI,QAASlG,EAASL,WAClBwG,SAAU,kBAAOnG,EAASL,YAAcK,EAASL,cAEnD,kBAAC,IAAD,CACE3B,MAAM,uBACNkI,QAASlG,EAASG,cAClBsJ,SAAU,EAAKZ,MAAMF,YAAcF,kBACnCtC,SAAU,kBAAOnG,EAASG,eAAiBH,EAASG,iBAErDH,EAASJ,OACR,yBAAK8F,UAAU,oBACb,kBAAC,GAAD,CAAcxB,KAAMlE,IADtB,wBAGE,kBAAC2H,GAAD,CACET,MAAOlH,EAASH,QAChBuH,MAAOpH,EAASF,QAAQG,OACxBkH,SAAU,SAAAnC,GAAE,OAAKhF,EAASF,QAAQG,OAAS+E,KAC1C,IACH,6BARF,wBAUE,kBAAC2C,GAAD,CACET,MAAOlH,EAASH,QAChBuH,MAAOpH,EAASF,QAAQI,KACxBiH,SAAU,SAAAnC,GAAE,OAAKhF,EAASF,QAAQI,KAAO8E,QAvHnD,EAAK6D,MAAQ,CACXF,UAAWF,kBACXQ,WAAW,EACXO,WAAW,EACXzJ,UAAW,KANI,E,6EAiIF2J,GACfzV,KAAKyU,SAAS,CAAC3I,UAAW2J,IAEN,OAAhBA,IACFA,EAAe,MAGjBhV,UAAS8L,OAAO6D,aAAarE,SAASD,UAAY2J,EAClDhV,UAAS8L,OAAO6D,aAAa7E,SAASO,UAAY2J,I,iDAGxB,IAAD,OACzB,OACE,yBAAKhE,UAAU,oBAAf,qBAEE,kBAACiC,GAAD,CACET,MAAO,CAAC,IAAK,MAAO,KACpBE,MAAOnT,KAAK4U,MAAM9I,UAClBoH,SAAU,SAAAnC,GAAQ,EAAK2E,gBAAgB3E,MACtC,O,+BAKC,IAAD,OACP,OACE,kBAAC,IAAD,CACES,SAAS,SACTC,UAAWC,IAAW,eACnBC,IAAQC,KAAOnR,UAAS6L,YAAYvM,WAEvC8R,OAAQpR,UAAS8L,OAAOuF,WACxBC,QAAS,WACPtR,UAAS8L,OAAOuF,YAAa,GAE/BE,MAAM,cAELvR,UAAS8L,OAAOoJ,QACf,kBAAC,IAAD,MAEA,6BACE,yBAAKlE,UAAWC,IAAWC,IAAQiE,YAAa,kBAAhD,UAEE,kBAAClC,GAAD,CACET,MAAO,CAACuB,kBAAgBK,uBACxB1B,MAAOnT,KAAK4U,MAAMF,UAClBxB,SAAUlT,KAAKsU,kBAEhBtU,KAAK8U,uBACL9U,KAAKsV,uBACLtV,KAAK6V,2BACN,6BACA,kBAAC,GAAD,OAEF,yBAAKpE,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACEtE,UAAWC,IAAW,eACnBC,IAAQyD,UAAYpV,KAAK2U,cAE5BjH,OAAQC,IAAO0E,QACf9K,QAAS,WAIP9G,UAASC,MAAMiF,kBAEfqQ,YAAwB,CACtBxD,KAAM/R,UAASgM,QAAQwJ,eACvBC,aAAa,IAAIjQ,MAAOkQ,mBAE1BC,YACE,EAAKxB,MAAMF,YAAcG,sBAAoBpU,UAAS8L,OAAO6D,aAAarE,SAASD,UAAWrL,UAASgM,QAAQwJ,gBAKjHxV,UAASC,MAAMC,MAAM0V,2BAEvB5O,KAAK,mB,GAjNI6K,IAAMC,a,ECuClB+D,GAxEd/E,Y,+LAIG,OACE,yBAAKE,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACEtE,UAAWC,IAAW,eACnBC,IAAQyD,SAAwD,MAA7C3U,UAAS8L,OAAOgK,4BAEtC7I,OAAQC,IAAO0E,QACf9K,QAAS,WAIN9G,UAASC,MAAMiF,kBAEhBlF,UAAS8L,OAAOoJ,SAAU,EAC1Ba,eAEF/O,KAAK,e,+BAQb,OACE,kBAAC,IAAD,CACE+J,SAAS,SACTC,UAAWC,IAAW,eACnBC,IAAQC,KAAOnR,UAAS6L,YAAYvM,WAEvC8R,OAAQpR,UAAS8L,OAAOkK,eACxB1E,QAAS,WACPtR,UAAS8L,OAAOkK,gBAAiB,EACjChW,UAAS8L,OAAOoJ,SAAU,GAE5B3D,MAAM,eAELvR,UAAS8L,OAAOoJ,QACf,kBAAC,IAAD,MAEA,yBAAKlE,UAAWC,IAAWC,IAAQiE,YAAa,kBAC9C,6BACE,yBAAKnE,UAAWC,IAAWC,IAAQsD,gBACjC,yBAAKxD,UAAWC,IAAWC,IAAQuD,YAAavD,IAAQgB,OACxD,2BACEwC,KAAK,OACL1D,UAAWC,IAAWC,IAAQyD,UAC9BlD,SAAU,SAACjD,GACLA,EAAMjM,OAAOqS,MAAM/M,OAAS,IAGhC7H,UAAS8L,OAAOgK,0BAA4BtH,EAAMjM,OAAOqS,MAAM,SAKvE,6BACA,kBAAC,GAAD,OAECrV,KAAK0W,2B,GA/DapE,IAAMC,a,EC2HtBoE,GAnHdpF,Y,cAEC,WAAYsC,GAAQ,IAAD,8BACjB,4CAAMA,KAQRc,UAAY,WACV,OAAI,EAAKC,MAAMF,YAAckC,wBACpBnW,UAAS8L,OAAOsK,WAAapW,UAAS8L,OAAOuK,UAE7CrW,UAAS8L,OAAOuK,WAbR,EAkBnBxC,gBAAkB,SAAAC,GACZA,IAAgBC,oBAClB/T,UAAS8L,OAAO6D,aAAarE,SAASG,eAAgB,GAExD,EAAKuI,SAAS,CAAEC,UAAWH,KAtBV,EAyBnBwC,kBAAoB,WAClB,OACE,yBAAKtF,UAAWC,IAAWC,IAAQsD,gBACjC,yBAAKxD,UAAWC,IAAWC,IAAQuD,YAAavD,IAAQgB,OACtD,2BACEwC,KAAK,OACL1D,UAAWC,IAAWC,IAAQyD,SAAUzD,IAAQqF,OAChDC,YAAY,oBACZC,UAAQ,EACR/D,MAAO1S,UAAS8L,OAAOuK,aAG3B,kBAAC,IAAD,CAAQpJ,OAAQC,IAAO0E,QAAS9K,QAAS4P,KAAzC,iBArCa,EA4CnBC,kBAAoB,WAClB,OACE,yBAAK3F,UAAWC,IAAWC,IAAQsD,gBACjC,yBAAKxD,UAAWC,IAAWC,IAAQuD,YAAavD,IAAQgB,OACtD,2BACEwC,KAAK,OACL1D,UAAWC,IAAWC,IAAQyD,SAAUzD,IAAQqF,OAChDC,YAAY,uBACZC,UAAQ,EACR/D,MAAO1S,UAAS8L,OAAOsK,aAG3B,kBAAC,IAAD,CAAQnJ,OAAQC,IAAO0E,QAAS9K,QAAS8P,KAAzC,iBAtDJ,EAAKzC,MAAQ,CACXF,UAAW4C,mBACXC,cAAe,KACfC,cAAe,MALA,E,sEAgEjB,OACE,kBAAC,IAAD,CACEhG,SAAS,SACTC,UAAWC,IAAW,eACnBC,IAAQC,KAAOnR,UAAS6L,YAAYvM,WAEvC8R,OAAQpR,UAAS6L,YAAYmL,eAC7B1F,QAAS,WACPtR,UAAS6L,YAAYmL,gBAAiB,GAExCzF,MAAM,aAELvR,UAAS8L,OAAOoJ,QACf,kBAAC,IAAD,MAEA,6BACE,yBAAKlE,UAAWC,IAAWC,IAAQiE,YAAa,kBAAhD,UAEE,kBAAClC,GAAD,CACET,MAAO,CAAC2D,wBAAsBU,oBAC9BnE,MAAOnT,KAAK4U,MAAMF,UAClBxB,SAAUlT,KAAKsU,kBAEhBtU,KAAK+W,oBACL/W,KAAK4U,MAAMF,YAAckC,yBACxB5W,KAAKoX,qBAET,yBAAK3F,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACEtE,UAAWC,IAAW,eACnBC,IAAQyD,UAAYpV,KAAK2U,cAE5BjH,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAAS6L,YAAYmL,gBAAiB,EACtCC,eAEFjQ,KAAK,iB,GAvGE6K,IAAMC,a,ECyChBoF,GAvDdpG,Y,mLAIG,IAAMqG,EAA4BnX,UAASgM,QAAQoL,SAASC,MAAK,SAAA5O,GAAC,OAAIA,EAAEsJ,OAAS/R,UAASgM,QAAQwJ,kBAC5F8B,EAAmE,KAA3CtX,UAASgM,QAAQwJ,eAAepF,OACxDmH,IAAgBJ,GAA6BG,GAEnD,OACE,kBAAC,IAAD,CACEvG,SAAS,WACTK,OAAQpR,UAASgM,QAAQwL,uBACzBlG,QAAS,WACPtR,UAASgM,QAAQwL,wBAAyB,GAE5CjG,MAAM,sBAEN,yBAAKP,UAAWE,IAAQiE,aACtB,2BAAOnE,UAAU,sBAAjB,eAEE,0BAAMA,UAAU,iBAAhB,cAA4CmG,GAA6B,wCACzE,2BACEnG,UAAU,WACV0D,KAAK,OACL8B,YAAY,cACZiB,IAAI,OACJ/E,MAAO1S,UAASgM,QAAQwJ,eACxB/D,SAAU,SAAAjD,GACRxO,UAASgM,QAAQwJ,eAAiBhH,EAAMjM,OAAOmQ,WAKvD,yBAAK1B,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACEtE,UAAWC,IAAW,eACnBC,IAAQyD,UAAY4C,IAEvBtK,OAAQC,IAAO0E,QACf9K,QAAS,WACHyQ,IACFvX,UAASgM,QAAQwL,wBAAyB,EAC1CxX,UAAS8L,OAAOuF,YAAa,IAGjCrK,KAAK,gB,GA7CY6K,IAAMC,a,qBC4FtB4F,GA3Fd5G,Y,mLAGG,OACE9Q,UAASgM,QAAQ2L,gBACf,kBAAC,IAAD,CACE5G,SAAS,WACTK,OAAQpR,UAASgM,QAAQ4L,0BACzBtG,QAAS,WACPtR,UAASgM,QAAQ4L,2BAA4B,GAE/CrG,MAAK,eAAUvR,UAASgM,QAAQ2L,eAAe5F,KAA1C,aAEJ/R,UAASgM,QAAQ2L,eAAeE,aAC/B,yBAAK7G,UAAWE,IAAQiE,aACtB,kBAAC,KAAD,CACE2C,aAAa,EACbC,UAAWC,KAAKC,cAChBnR,QAAS,WACP9G,UAAS8L,OAAOuK,UACdrW,UAASgM,QAAQ2L,eAAeO,cAClClY,UAASgM,QAAQ4L,2BAA4B,EAC7CX,gBAGF,kBAAC,KAAD,CAAMlG,SAAS,UAVjB,oCAYA,6BACA,yBAAKC,UAAU,yBAAf,yBACA,6BACGhR,UAASgM,QAAQ2L,eAAeQ,cAAcnV,KAC7C,SAAAoV,GACE,OACE,yBAAKnR,IAAKmR,GACR,kBAAC,KAAD,CACEN,aAAa,EACbC,UAAWC,KAAKC,eAGhB,4BACGG,EACEC,QAAQ,YAAa,IACrBA,QAAQ,YAAa,KAE1B,kBAAC,IAAD,CACErH,UAAWC,IAAW,CACpBC,IAAQoH,OACRpH,IAAQqH,iBAEVzR,QAAS,WACP9G,UAAS8L,OAAOuK,UACdrW,UAASgM,QAAQ2L,eAAeO,cAClClY,UAAS8L,OAAOsK,UAAYgC,EAC5BpY,UAASgM,QAAQwM,oBAAsBJ,EACpCC,QAAQ,YAAa,IACrBA,QAAQ,YAAa,IACxBrY,UAASgM,QAAQ4L,2BAA4B,EAC7CX,gBAbJ,iBAkBA,kBAAC,IAAD,CACEjG,UAAWC,IAAW,CAACC,IAAQoH,SAC/BxR,QAAS,WACL2R,YAAcL,GACdpY,UAASgM,QAAQ2L,eAAeQ,cAAgBnY,UAASgM,QAAQ2L,eAAeQ,cAAczV,QAC5F,SAAAqI,GAAI,OAAIA,IAASqN,OALzB,iBAmBd,mG,GAhFsBvG,IAAMC,a,ECyEzB4G,GA/Dd5H,Y,mLAUG,OACI,kBAAC,IAAD,CACEC,SAAS,WACTK,OAAQpR,UAASgM,QAAQ2M,yBACzBrH,QAAS,WACPtR,UAASgM,QAAQ2M,0BAA2B,GAE9CpH,MAAK,iBAEL,yBAAKP,UAAWC,IAAWC,IAAQiE,cAajC,yJACA,2BAAOtS,GAAG,oBAAoB6R,KAAK,WAAWhC,MAAO1S,UAASgM,QAAQ4M,qBAAsBnC,UAAQ,IACpG,4BACE3P,QAAS,WACP+R,SAASC,eAAe,qBAAqBC,SAC7CF,SAASG,YAAY,UAHzB,sBAUF,yBAAKhI,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CAIErI,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAASgM,QAAQ2M,0BAA2B,GAE9C3R,KAAK,gB,GArDY6K,IAAMC,a,ECyCxB4G,GAtDd5H,Y,cAEC,WAAYsC,GAAQ,IAAD,8BACjB,4CAAMA,KACDe,MAAQ,CACXpC,KAAM,IAHS,E,sEAOT,IAAD,OACP,OACI,kBAAC,IAAD,CACEhB,SAAS,WACTK,OAAQpR,UAASgM,QAAQiN,2BACzB3H,QAAS,WACPtR,UAASgM,QAAQiN,4BAA6B,GAEhD1H,MAAK,mBAEL,yBAAKP,UAAWC,IAAWC,IAAQiE,cACjC,2BAAOnE,UAAU,sBAAjB,gBAEE,0BAAMA,UAAU,iBAAhB,eACA,2BACEA,UAAU,WACV0D,KAAK,OACL8B,YAAY,cACZiB,IAAI,OACJ/E,MAAOnT,KAAK4U,MAAMpC,KAClBN,SAAU,SAAAjD,GAAK,OAAI,EAAKwF,SAAS,CAAEjC,KAAMvD,EAAMjM,OAAOmQ,aAK5D,yBAAK1B,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACEtE,UAAWC,IAAW,eACnBC,IAAQyD,UAAYpV,KAAK4U,MAAMpC,OAElC9E,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAASC,MAAM0D,SAAS2G,aAAe,EAAK6J,MAAMpC,KAClD/R,UAASgM,QAAQiN,4BAA6B,GAEhDjS,KAAK,gB,GA5CY6K,IAAMC,a,WC0ExBoH,GA9EdpI,Y,cAEC,WAAYsC,GAAQ,IAAD,8BACjB,4CAAMA,KACDe,MAAQ,CACTgF,aAAc,MAHD,E,sEAOT,IAAD,OACP,OACE,kBAAC,IAAD,CACEpI,SAAS,SACTC,UAAWC,IAAW,eACnBC,IAAQC,KAAOnR,UAAS6L,YAAYvM,WAEvC8R,OAAQpR,UAAS6L,YAAYuN,uBAC7B9H,QAAS,WACPtR,UAAS6L,YAAYuN,wBAAyB,GAEhD7H,MAAM,aAEN,6BACI,yBAAKP,UAAWC,IAAWC,IAAQiE,cAC/B,yBAAKnE,UAAWC,IAAWC,IAAQsD,gBAC/B,yBAAKxD,UAAWC,IAAWC,IAAQuD,YAAavD,IAAQgB,OACpD,2BACIwC,KAAK,OACL1D,UAAWC,IAAWC,IAAQyD,UAC9BlD,SAAU,SAACjD,GACHA,EAAMjM,OAAOqS,MAAM/M,OAAS,GAGhC,EAAKmM,SAAS,CACVmF,aAAc3K,EAAMjM,OAAOqS,MAAM,WAOzD,yBAAK5D,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACEtE,UAAWC,IAAW,eACnBC,IAAQyD,UAAYpV,KAAK4U,MAAMgF,eAElClM,OAAQC,IAAO0E,QACf9K,QAAS,WAEP9G,UAAS6L,YAAYuN,wBAAyB,EAG9CrM,KAAQ/E,KAAK,CACTgF,QAAS,yCACTC,OAAQC,IAAOmM,KACfjM,QAAS,MAIb,IAAMwC,EAAS,IAAIC,WACnBD,EAAOE,WAAW,EAAKqE,MAAMgF,cAE7BvJ,EAAOG,OAAS,WACZ,IAAMuJ,EAAe1J,EAAOK,OAC5BjQ,UAASC,MAAMsN,oBAAoB+L,KAGzCtS,KAAK,iB,GAnEU6K,IAAMC,a,kDCKjCyH,GAASC,EAAQ,KA0QRC,GAxQd3I,Y,cAGG,WAAYsC,GAAQ,IAAD,8BACf,4CAAMA,KACDe,MAAQ,CACTuF,UAAU,EACVC,YAAY,EACZC,UAAW,wBACXC,kBAAkB,GAGtB,EAAKC,cAAgB,EAAKA,cAAcC,KAAnB,iBATN,E,sHAeC5N,G,+EAEV6N,E,UAAgB3N,e,uBAETC,MAAM0N,EAAY,CAC3BzN,OAAQ,OACRC,KAAM,OACNyN,MAAO,WACPC,QAAS,CACL,eAAgB,oBAEpBC,SAAU,cACVvN,KAAMxI,KAAKC,UAAU,CACjB8H,OACAS,KAAMX,OAAOoC,2BAElB5B,MAAK,SAAAC,GAAQ,OAAIA,EAAS0N,MAAIvN,OAAM,SAAAC,GACnCC,KAAQ/E,KAAK,CACTgF,QAAS,yDACTC,OAAQC,IAAOC,OACfC,SAAU,O,yKAKZ,IAAD,OAIL,OACI,kBAAC,IAAD,CACI2D,SAAS,WACTK,OAAQpR,UAAS6L,YAAYwO,gBAC7B/I,QAAS,WACLtR,UAAS6L,YAAYwO,iBAAkB,EACvC,EAAKrG,SAAL,6BACO,EAAKG,OADZ,IAEI0F,kBAAkB,MAG1BtI,MAAK,uBACL+I,MAAO,CAAEC,MAAQhb,KAAK4U,MAAM0F,iBAAyB,IAAN,MAE/C,yBAAK7I,UAAWC,IAAWC,IAAQiE,eAE1B5V,KAAK4U,MAAM0F,kBACR,6BACI,uBAAGS,MAAO,CAAEjU,QAAS,SAAUmU,YAAa,SAA5C,iCACR,4CADQ,QACiB,2CADjB,UAC2C,wDAEtCjb,KAAK4U,MAAM0F,kBACR,kBAAC,IAAD,CACI7I,UAAWC,IAAW,eACjBC,IAAQyD,SAAWpV,KAAK4U,MAAMwF,aAEnC1M,OAAQC,IAAO0E,QACf9K,QAAO,wBAAE,+BAAA+G,EAAA,6DACL,EAAKmG,SAAS,CAAE2F,YAAY,IAEtBxN,EAAOoN,KAEPK,EALD,sDAK4DzN,GAL5D,SAQwB,EAAK2N,cAAc3N,GAR3C,cAWD,EAAK6H,SAAS,CAAE2F,YAAY,EAAOD,UAAU,EAAME,eAGnD,EAAK5F,SAAS,CAAE2F,YAAY,EAAOD,UAAU,IAC7C3M,KAAQ/E,KAAK,CACTgF,QAAS,+DACTC,OAAQC,IAAOC,OACfC,SAAU,KAGlB,EAAK4G,SAAL,6BACO,EAAKG,OADZ,IAEI0F,kBAAkB,KAvBjB,2CA0BT7S,KAAK,aAIjB,6BAEA,yBAAKgK,UAAU,+BAA+BsJ,MAAO,CAACG,aAAc,SAChE,uBAAGzJ,UAAU,oBAAb,8QAAiS,uDAAjS,yBAEJ,yBAAKA,UAAU,+BACX,uBAAGA,UAAU,qBAAoB,yCAAjC,0NAMZzR,KAAK4U,MAAMwF,YACP,uBAAGW,MAAO,CAACI,UAAW,SAAS,mEAInCnb,KAAK4U,MAAM0F,kBACP,wEAGI,6BACA,2BACIhX,GAAG,oBACH6R,KAAK,WACLhC,MAAOnT,KAAK4U,MAAMyF,UAClBnD,UAAQ,EACR6D,MAAO,CACHC,MAAO,QACPG,UAAW,SAGnB,4BACI5T,QAAS,WACL+R,SAASC,eAAe,qBAAqBC,SAC7CF,SAASG,YAAY,SAEzBhI,UAAU,qBALd,qBASA,6BACA,6BAxBJ,eA2BQ,0CA3BR,IA4BI,6BACA,2BACInO,GAAG,uBACH6R,KAAK,WACLhC,MAAK,uBAAkBnT,KAAK4U,MAAMyF,UAA7B,wCACLU,MAAO,CACHC,MAAO,QACPG,UAAW,OAEfjE,UAAQ,IAEZ,4BACI3P,QAAS,WACL+R,SAASC,eAAe,wBAAwBC,SAChDF,SAASG,YAAY,SAEzBhI,UAAU,qBALd,qBASA,6BACA,6BAjDJ,cAoDO,sDApDP,IAqDI,6BACA,8BACInO,GAAG,0BACH4Q,KAAK,IACLC,KAAK,KACL4G,MAAO,CACHK,SAAU,SACVD,UAAW,MACXH,MAAO,QACPK,OAAQ,QAEZC,SAAS,OACTnI,MAAO,yDAAyDnT,KAAK4U,MAAMyF,UAApE,+BACX,4BACI9S,QAAS,WACL+R,SAASC,eAAe,2BAA2BC,SACnDF,SAASG,YAAY,SAEzBhI,UAAU,oBACVsJ,MAAO,CACHQ,SAAU,WACVJ,UAAW,SARnB,uBAkBhB,yBAAK1J,UAAWE,IAAQmE,eACpB,yBAAKrE,UAAWE,IAAQoE,uBAEhB/V,KAAK4U,MAAM0F,kBAGP,kBAAC,IAAD,CACI7I,UAAWC,IAAW,eACjBC,IAAQyD,SAAWpV,KAAK4U,MAAMwF,aAEnC1M,OAAQC,IAAO0E,QACf9K,QAAO,wBAAE,+BAAA+G,EAAA,6DACL,EAAKmG,SAAS,CAAE2F,YAAY,EAAMD,UAAU,IAEtCvN,EAAOoN,KAEPK,EALD,sDAK4DzN,GAL5D,SAQwB,EAAK2N,cAAc3N,GAR3C,cAWD,EAAK6H,SAAS,CAAE2F,YAAY,EAAOD,UAAU,EAAME,eAGnD,EAAK5F,SAAS,CAAE2F,YAAY,EAAOD,UAAU,IAC7C3M,KAAQ/E,KAAK,CACTgF,QAAS,+DACTC,OAAQC,IAAOC,OACfC,SAAU,KAlBb,2CAuBTpG,KAAK,gCASzB,2BAAO+T,wBAAyB,CAC5BC,OAAO,kP,GAzPDnJ,IAAMC,a,EC2EjBmJ,GAhFdnK,Y,mLAOG,OACI,kBAAC,IAAD,CACEC,SAAS,WACTK,OAAQpR,UAAS6L,YAAYqP,qBAC7B5J,QAAS,WACPtR,UAAS6L,YAAYqP,sBAAuB,GAE9C3J,MAAK,cAEL,yBAAKP,UAAWC,IAAWC,IAAQiE,cACjC,2BAAOnE,UAAWE,IAAQiK,MAAOb,MAAO,CAACC,MAAO,SAC5C,+BACI,4BACI,0CACA,uCAGR,+BACI,4BACI,uCACA,4BAAKva,UAASC,MAAM0D,SAASwG,YAEjC,4BACI,uCACA,4BAAKnK,UAASC,MAAM0D,SAASyG,YAEjC,4BACI,8CACA,4BACGpK,UAASC,MAAMyO,SAAW1O,UAASC,MAAMmb,OAAS,kBAGzD,4BACI,6CACA,4BACGpb,UAASC,MAAMyO,SAAW1O,UAASC,MAAMob,QAAU,kBAG1D,4BACI,8CACA,4BACGrb,UAASC,MAAMyO,SAAW1O,UAASC,MAAMqb,SAAW,kBAG3D,4BACI,sDACA,4BAAMtb,UAASC,MAAMyO,SAAW1O,UAAS6L,YAAYqP,qBAAwBlb,UAASC,MAAMsb,kBAAoB,kBAEpH,4BACI,mDACA,4BAAMvb,UAASC,MAAMyO,SAAW1O,UAAS6L,YAAYqP,qBAAwBlb,UAASC,MAAMub,WAAa,qBAOvH,yBAAKxK,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACErI,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAAS6L,YAAYqP,sBAAuB,GAE9ClU,KAAK,gB,GAtEU6K,IAAMC,a,ECmEtB2J,GAxEd3K,Y,mLAIG,OACI,kBAAC,IAAD,CACEC,SAAS,OACTK,OAAQpR,UAAS6L,YAAY6P,eAC7BpK,QAAS,WACPtR,UAAS6L,YAAY6P,gBAAiB,GAExCnK,MAAK,QAEL,yBAAKP,UAAWC,IAAWC,IAAQiE,cAAnC,qDAEE,yBAAKnE,UAAU,wBACb,2BAAOA,UAAU,+DACf,+BACE,4BACE,+CACA,qCACA,6CAGJ,+BACE,4BACE,oCACA,2CACA,sDAEF,4BACE,mCACA,sGACA,mDAEF,4BACE,iEACA,4CACA,kDAEF,4BACE,qDACA,sEACA,8DAEF,4BACE,0CACA,gEACA,uDAQV,yBAAKA,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACErI,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAAS6L,YAAY6P,gBAAiB,GAExC1U,KAAK,gB,GA9DI6K,IAAMC,a,+BC0GhB6J,GAxGd7K,Y,cAEG,WAAYsC,GAAQ,IAAD,8BACf,4CAAMA,KACDe,MAAQ,CACTyH,OAAQ,WACRC,UAAW,cAJA,E,sEAQX,IAAD,OACHC,EAAgBvc,KAAK6T,MAAMxS,MAE/Bkb,EAActU,MAAK,SAACC,EAAIC,GACpB,IAAMqU,EAAQtU,EAAG,EAAK0M,MAAMyH,QACtBI,EAAQtU,EAAG,EAAKyM,MAAMyH,QAC5B,GAAIG,GAASC,EAAO,CAEhB,IAAMC,EAAavT,OAAOqT,GACpBG,EAAaxT,OAAOsT,GAC1B,GAAKtT,OAAOyT,MAAMF,IAAgBvT,OAAOyT,MAAMD,GAMxC,CAEH,IAAME,EAAgBL,EAAMzZ,WACtB+Z,EAAgBL,EAAM1Z,WAC5B,OAAiC,eAAzB,EAAK6R,MAAM0H,WAA8B,EAAI,GAAKO,EAAcE,cAAcD,GARtF,MAA6B,eAAzB,EAAKlI,MAAM0H,UACJK,EAAaD,EAEjBA,EAAaC,EAQ5B,OAAO,KAGX,IAAMK,EAAqBvc,UAASC,MAAMuc,qBAAqB9Z,QAAO,SAACmC,GAAD,MAAa,aAANA,GAA0B,WAANA,KAEjG,OACQ,yBAAKmM,UAAU,wBAAf,WACa,IACT,kBAACiC,GAAD,CACIT,MAAK,CAAG,WAAY,UAAf,oBAA4B+J,IACjC7J,MAAOnT,KAAK4U,MAAMyH,OAClBnJ,SAAU,SAACS,GACP,EAAKc,SAAS,CAAC4H,OAAQ1I,OAG/B,kBAACD,GAAD,CACIT,MAAO,CAAC,aAAc,aACtBE,MAAOnT,KAAK4U,MAAM0H,UAClBpJ,SAAU,SAACS,GACP,EAAKc,SAAS,CAAC6H,UAAW3I,OAGlC,2BAAOlC,UAAU,+DACb,+BACI,4BACI,4BAAI,oCACJ,4BAAI,uCAEAhR,UAASC,MAAMuc,qBAAqBxZ,KAAI,SAACsN,EAAI1I,GACzC,MAAW,OAAP0I,EACO,wBAAIrJ,IAAG,UAAKqJ,EAAL,YAAW1I,IAAM0I,GAE5B,UAKvB,+BAEQwL,EAAc9Y,KAAI,SAACL,GAAD,OACd,wBAAIsE,IAAKtE,EAAKE,IACV,4BACI,kBAAC,IAAD,CACI2O,SAAU7O,EAAKQ,SACfsO,SAAU,WACF9O,EAAKQ,SACLnD,UAASC,MAAM6H,UAAU,CAACnF,EAAKE,KAE/B7C,UAASC,MAAMwc,UAAU,CAAC9Z,EAAKE,SAK/C,4BAAKF,EAAKE,IAEN7C,UAASC,MAAMuc,qBAAqBxZ,KAAI,SAACsN,EAAI1I,GACzC,GAAW,OAAP0I,EACA,OAAO,wBAAIrJ,IAAG,UAAKqJ,EAAL,YAAW1I,IAAMjF,EAAK2N,kB,GAzF5DuB,IAAMC,a,EC+Ff4K,GA/Fd5L,Y,cAEC,WAAYsC,GAAQ,IAAD,8BACjB,4CAAMA,KACDe,MAAQ,CACXwI,WAAY,WACZC,YAAa,GAJE,E,sEAQT,IAAD,OASHd,EAAgB,GAEpB,GAAI9b,UAASC,MAAM4c,uBAAwB,CACvC,IAAM/a,EAAiB9B,UAASC,MAAM4c,uBAAuBpW,KAAK/F,IAAImC,GAAGP,YACzEwZ,EAAgB9b,UAASC,MAAMsH,6BAA6BzF,IAG9C0F,MAdQ,SAACC,EAAIC,GAC3B,OAAID,EAAE,UAAgBC,EAAE,SACbA,EAAE,SAAeD,EAAE,SAEvB,KA4BX,OACI,kBAAC,IAAD,CACEsJ,SAAS,QACTK,OAAQpR,UAAS6L,YAAYiR,mBAC7BxL,QAAS,WACPtR,UAAS6L,YAAYiR,oBAAqB,GAE5CvL,MAAM,YACN+I,MAAO,CAACyC,SAAU,SAElB,yBAAK/L,UAAWC,IAAWC,IAAQiE,cAEjC,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAQrO,QAAS,WAAO9G,UAASC,MAAM6H,UAAUgU,EAAc9Y,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,SAA1E,YACA,kBAAC,IAAD,CAAQiE,QAAS,WAAO9G,UAASC,MAAMwc,UAAUX,EAAc9Y,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,SAA1E,aAGJ,6BAEA,6BACE,kBAAC,IAAD,CACAyX,MAAO,CAACjU,QAAS,UACjB4G,OAAQC,IAAO0E,QACf5K,KAAK,OACLF,QAAS,YAvCU,SAACkW,EAAcC,GAC1C,IAAMC,EAAcpB,EAAcpZ,QAAO,SAAAO,GAAC,OAAIA,EAAEE,YAChD+Z,EAAY1V,MAAK,SAACC,EAAIC,GACpB,OAAID,EAAGwV,IAAkBvV,EAAGuV,GACjBvV,EAAGuV,GAAiBxV,EAAGwV,GAE3B,KAGT,IADA,IAAMtV,EAAM,GACHC,EAAI,EAAGA,EAAIoV,GAAgBpV,EAAIsV,EAAYrV,OAAQD,IACxDD,EAAI5B,KAAKmX,EAAYtV,GAAG/E,IAE5B7C,UAASC,MAAM6H,UAAUH,GA4BfwV,CAAqB,EAAKhJ,MAAMyI,YAAa,EAAKzI,MAAMwI,eAN5D,IAOQ,kBAAC,KAAD,CAAcS,cAAe,SAACC,EAAaC,GAAiB,EAAKtJ,SAAS,CAAC4I,YAAalU,OAAO4U,MAAiB5K,MAAOnT,KAAK4U,MAAMyI,YAAatC,MAAO,CAACjU,QAAS,cAAekU,MAAO,UAP9L,IAO2M,IAP3M,2BAQ0B,kBAACtH,GAAD,CAAcT,MAAO,CAAC,WAAY,UAAWE,MAAOnT,KAAK4U,MAAMwI,WAAYlK,SAAU,SAACS,GAAc,EAAKc,SAAS,CAAC2I,WAAYzJ,QAGzJ,6BAEA,kBAAC,GAAD,CAAWtS,MAAOkb,KAGpB,yBAAK9K,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACErI,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAAS6L,YAAYiR,oBAAqB,GAE5C9V,KAAK,gB,GArFQ6K,IAAMC,a,EC+EpByL,GA/EdzM,Y,cAEC,WAAYsC,GAAQ,IAAD,8BACjB,4CAAMA,KACDe,MAAQ,CACXwI,WAAY,WACZC,YAAa,GAJE,E,sEAQT,IAAD,OACHd,EAAa,aAAO9b,UAASC,MAAMgC,SAASrB,OAiBhD,OACI,kBAAC,IAAD,CACEmQ,SAAS,WACTK,OAAQpR,UAAS6L,YAAY2R,oBAC7BlM,QAAS,WACPtR,UAAS6L,YAAY2R,qBAAsB,GAE7CjM,MAAM,aACN+I,MAAO,CAACyC,SAAU,SAElB,yBAAK/L,UAAWC,IAAWC,IAAQiE,cAEjC,kBAAC,KAAD,KACI,kBAAC,IAAD,CAAQrO,QAAS,WAAO9G,UAASC,MAAM6H,UAAUgU,EAAc9Y,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,SAA1E,YACA,kBAAC,IAAD,CAAQiE,QAAS,WAAO9G,UAASC,MAAMwc,UAAUX,EAAc9Y,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,SAA1E,aAGJ,6BAEA,6BACE,kBAAC,IAAD,CACAyX,MAAO,CAACjU,QAAS,UACjB4G,OAAQC,IAAO0E,QACf5K,KAAK,OACLF,QAAS,YAvCU,SAACkW,EAAcC,GAC1C,IAAMC,EAAcpB,EAAcpZ,QAAO,SAAAO,GAAC,OAAIA,EAAEE,YAChD+Z,EAAY1V,MAAK,SAACC,EAAIC,GACpB,OAAID,EAAGwV,IAAkBvV,EAAGuV,GACjBvV,EAAGuV,GAAiBxV,EAAGwV,GAE3B,KAGT,IADA,IAAMtV,EAAM,GACHC,EAAI,EAAGA,EAAIoV,GAAgBpV,EAAIsV,EAAYrV,OAAQD,IACxDD,EAAI5B,KAAKmX,EAAYtV,GAAG/E,IAE5B7C,UAASC,MAAM6H,UAAUH,GA4BfwV,CAAqB,EAAKhJ,MAAMyI,YAAa,EAAKzI,MAAMwI,eAN5D,IAOQ,kBAAC,KAAD,CAAcS,cAAe,SAACC,EAAaC,GAAiB,EAAKtJ,SAAS,CAAC4I,YAAalU,OAAO4U,MAAiB5K,MAAOnT,KAAK4U,MAAMyI,YAAatC,MAAO,CAACjU,QAAS,cAAekU,MAAO,UAP9L,IAO2M,IAP3M,2BAQ0B,kBAACtH,GAAD,CAAcT,MAAO,CAAC,WAAY,UAAWE,MAAOnT,KAAK4U,MAAMwI,WAAYlK,SAAU,SAACS,GAAc,EAAKc,SAAS,CAAC2I,WAAYzJ,QAGzJ,6BAEA,kBAAC,GAAD,CAAWtS,MAAOkb,KAGpB,yBAAK9K,UAAWE,IAAQmE,eACtB,yBAAKrE,UAAWE,IAAQoE,uBACtB,kBAAC,IAAD,CACErI,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAAS6L,YAAY2R,qBAAsB,GAE7CxW,KAAK,gB,GArES6K,IAAMC,a,ECDf2L,G,iLAEjB,OACE,yBAAKnD,MAAO,CAAEjU,QAAS,SACrB,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAACqX,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,W,GAjB6B7L,IAAMC,W,wHCWrC6L,GADL7M,Y,6MAECqD,MAAQ,CACNyJ,cAAc,G,EAGhBC,WAAa,WACX,EAAK7J,SAAS,CAAE4J,cAAc,K,wEAGtB,IAAD,OACP,OACE,yBAAK5M,UAAWC,IAAW,CAACC,IAAQ4M,UAClC,yBAAK9M,UAAWC,IAAW,CAACC,IAAQ6M,aAAc7M,IAAQ8M,cACxD,uBAAGC,KAAMC,YAAU3b,OAAO,UACxB,yBAAKgP,MAAM,YAAY1O,GAAG,YAC1Bsb,IAAKne,UAAS6L,YAAYvM,SAAW8e,KAAgBC,KACrDC,OAAO,QAET,yBAAKtN,UAAWC,IAAW,CAACC,IAAQqN,mBAcpC,kBAAC,KAAD,CACEC,QACE,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAUxX,KAAK,cAAc+J,SAAS,SAElC3C,0BAAuBpL,KAAI,SAACyb,GAC1B,IAAMC,EAAsBD,EAAO,GAC7BE,EAA2BF,EAAO,GAExC,OACE,kBAAC,KAAD,CACExX,IAAKyX,EACL3N,SAAS,QACT/J,KAAM0X,EACN5X,QAAS,WACPmF,OAAOC,iCAAiCyS,UAQpD,kBAAC,KAAD,MACA,kBAAC,KAAD,CACE5N,SAAS,SACT/J,KAAK,qBACLF,QAAS,kBAAO9G,UAAS8L,OAAOuF,YAAa,KAE/C,kBAAC,KAAD,CACEN,SAAS,SACT/J,KAAK,sBACLF,QAAS,kBAAO9G,UAAS8L,OAAOkK,gBAAiB,KAEnD,kBAAC,KAAD,MACA,kBAAC,KAAD,CACEjF,SAAS,wBACT/J,KAAK,gBACLF,QAAS,WAAQ9G,UAAS6L,YAAYuN,wBAAyB,KAEjE,kBAAC,KAAD,CACErI,SAAS,WACT/J,KAAK,gBACLF,QAAS,WACP9G,UAASgM,QAAQ4M,qBAAuB5Y,UAASC,MAAMqO,sBACvDtO,UAASgM,QAAQ2M,0BAA2B,KAGhD,kBAAC,KAAD,CACE5H,SAAS,yBACT/J,KAAK,6BACLF,QAAS,WAAQ9G,UAAS6L,YAAYwO,iBAAkB,MAI9DS,SAAU8D,KAASC,QAEnB,kBAAC,IAAD,CACE7N,UAAWC,IAAW,CAACC,IAAQoH,OAAQpH,IAAQiB,UAC/CpB,SAAS,YAFX,UAOF,kBAAC,KAAD,CACEyN,QACE,kBAAC,KAAD,KACE,kBAAC,KAAD,CACExX,KAAK,aACL+J,SAAS,mBACTjK,QAAS,WACP9G,UAASC,MAAMC,MAAM4e,cACrB9e,UAAS6L,YAAY2R,qBAAsB,EAC3C,EAAKuB,iBAGT,kBAAC,KAAD,CACE/X,KAAK,aACL+J,SAAS,6BACTjK,QAAS,WAAQ9G,UAAS6L,YAAYqP,sBAAuB,KAE/D,kBAAC,KAAD,CAAUlU,KAAK,UAAU+J,SAAS,SAChC,kBAAC,KAAD,CACE/J,KAAK,iBACLF,QAAS,WACP9G,UAASC,MAAM6H,UAAU9H,UAASC,MAAMgC,SAASrB,MAAMoC,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,UAGtE,kBAAC,KAAD,CACEmE,KAAK,sCACLF,QAAS,WACP9G,UAASC,MAAMwc,UAAUzc,UAASC,MAAMgC,SAASrB,MAAMoC,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,OAClE,IAAMmc,EAAc,aAAOhf,UAASC,MAAMgC,SAASrB,OACnDoe,EAAexX,MAAK,SAACC,EAAIC,GACvB,OAAID,EAAE,UAAgBC,EAAE,SACfA,EAAE,SAAeD,EAAE,SAErB,KAGT,IADA,IAAME,EAAM,GACHC,EAAI,EAAGA,EAAI,GAAKA,EAAIoX,EAAenX,OAAQD,IAClDD,EAAI5B,KAAKiZ,EAAepX,GAAG/E,IAE7B7C,UAASC,MAAM6H,UAAUH,MAG7B,kBAAC,KAAD,CACEX,KAAK,oCACLF,QAAS,WACP9G,UAASC,MAAMwc,UAAUzc,UAASC,MAAMgC,SAASrB,MAAMoC,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,OAClE,IAAMmc,EAAc,aAAOhf,UAASC,MAAMgC,SAASrB,OACnDoe,EAAexX,MAAK,SAACC,EAAIC,GACvB,OAAID,EAAE,QAAcC,EAAE,OACbA,EAAE,OAAaD,EAAE,OAEnB,KAGT,IADA,IAAME,EAAM,GACHC,EAAI,EAAGA,EAAI,GAAKA,EAAIoX,EAAenX,OAAQD,IAClDD,EAAI5B,KAAKiZ,EAAepX,GAAG/E,IAE7B7C,UAASC,MAAM6H,UAAUH,MAG7B,kBAAC,KAAD,CACEX,KAAK,iBACLF,QAAS,WACP9G,UAASC,MAAMwc,UAAUzc,UAASC,MAAMgC,SAASrB,MAAMoC,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,YAM5EiY,SAAU8D,KAASC,QAEnB,kBAAC,IAAD,CACE7N,UAAWC,IAAW,CAACC,IAAQoH,OAAQpH,IAAQiB,UAC/CpB,SAAS,kBAFX,WAQJ,yBAAKC,UAAWC,IAAW,CAACC,IAAQ6M,aAAc7M,IAAQ8M,cACxD,0BAAMhN,UAAWE,IAAQ+N,iBACxBjf,UAASC,MAAMyO,UAAY1O,UAASC,MAAMC,OACzC,yBAAKoa,MAAO,CAAEjU,QAAS,WAGnB,WACF,IAAI6Y,EAAO,EACXC,aAAY,WACR,IAAIC,EAAU5Z,KAAKC,MAEhBzF,UAASC,MAAMmF,WAAWC,cAAcC,UACtC8Z,EAAUpf,UAASC,MAAMmF,WAAWC,cAAcE,UAAYvF,UAASC,MAAMmF,WAAWC,cAAc2E,UACpGhK,UAASC,MAAMmF,WAAW6E,wBAC7BjK,UAASC,MAAMmF,WAAWC,cAAcC,UAAW,IAIjDtF,UAASC,MAAMC,MAAMiF,QACtBnF,UAASC,MAAMmF,WAAW6E,uBACzBjK,UAASC,MAAMC,MAAM4e,cACrB9e,UAASC,MAAMC,MAAMiF,QAAS,EAC9BnF,UAASC,MAAMmF,WAAWM,aAAc,EACxCwZ,EAAKH,eAeN/e,UAASC,MAAMmF,WAAWM,aAAe1F,UAASC,MAAMmF,WAAW6E,uBAClEjK,UAASC,MAAMC,MAAMmf,eACrBrf,UAASC,MAAMC,MAAMiF,QAAS,EAC9BnF,UAASC,MAAMmF,WAAWM,aAAc,EACxCwZ,EAAKH,kBAGV,IAvCH,GAyCF,kBAAC,KAAD,CACEP,QAAUxe,UAASC,MAAMC,MAAMiF,OAAU,0BAA4B,yBACrE2V,SAAU8D,KAASC,QAEnB,kBAAC,IAAD,CACE7N,UAAWC,IAAW,CAACC,IAAQoH,OAAQpH,IAAQiB,UAC/CpB,UAAY/Q,UAASC,MAAMmF,WAAWM,aAAe1F,UAASC,MAAMC,MAAMiF,OAAU,OAAS,QAC7F6B,MAAQhH,UAASC,MAAMmF,WAAWM,aAAe1F,UAASC,MAAMC,MAAMiF,OAAU,gBAAkB,eAClG2B,QAAS,WACH9G,UAASC,MAAMC,MAAMiF,SAAWnF,UAASC,MAAMmF,WAAWM,aAI5D1F,UAASC,MAAMiF,kBAEflF,UAASC,MAAMC,MAAMmf,eACrB,EAAKN,eAEG/e,UAASC,MAAMmF,WAAWM,aAElC1F,UAASC,MAAMC,MAAMiF,QAAS,EAC9BnF,UAASC,MAAMmF,WAAWM,aAAc,IAGxC1F,UAASC,MAAMC,MAAM4e,cACrB,EAAKC,sBAUjBxf,KAAK4U,MAAMyJ,cACX,yBACE5M,UAAWC,IAAW,CAACC,IAAQ6M,eAC/BzD,MAAO,CAAEQ,SAAU,WAAY7S,KAAM,MAAOqX,UAAW,qBAEvD,kBAAC,KAAD,CACEd,QACE,yBAAKlE,MAAO,CAAEiF,SAAU,IAAKC,QAAS,IACpC,kBAAC,KAAD,CACEzO,SAAS,eACT9D,OAAQC,IAAOuS,QACflO,MAAM,6EAEN,wBAAI+I,MAAO,CAAEoF,OAAQ,EAAGC,YAAa,GAAIC,WAAY,MACnD,oIAAyG,4BAAQtF,MAAO,CAAEuF,eAAgB,cAAjC,kBAAzG,KACA,wFACA,4BAAI,oIAAJ,wBACA,qCAAU,4BAAQvF,MAAO,CAAEuF,eAAgB,cAAjC,kBAAV,KAAmF,uHAAnF,qIACA,qHAA0F,gFAAqD,0BAAMvF,MAAO,CAAEuF,eAAgB,cAA/B,mBAA/I,KACA,gGAEF,yBAAKvF,MAAO,CAAEI,UAAW,IACvB,kBAAC,IAAD,CACEoF,SAAO,EACPC,OAAK,EACLhP,SAAS,QACTjK,QAASvH,KAAKse,YAJhB,cAYR/C,SAAU8D,KAASC,QAEnB,kBAAC,IAAD,CACE7N,UAAWC,IAAW,CAACC,IAAQoH,OAAQpH,IAAQiB,UAC/CpB,SAAS,eACT9D,OAAQC,IAAOuS,SAHjB,gCAUN,yBACEzO,UAAWC,IAAW,CAACC,IAAQ6M,aAAc7M,IAAQ8O,eAErD,kBAAC,IAAD,CACEhP,UAAWC,IAAW,CAACC,IAAQoH,OAAQpH,IAAQiB,UAC/CpB,SAAS,QACTjK,QAAS,WACP9G,UAASgM,QAAQiN,4BAA6B,IAG/CjZ,UAASC,MAAM0D,SAAS2G,cAAgB,kBAE3C,0BAAM0G,UAAWE,IAAQ+N,iBACzB,kBAAC,IAAD,CACEjO,UAAWC,IAAW,CAACC,IAAQoH,OAAQpH,IAAQiB,UAC/CpB,SAAS,MACTjK,QAAS,WACP9G,UAAS6L,YAAYwF,YAAa,KAGtC,kBAAC,IAAD,CACEL,UAAWC,IAAW,CAACC,IAAQoH,OAAQpH,IAAQiB,UAC/CpB,SAAS,OACTjK,QAAS,WACP9G,UAAS6L,YAAY6P,gBAAiB,KAG1C,kBAAC,IAAD,CACE1K,UAAWC,IAAW,CAACC,IAAQoH,OAAQpH,IAAQiB,UAC/CpB,SAAS,WACTjK,QAAS,WACP9G,UAAS6L,YAAYoU,uBAGzB,0BAAMjP,UAAWE,IAAQ+N,iBACzB,uBACEhB,KAAMiC,cACN3d,OAAO,SACP+X,MAAO,CACLxZ,MAAOd,UAAS6L,YAAYvM,SAAW,QAAU,QACjD6gB,SAAU,OACVN,eAAgB,SAGlB,kBAAC,KAAD,CAAiBO,KAAMC,c,GA3VPxO,IAAMC,a,EAoW5BwO,GADLxP,Y,mLAEW,IAAD,OACP,OAAO9Q,UAASC,MAAMC,OACpB,6BACE,yBACE8Q,UAAWC,IAAW,uBACtBqJ,MAAO,CACLiG,gBAAiBvgB,UAAS6L,YAAYvM,SAAW,UAAY,YAG/D,yBAAK0R,UAAU,mBACb,uBACEA,UAAWC,IAAW,6BAA8BjR,UAASC,MAAMC,MAAMiF,OAAS,eAAiB,iBACnGqb,KAAK,SACL1Z,QAAS,WACH9G,UAASC,MAAMC,MAAMiF,QACvBnF,UAASC,MAAMC,MAAMmf,eACrB,EAAKN,gBAEL/e,UAASC,MAAMC,MAAM4e,cACrB,EAAKC,oBAMf,yBACE/N,UAAWC,IAAW,wBACtBqJ,MAAO,CACLiG,gBAAiBvgB,UAAS6L,YAAYvM,SAAW,UAAY,YAG/D,yBAAK0R,UAAU,mBACb,uBAAGA,UAAU,6BAA6BwP,KAAK,SAAS1Z,QAAS,kBAAM9G,UAAS6L,YAAY4U,wBAC5F,uBAAGzP,UAAU,yBAAyBwP,KAAK,SAAS1Z,QAAS,kBAAM9G,UAAS6L,YAAY6P,gBAAiB,KACzG,uBAAG1K,UAAU,kCAAkCwP,KAAK,SAASvC,KAAMhS,OAAO6B,SAAUvL,OAAO,kB,GAnC3EsP,IAAMC,a,EAkDnB4O,GAPd5P,Y,mLAGG,OAAO9Q,UAAS6L,YAAY/L,sBAAwB,kBAAC,GAAD,MAAoB,kBAAC,GAAD,U,GAFvD+R,IAAMC,a,EC5VZ6O,GA9Dd7P,Y,mLAGG,OACE,yBAAKE,UAAU,aAkDb,yBAAKsJ,MAAO,CAAEsG,UAAW,SAAUtC,OAAQ,UACzC,kBAAC,IAAD,Y,GAtDkBzM,IAAMC,a,ECfb+O,G,4LAEjB7gB,UAASC,MAAM6gB,e,+BAIf,OACE,yBACEje,GAAG,kBACHyX,MAAO,CACLC,MAAO,QACP+D,OAAQ,OACRyC,KAAM,IACNjG,SAAU,kB,GAboBjJ,IAAMC,W,+ECyP/BkP,GA9OdlQ,Y,cAEC,WAAYsC,GAAQ,IAAD,8BACjB,4CAAMA,KACDe,MAAQ,CACX8M,WAAY,KACZC,gBAAgB,EAChBC,iBAAiB,EACjBC,iBAAiB,GANF,E,sEAUT,IAAD,OACP,OACE,6BAEE,kBAAC9M,GAAD,CACEvC,KAAK,QACLX,OAAQ7R,KAAK4U,MAAMgN,gBACnBnP,SAAU,kBACR,EAAKgC,SAAS,CACZmN,iBAAkB,EAAKhN,MAAMgN,oBAIjC,yBAAKnQ,UAAWC,IAAWC,IAAQmQ,KAAM,eACvC,6BACI,uBAAG/G,MAAO,CAACjU,QAAS,WAApB,cACA,0BAAMiU,MAAO,CAACgH,MAAM,UAClB,kBAACrO,GAAD,CACET,MAAOxS,UAASC,MAAMuc,qBACtB/J,SAAU,SAAAnC,GAAE,OAAKtQ,UAASC,MAAMW,MAAMC,QAAUyP,GAChDoC,MAAO1S,UAASC,MAAMW,MAAMC,YAKlC,yBAAKyZ,MAAO,CAACI,UAAU,SACrB,uBAAGJ,MAAO,CAACjU,QAAS,WAApB,gBACA,0BAAMiU,MAAO,CAACgH,MAAM,UAClB,kBAACrO,GAAD,CACET,MAAO7N,OAAO+L,KAAK5H,WACnB2J,SAAU,SAAAnC,GAAE,OAAKtQ,UAASC,MAAMW,MAAME,MAAMC,MAAQuP,GACpDoC,MAAO1S,UAASC,MAAMW,MAAME,MAAMC,UAK1C,6BACE,yBAAKuZ,MAAO,CAACI,UAAU,SACrB,uBAAGJ,MAAO,CAACjU,QAAS,WAApB,kBACA,0BAAMiU,MAAO,CAACgH,MAAM,UAChB,kBAAC,KAAD,CACIC,UAAU,SACVC,UAAW,CACPC,gBAAiB,CACfC,SAAS,KAIjB,kBAAC,IAAD,CACE1a,KAAK,KACLsT,MAAO,CACLqH,gBAAiB,UACjBpB,gBAAiBvgB,UAASC,MAAMW,MAAME,MAAME,QAGhD,kBAAC,KAAD,CACEF,MAAOd,UAASC,MAAMW,MAAME,MAAME,KAClCyQ,SAAU,SAAAnB,GAAE,OAAKtQ,UAASC,MAAMW,MAAME,MAAME,KAAOsP,EAAGsR,QAlB9D,mBAsBI,kBAAC,KAAD,CACAL,UAAU,SACEC,UAAW,CACPC,gBAAiB,CACfC,SAAS,KAI3B,kBAAC,IAAD,CACE1a,KAAK,KACLsT,MAAO,CACLqH,gBAAiB,UACjBpB,gBAAiBvgB,UAASC,MAAMW,MAAME,MAAMG,MAGhD,kBAAC,KAAD,CACEH,MAAOd,UAASC,MAAMW,MAAME,MAAMG,GAClCwQ,SAAU,SAAAnB,GAAE,OAAKtQ,UAASC,MAAMW,MAAME,MAAMG,GAAKqP,EAAGsR,WAM9D,yBAAKtH,MAAO,CAACI,UAAU,SACrB,yBAAKH,MAAM,OAAO+D,OAAO,KAAKtN,UAAU,oBACxC,8BACE,oCACE6Q,GAAG,KACHC,GAAG,MACHC,GAAG,OACHC,GAAG,MACHnf,GAAG,eAEH,0BACEof,UAAWjiB,UAASC,MAAMW,MAAME,MAAME,KACtCkhB,YAAY,IACZC,OAAO,OAET,0BACEF,UAAWjiB,UAASC,MAAMW,MAAME,MAAMG,GACtCihB,YAAY,IACZC,OAAO,WAIb,0BACEC,EAAE,IACFC,EAAE,IACF9H,MAAM,OACN+D,OAAO,KACP3L,KAAK,0BAQb,kBAAC2B,GAAD,CACEvC,KAAK,OACLX,OAAQ7R,KAAK4U,MAAM+M,eACnBlP,SAAU,kBACR,EAAKgC,SAAS,CACZkN,gBAAiB,EAAK/M,MAAM+M,mBAKhC,yBAAKlQ,UAAWC,IAAWC,IAAQmQ,KAAM,eACvC,6BACI,uBAAG/G,MAAO,CAACjU,QAAS,WAApB,aACA,0BAAMiU,MAAO,CAACgH,MAAM,UAClB,kBAAC,KAAD,CACE9O,MAAOxS,UAASC,MAAMuc,qBACtB5J,aAAcC,GACdC,YAAY,EACZC,aAAc,SAAAzC,GAAE,OAAKtQ,UAASC,MAAMW,MAAMM,OAASoP,IAEnD,kBAAC,IAAD,CAAQtJ,KAAMhH,UAASC,MAAMW,MAAMM,YAK3C,yBAAKoZ,MAAO,CAACI,UAAU,SACnB,uBAAGJ,MAAO,CAACjU,QAAS,WAApB,eACA,0BAAMiU,MAAO,CAACgH,MAAM,UAClB,kBAAC,KAAD,CACA9O,MAAO7N,OAAO+L,KAAK5H,WACnB8J,aAAcC,GACdC,YAAY,EACZC,aAAc,SAAAzC,GAAE,OAAKtQ,UAASC,MAAMW,MAAMO,KAAKJ,MAAQuP,IAErD,kBAAC,IAAD,CAAQtJ,KAAMhH,UAASC,MAAMW,MAAMO,KAAKJ,WAKhD,yBAAKuZ,MAAO,CAACI,UAAU,SACrB,uBAAGJ,MAAO,CAACjU,QAAS,WAApB,eACF,6BACA,kBAAC,KAAD,CACEjF,IAAK,EACLC,IAAK,GACLihB,SAAU,GACVC,cAAe,EACf9Q,SAAU,YAAa,IAAD,oBAAV5D,EAAU,KAAP2U,EAAO,KACpBzf,uBAAY,gBAAgB,WAC1B/C,UAASC,MAAMW,MAAMO,KAAKC,IAAMyM,EAChC7N,UAASC,MAAMW,MAAMO,KAAKE,IAAMmhB,MAGpC9P,MAAO,CACL1S,UAASC,MAAMW,MAAMO,KAAKC,IAC1BpB,UAASC,MAAMW,MAAMO,KAAKE,UAQlC,kBAACiT,GAAD,CACEvC,KAAK,QACLX,OAAQ7R,KAAK4U,MAAMiN,gBACnBpP,SAAU,kBACR,EAAKgC,SAAS,CACZoN,iBAAkB,EAAKjN,MAAMiN,oBAIjC,yBAAKpQ,UAAWC,IAAWC,IAAQmQ,KAAM,eACzC,6BACA,uBAAG/G,MAAO,CAACjU,QAAS,WAApB,eACA,0BAAMiU,MAAO,CAACgH,MAAM,UAClB,kBAAC,KAAD,CACI9O,MAAO,CACL,SACA,SACA,WACA,WACA,UACA,WAEFI,aAAcC,GACdC,YAAY,EACZC,aAAc,SAAAzC,GAAE,OAAKtQ,UAASC,MAAMW,MAAMW,MAAQ+O,IAElD,kBAAC,IAAD,CAAStJ,KAAMhH,UAASC,MAAMW,MAAMW,aAM5C,6BACA,+BAEGkhB,KAAU,OAAQziB,UAASC,MAAMoD,UAAUlC,MAAM,GAAM,mCAF1D,8BAIE,kBAAC,IAAD,CAAQ6P,UAAW,WAAYhK,KAAK,QAAQF,QAAS,kBAAO9G,UAASC,MAAMoD,UAAY,IAAIqB,a,GAtO3EmN,IAAMC,a,YCZjB,mBAAGC,EAAH,EAAGA,KAAMX,EAAT,EAASA,OAAQY,EAAjB,EAAiBA,SAAUpL,EAA3B,EAA2BA,SAA3B,OACb,6BACE,kBAAC,IAAD,CACE0C,MAAOyI,EACPP,QAASJ,EACTK,SAAUO,EACVhB,UAAWE,IAAQ8O,cAErB,kBAAC,KAAD,CAAU5O,OAAQA,GAASxK,KC0QhB8b,GA1Qd5R,Y,cAEC,WAAYsC,GAAQ,IAAD,8BACjB,4CAAMA,KASRuP,eAAiB,SAACC,EAAQ3b,EAAKyL,GACxB1S,UAASC,MAAMoD,UAAUT,IAAIggB,IAChC5iB,UAASC,MAAMoD,UAAUwf,IAAID,EAAQ,IAAIle,KAE3C,IAAMoe,EAAY9iB,UAASC,MAAMoD,UAAU+F,IAAIwZ,GACjC,OAAVlQ,EACFoQ,EAAUD,IAAI5b,EAAKyL,IAEnBoQ,EAAUC,OAAO9b,GACM,IAAnB6b,EAAU3hB,MACZnB,UAASC,MAAMoD,UAAU0f,OAAOH,KApBnB,EAyBnBI,oBAAsB,SAACpiB,EAAOqG,EAAKyL,GACjC3P,uBAAY,2BAA2B,WACrCnC,EAAMsB,SAAQ,SAAAe,GAAC,OAAI,EAAK0f,eAAe1f,EAAEwD,KAAK/F,IAAImC,GAAIoE,EAAKyL,UAzB7D,EAAKyB,MAAQ,CACXiN,iBAAiB,EACjBF,gBAAgB,EAChBC,iBAAiB,EACjB8B,iBAAiB,GANF,E,sEA+BT,IAAD,OACP,OACE,6BACE,6BACA,kBAACC,GAAD,CACEnR,KAAK,gBACLX,OAAQ7R,KAAK4U,MAAM+M,eACnBlP,SAAU,WACJ,EAAKmC,MAAM+M,eACb,EAAKlN,SACH,CACEkN,gBAAgB,IAElB,kBACE,EAAK8B,oBACHhjB,UAASC,MAAMuG,cACf,OACA,SAIN,EAAKwN,SACH,CACEkN,gBAAgB,IAElB,kBACE,EAAK8B,oBACHhjB,UAASC,MAAMuG,cACf,OACAxG,UAASC,MAAMkjB,eAAehiB,WAMxC,yBAAK6P,UAAWC,IAAWC,IAAQmQ,KAAM,eACvC,kBAAC,KAAD,CACEjgB,IAAK,EACLC,IAAK,GACLihB,SAAU,GACVC,cAAe,EACf9Q,SAAU,SAAAnB,GACRtQ,UAASC,MAAMkjB,eAAehiB,KAAOmP,EACrC,EAAK0S,oBACHhjB,UAASC,MAAMuG,cACf,OACA8J,IAGJoC,MAAO1S,UAASC,MAAMkjB,eAAehiB,SAI3C,6BACA,kBAAC+hB,GAAD,CACEnR,KAAK,iBACLX,OAAQ7R,KAAK4U,MAAMgN,gBACnBnP,SAAU,WACJ,EAAKmC,MAAMgN,gBACb,EAAKnN,SACH,CACEmN,iBAAiB,IAEnB,kBACE,EAAK6B,oBACHhjB,UAASC,MAAMuG,cACf,QACA,SAIN,EAAKwN,SACH,CACEmN,iBAAiB,IAEnB,kBACE,EAAK6B,oBACHhjB,UAASC,MAAMuG,cACf,QACAxG,UAASC,MAAMkjB,eAAeriB,YAMxC,yBAAKkQ,UAAWC,IAAWC,IAAQmQ,KAAM,eACvC,6BACE,uBAAG/G,MAAO,CAACjU,QAAS,WAApB,iBACA,0BAAMiU,MAAO,CAACgH,MAAM,UACtB,kBAAC,KAAD,CACEC,UAAU,SACVC,UAAW,CACTC,gBAAiB,CACfC,SAAS,KAGb,kBAAC,IAAD,CACE1a,KAAK,KACLsT,MAAO,CACLqH,gBAAiB,UACjBpB,gBAAiBvgB,UAASC,MAAMkjB,eAAeriB,SAGnD,kBAAC,KAAD,CACEA,MAAOd,UAASC,MAAMkjB,eAAeriB,MACrC2Q,SAAU,SAAAnB,GACRtQ,UAASC,MAAMkjB,eAAeriB,MAAQwP,EAAGsR,IACzC,EAAKoB,oBACHhjB,UAASC,MAAMuG,cACf,QACA8J,EAAGsR,aASf,6BACA,kBAACsB,GAAD,CACEnR,KAAK,iBACLX,OAAQ7R,KAAK4U,MAAM8O,gBACnBjR,SAAU,WACJ,EAAKmC,MAAM8O,gBACb,EAAKjP,SACH,CACEiP,iBAAiB,IAEnB,kBACE,EAAKD,oBACHhjB,UAASC,MAAMuG,cACf,QACA,SAIN,EAAKwN,SACH,CACEiP,iBAAiB,IAEnB,kBACE,EAAKD,oBACHhjB,UAASC,MAAMuG,cACf,QACAxG,UAASC,MAAMkjB,eAAe7Z,YAMxC,yBAAK0H,UAAWC,IAAWC,IAAQmQ,KAAM,eACvC,uBAAG/G,MAAO,CAACjU,QAAS,WAApB,iBACA,2BACEqM,MAAO1S,UAASC,MAAMkjB,eAAe7Z,MACrCmI,SAAU,SAAAnB,GACRtQ,UAASC,MAAMkjB,eAAe7Z,MAAQgH,EAAG/N,OAAOmQ,MAChD,EAAKsQ,oBACHhjB,UAASC,MAAMuG,cACf,QACA8J,EAAG/N,OAAOmQ,YAMpB,6BACA,kBAACwQ,GAAD,CACEnR,KAAK,iBACLX,OAAQ7R,KAAK4U,MAAMiN,gBACnBpP,SAAU,WACJ,EAAKmC,MAAMiN,gBACb,EAAKpN,SACH,CACEoN,iBAAiB,IAEnB,kBACE,EAAK4B,oBACHhjB,UAASC,MAAMuG,cACf,QACA,SAIN,EAAKwN,SACH,CACEoN,iBAAiB,IAEnB,kBACE,EAAK4B,oBACHhjB,UAASC,MAAMuG,cACf,QACAxG,UAASC,MAAMkjB,eAAe5hB,YAMxC,yBAAKyP,UAAWC,IAAWC,IAAQmQ,KAAM,eACvC,6BACE,uBAAG/G,MAAO,CAACjU,QAAS,WAApB,eACA,0BAAMiU,MAAO,CAACgH,MAAM,UAClB,kBAAC,KAAD,CACA9O,MAAO,CACL,SACA,SACA,WACA,WACA,UACA,WAEFI,aAAcC,GACdC,YAAY,EACZC,aAAc,SAAAzC,GACZtQ,UAASC,MAAMkjB,eAAe5hB,MAAQ+O,EACtC,EAAK0S,oBACHhjB,UAASC,MAAMuG,cACf,QACA8J,KAIJ,kBAAC,IAAD,CAAQtJ,KAAMhH,UAASC,MAAMkjB,eAAe5hB,kB,GA9P/BsQ,IAAMC,a,EC4BpBsR,GAjCdtS,Y,6MAECuS,iBAAmB,WACjB,OAA4C,IAAxCrjB,UAASC,MAAMuG,cAAcqB,OAE7B,6BACE,mDAKJ,+CAAiB4a,KACf,OACAziB,UAASC,MAAMuG,cAAcqB,QAC7B,M,wEAMJ,OACE,6BACGtI,KAAK8jB,mBACmC,IAAxCrjB,UAASC,MAAMuG,cAAcqB,OAC5B,kBAAC,GAAD,MAEA,kBAAC,GAAD,W,GAzBegK,IAAMC,a,ECkJhBwR,I,OA/IdxS,Y,cAGG,WAAYsC,GAAQ,IAAD,8BACf,4CAAMA,KACDe,MAAQ,CACX8M,WAAY,KAEZE,iBAAgB,EAChBoC,qBAAoB,GANP,E,sEAYT,IAAD,OACOvjB,UAASC,MAAMA,MAC3B,OACI,6BACI,kDAIA,kBAACqU,GAAD,CACIvC,KAAK,QACLX,OAAQ7R,KAAK4U,MAAMgN,gBACnBnP,SAAU,kBACN,EAAKgC,SAAS,CACdmN,iBAAkB,EAAKhN,MAAMgN,oBAIjC,yBAAKnQ,UAAWC,IAAWC,IAAQmQ,KAAM,eACrC,6BACI,uBAAG/G,MAAO,CAACjU,QAAS,WAApB,uBACA,0BAAMiU,MAAO,CAACgH,MAAM,UAChB,kBAAC,KAAD,CACAC,UAAU,SACVC,UAAW,CACPC,gBAAiB,CACfC,SAAS,KAGX,kBAAC,IAAD,CACA1a,KAAK,KACLsT,MAAO,CACHqH,gBAAiB,UACjBpB,gBAAiBvgB,UAASC,MAAMyB,MAAMZ,SAG1C,kBAAC,KAAD,CACAA,MAAOd,UAASC,MAAMyB,MAAMZ,MAC5B2Q,SAAU,SAACnB,GACPtQ,UAASC,MAAM4F,QAAQ5F,MAAM6F,aAAY,SAAA7C,GAEpC,IAAIugB,EAAM,IAAIC,MAAMC,MAAM1jB,UAASC,MAAMyB,MAAMZ,OAAO6iB,EAClDC,EAAO,IAAIH,MAAMC,MAAM1jB,UAASC,MAAMyB,MAAMZ,OAAO+iB,EACnDC,EAAQ,IAAIL,MAAMC,MAAM1jB,UAASC,MAAMyB,MAAMZ,OAAO0hB,EACxDvf,EAAE8gB,WAAWC,UAAUL,EAAIH,EAC3BvgB,EAAE8gB,WAAWC,UAAUH,EAAID,EAC3B3gB,EAAE8gB,WAAWC,UAAUxB,EAAIsB,KAE/B9jB,UAASC,MAAMyB,MAAMZ,MAAQwP,EAAGsR,IAEjC5hB,UAASC,MAAM4F,QAAQoe,kBAU/C,kBAAC3P,GAAD,CACIvC,KAAK,YACLX,OAAQ7R,KAAK4U,MAAMoP,oBACnBvR,SAAU,kBACN,EAAKgC,SAAS,CACduP,qBAAsB,EAAKpP,MAAMoP,wBAIrC,yBAAKvS,UAAWC,IAAWC,IAAQmQ,KAAM,eACrC,6BACI,uBAAG/G,MAAO,CAACjU,QAAS,WAApB,yBACA,0BAAMiU,MAAO,CAACgH,MAAM,UACpB,2BAAO4C,MAAM,aACb,2BACKxP,KAAK,WACLjD,SAAU,SAAAnB,GACNlQ,QAAQC,IAAIL,UAASC,MAAMkkB,eAC3BnkB,UAASC,MAAMkkB,eAAiBnkB,UAASC,MAAMkkB,2B,GA3F3DtS,IAAMC,a,GC4EhBsS,GAjFdtT,Y,mLAGG,OACE,6BACE,0BAAMwJ,MAAO,CAACjU,QAAS,iBACvB,kBAAC,IAAD,CACEiU,MAAO,CAACC,MAAM,SACd1X,GAAG,UACHkO,SAAS,UACTC,UAAWE,IAAQgB,KACnBpL,QAAS,kBAAM9G,UAASC,MAAMC,MAAMmkB,kBALtC,YASA,kBAAC,IAAD,CACE/J,MAAO,CAACC,MAAM,QAAQlU,QAAQ,QAC9BxD,GAAG,UACHkO,SAAS,SACTC,UAAWE,IAAQgB,KACnBpL,QAAS,kBAAM9G,UAASC,MAAMC,MAAMokB,kBALtC,YASA,kBAAC,IAAD,CACEhK,MAAO,CAACC,MAAM,QAAQgK,WAAW,QACjC1hB,GAAG,eACHkO,SAAS,UACTC,UAAWE,IAAQgB,KACnBpL,QAAS,kBAAM9G,UAASC,MAAMC,MAAMskB,uBALtC,iBASA,kBAAC,IAAD,CACElK,MAAO,CAACC,MAAM,QAAQgK,WAAW,OAAOle,QAAQ,QAChDxD,GAAG,eACHkO,SAAS,SACTC,UAAWE,IAAQgB,KACnBpL,QAAS,kBAAM9G,UAASC,MAAMC,MAAMukB,uBALtC,kBAUA,yBAAKnK,MAAO,CAACgE,OAAQ,UACrB,0CACA,kBAAC,KAAD,CACEld,IAAK,GACLC,IAAK,EACLihB,SAAU,GACV7Q,SAAU,SAAAiB,GACR1S,UAASC,MAAMW,MAAMY,UAAYkR,GAEnCA,MAAO1S,UAASC,MAAMW,MAAMY,YAE9B,yBAAK8Y,MAAO,CAACgE,OAAQ,UACrB,4CACA,kBAAC,KAAD,CACEld,IAAK,EACLC,IAAK,GACLihB,SAAU,GACVC,cAAe,EACf9Q,SAAU,SAAAiB,GACR1S,UAASC,MAAMW,MAAMa,YAAciR,GAErCA,MAAO1S,UAASC,MAAMW,MAAMa,cAE9B,yBAAK6Y,MAAO,CAACgE,OAAQ,UACrB,wCACA,kBAAC,KAAD,CACE9L,MAAOxS,UAASC,MAAMuc,qBACtB5J,aAAcC,GACdC,YAAY,EACZC,aAAc,SAAAzC,GAAE,OAAKtQ,UAASC,MAAMW,MAAMU,QAAUgP,IAEpD,kBAAC,IAAD,CAAQtJ,KAAMhH,UAASC,MAAMW,MAAMU,gB,GAzEnBuQ,IAAMC,a,qBCqDjB4S,GAtDd5T,oB,mLAEW,IAAD,OAcP,OACE,yBACEE,UAAWC,IAET,qBACA,sBAGF,yBAAKD,UAAWC,IAAWC,IAAQmQ,KAAM,uBACvC,2BACErQ,UAAWC,IAAWC,IAAQiK,MAAOjK,IAAQyT,eAC7CrK,MAAO,CACLC,MAAO,OACPiF,QAAS,MAIX,+BACE,4BACE,wCACA,uCAGJ,+BACGxf,UAASC,MAAMuc,qBAAqBxZ,KAAI,SAACsN,EAAI1I,GAAL,OACvC,wBAAIX,IAAG,UAAKqJ,EAAL,YAAW1I,IAChB,wBAAI0S,MAAO,CAAEkF,QAAS,aAAelP,GACrC,wBAAIgK,MAAO,CAAEkF,QAAS,WAAYoF,WAAY,WArCpC,SAACC,GACvB,IAAMC,EAAMpc,OAAOmc,GACnB,OAAInc,OAAOyT,MAAM2I,IAAQA,EAAM,GAAKA,EAAM,EAEjCD,EAGFnc,OAAOqc,WAAWD,GAAKE,YAAY,GA8B6BC,CAAgB,EAAK7R,MAAMzQ,KAAK2N,iB,GA1CpFuB,IAAMC,a,uBC8BhBhB,I,kBAAAA,gBA/Bf,WACE,OACE,yBAAKE,UAAU,UAAUsJ,MAAO,CAAC4K,WAAYllB,UAAS6L,YAAY9L,gBAAkB,UAAY,WAC9F,kBAAC,cAAD,CACEiR,UAAU,eACVmU,UAAU,MACVC,cAAc,SACdC,WAAW,IACXC,YAAY,QACZC,YAAaC,aAAO,OACpBzkB,MAAOf,UAASC,MAAMsJ,cACtBhI,MAAO,SAAA6R,GACL,IAAQjS,EAASiS,EAATjS,KACR,OACE,yBAAKoZ,MAAOpZ,EAAMmd,OAAQnd,GACxB,4CAAYiS,EAAZ,CAAmBuQ,EAAGxiB,EAAO,EAAGskB,GAAItkB,EAAO,EAAGukB,GAAIvkB,EAAO,SAKjE,kBAAC,gBAAD,CACEgkB,UAAU,MACVC,cAAc,SACd7jB,MAAM,SACNR,MAAOf,UAASC,MAAMuJ,eACtB+b,YAAaC,aAAO,aCTbG,GAlBd7U,Y,oLAGO,OACI,yBACIE,UAAWC,IAAW,qBACtBqJ,MAAO,CACHiG,gBAAiBvgB,UAAS6L,YAAYvM,SAAW,UAAY,UAC7D4lB,WAAYllB,UAAS6L,YAAYhM,mBAAoB,UAAY,WAGrE,yBAAKmR,UAAWC,IAAW,4BAA6BjR,UAASC,MAAM0D,SAASwG,WAAanK,UAASC,MAAM0D,SAASyG,WAA7D,uBAA0FpK,UAASC,MAAM0D,SAASwG,UAAlH,0BAA6InK,UAASC,MAAM0D,SAASyG,UAArK,KAAxD,kBAA0PpK,UAASC,MAAM2lB,gBACzQ,yBAAK5U,UAAWC,IAAW,6BAA3B,aAAmEjR,UAASC,MAAMW,MAAMC,QAAxF,KAAmGb,UAASC,MAAMW,MAAME,MAAMC,MAA9H,eAAiJf,UAASC,MAAMW,MAAMM,OAAtK,KAAgLlB,UAASC,MAAMW,MAAMO,KAAKJ,MAA1M,U,GAXQ8Q,IAAMC,a,GCyGf+T,GAzGd/U,Y,oLAEW,IAAD,OAGDgV,EAAoB,EACxB,GAA4C,IAAxC9lB,UAASC,MAAMuG,cAAcqB,QAC3B7H,UAASC,MAAM4c,uBAAwB,CACvC,IAAM/a,EAAiB9B,UAASC,MAAM4c,uBAAuBpW,KAAK/F,IAAImC,GAAGP,WACzEwjB,EAAoB9lB,UAASC,MAAMsH,6BAA6BzF,GAAgBY,QAAO,SAAAO,GAAC,OAAIA,EAAEE,YAAU0E,OAI9G,OACE,yBACImJ,UAAU,8BACVsJ,MAAO,CACHiG,gBAAiBvgB,UAAS6L,YAAYvM,SAAW,UAAY,YAGjE,kBAAC,KAAD,CACIkf,QAAQ,qBACR1D,SAAU8D,KAASC,QAEnB,kBAAC,IAAD,CACI7N,UAAWC,IAAW,CACtBC,IAAQoH,OACRpH,IAAQiB,UAERpB,SAAS,MACT/J,KAAK,MACLiG,OAAQC,IAAO0E,QACf9K,QAAS,WACT9G,UAASC,MAAMC,MAAMiH,mBACrB,EAAK4X,kBAIb,kBAAC,KAAD,CACIP,QAAQ,uBACR1D,SAAU8D,KAASC,QAEnB,kBAAC,IAAD,CACI7N,UAAWC,IAAW,CACtBC,IAAQoH,OACRpH,IAAQiB,UAERpB,SAAS,QACT/J,KAAK,QACLiG,OAAQC,IAAOuS,QACf3Y,QAAS,WACT9G,UAASC,MAAMC,MAAMgH,qBACrB,EAAK6X,kBAIb,kBAAC,KAAD,CACIP,QAAQ,sBACR1D,SAAU8D,KAASC,QAEnB,kBAAC,IAAD,CACI7N,UAAWC,IAAW,CACtBC,IAAQoH,OACRpH,IAAQiB,UAERpB,SAAS,SACT/J,KAAK,OACLiG,OAAQC,IAAOC,OACfrG,QAAS,WACT9G,UAASC,MAAMwc,UACXzc,UAASC,MAAMC,MAAM6lB,kBAEzB,EAAKhH,kBAK6B,IAAxC/e,UAASC,MAAMuG,cAAcqB,QAC3B,yBAAKyS,MAAO,CAAEjU,QAAS,WACrB,kBAAC,KAAD,CACEmY,QAAQ,uBACR1D,SAAU8D,KAASC,QAEnB,kBAAC,IAAD,CACE7N,UAAWC,IAAW,CACpBC,IAAQoH,OACRpH,IAAQiB,UAEVpB,SAAS,QACT/J,KAAI,qBAAgB8e,EAAhB,YACJ7Y,OAAQC,IAAO0E,QACf9K,QAAS,WACP9G,UAASC,MAAMC,MAAM4e,cACrB9e,UAAS6L,YAAYiR,oBAAqB,EAC1C,EAAKiC,wB,GA7FMlN,IAAMC,a,GC0E1BkU,I,OA1DdlV,Y,oLAGG,OACE,yBAAKE,UAAWC,IACd,iBAEE,kBAAC,IAAD,CACEqJ,MAAO,CAACG,aAAc,OACtBzJ,UAAWC,IAAW,CAACC,IAAQoH,SAC/BvH,SAAS,OACTjK,QAAS,WACQ9G,UAASimB,SACfC,QAAQ,QAKnB,6BAGA,kBAAC,IAAD,CACA5L,MAAO,CAACG,aAAc,OACtBzJ,UAAWC,IAAW,CAACC,IAAQoH,SAC/BvH,SAAS,QACTjK,QAAS,WACQ9G,UAASimB,SACfC,QAAQ,OAInB,6BAGA,kBAAC,IAAD,CACA5L,MAAO,CAACG,aAAc,OACtBzJ,UAAWC,IAAW,CAACC,IAAQoH,SAC/BvH,SAAS,OACTjK,QAAS,WACQ9G,UAASimB,SACfE,gB,GAvCCtU,IAAMC,a,ICLxBsU,GADLtV,Y,oLAGG,OACE,6BACE,6CACA,kBAAC,KAAD,CAAOuV,SAAO,EAACxjB,GAAG,iBAChB,kBAAC,KAAD,CAAMA,GAAG,QAAQ0O,MAAM,QAAQ+U,MAAO,kBAAC,GAAD,QACtC,kBAAC,KAAD,CAAMzjB,GAAG,QAAQ0O,MAAM,QAAQ+U,MAAO,kBAAC,GAAD,QACtC,kBAAC,KAAD,CAAMzjB,GAAG,SAAS0O,MAAM,SAAS+U,MAAO,kBAAC,GAAD,QAExC,kBAAC,KAAMC,SAAP,Y,GAVsB1U,IAAMC,a,GAoRvB0U,GAjQd1V,Y,8MAEC2V,eAAiB,CACfxe,KAAM,O,EAERye,iBAAmB,CACjBze,KAAM,S,EAER0e,cAAgB,CACdpC,WAAY,Q,EAEdqC,cAAgB,CACdrC,WAAY,S,EAEdsC,cAAgB,WACd7mB,UAAS6L,YAAYlM,2BAA6BK,UAAS6L,YAAYlM,2B,wEAGvE,OACE,yBAAKqR,UAAU,oBACb,yBAAKA,UAAU,cACZhR,UAAS+L,OAAOqD,WACf,yBACE4B,UAAWC,IACTC,IAAQmQ,KACRnQ,IAAQ4V,YACR,eACA,sBAGF,yBACExM,MAAO,CACLjU,QAAS,OACT0gB,eAAgB,OAChBC,WAAY,SAGd,wBAAI1M,MAAO,CAAEC,MAAO,MACjBva,UAAS+L,OAAOkb,cADnB,YAGA,yBAAK3M,MAAO,CAAEC,MAAO,MACrB,qCACA,yBAAKD,MAAO,CAAEC,MAAO,KACrB,kBAACtH,GAAD,CACEqH,MAAO,CAAE,gBAAiB,IAC1B9H,MAAK,uBAAMxS,UAASC,MAAM0D,SAAS4E,cAA9B,CAA4C,YACjDkK,SAAU,SAAAnC,GAAE,OAAKtQ,UAASC,MAAMinB,YAAc5W,GAC9CoC,MAAO1S,UAASC,MAAMinB,eAG1B,2BACElW,UAAWC,IACTC,IAAQiK,MACRjK,IAAQyT,cACRzT,IAAQiW,aAEV7M,MAAO,CACLC,MAAO,OACP6M,WAAY,SAGd,+BACGpnB,UAAS+L,OAAOsD,WAAWrM,KAAI,SAACL,EAAMiF,GAAP,OAC9B,wBACEX,IAAKW,EACLyf,YAAa,kBACXrnB,UAASC,MAAMC,MAAMqP,iBACnB,CAAC5M,EAAK2kB,UACN,IAGJC,YAAa,kBAAMle,YAAQ1G,EAAK2kB,UAChCE,aAAc,kBACZxnB,UAASC,MAAMC,MAAMqP,iBACnB,CAAC5M,EAAK2kB,UACN,KAIJ,4BAAK3kB,EAAK3C,UAASC,MAAMW,MAAMU,gBAKvC,gCACE,uBACEimB,YAAa,WACPvnB,UAAS+L,OAAO0b,QAAU,IAC5BznB,UAAS+L,OAAO0b,SAAW,EAC3BznB,UAAS+L,OAAOsD,WAAarP,UAAS+L,OAAO2b,SAASC,MACpD3nB,UAAS+L,OAAO0b,QAAUznB,UAAS+L,OAAO6b,UACzC5nB,UAAS+L,OAAO0b,QAAU,GAAKznB,UAAS+L,OAAO6b,aANxD,YADF,OAe+B,IAA5B5nB,UAAS+L,OAAO0b,QACf,uBACEF,YAAa,WACXvnB,UAAS+L,OAAO0b,QAAU,EAC1BznB,UAAS+L,OAAOsD,WAAarP,UAAS+L,OAAO2b,SAASC,MACpD3nB,UAAS+L,OAAO0b,QAAUznB,UAAS+L,OAAO6b,UACzC5nB,UAAS+L,OAAO0b,QAAU,GAAKznB,UAAS+L,OAAO6b,YALtD,SAYE,uBACEtN,MAAO,CACLxZ,MAAO,UACP+mB,cAAe,OACfC,OAAQ,YAGT9nB,UAAS+L,OAAO0b,QAAU,EAP7B,QA5BN,MAsCK,mCACFznB,UAAS+L,OAAOgc,MAAM/kB,KAAI,SAAA4E,GACzB,OACO,GAALA,GACAA,GAAK5H,UAAS+L,OAAOic,SACrBpgB,GAAK5H,UAAS+L,OAAO0b,QAGnB,uBACExgB,IAAKW,EACL0S,MAAO,CACLxZ,MAAO,UACP+mB,cAAe,OACfC,OAAQ,YAGT9nB,UAAS+L,OAAO0b,QAAU,EAR7B,QAYG,GAAL7f,GACAA,GAAK5H,UAAS+L,OAAOic,UACnBpgB,EAAI5H,UAAS+L,OAAO0b,QAAU,GAC9B7f,EAAI5H,UAAS+L,OAAO0b,QAAU,GAC7BznB,UAAS+L,OAAO0b,QAAU,GAAK7f,EAAI,GACnC5H,UAAS+L,OAAO0b,QAAUznB,UAAS+L,OAAOic,QAAU,GACnDpgB,EAAI5H,UAAS+L,OAAOic,QAAU,GAGhC,uBACE/gB,IAAKW,EACL2f,YAAa,WACXvnB,UAAS+L,OAAO0b,QAAU7f,EAC1B5H,UAAS+L,OAAOsD,WAAarP,UAAS+L,OAAO2b,SAASC,MACpD3nB,UAAS+L,OAAO0b,QAAUznB,UAAS+L,OAAO6b,UACzC5nB,UAAS+L,OAAO0b,QAAU,GAC3BznB,UAAS+L,OAAO6b,YAInBhgB,EAAI,EAXP,aAVG,KAzDX,UAoFG5H,UAAS+L,OAAO0b,UAAYznB,UAAS+L,OAAOic,QAC3C,uBACET,YAAa,WACXvnB,UAAS+L,OAAO0b,QAAUznB,UAAS+L,OAAOic,QAC1ChoB,UAAS+L,OAAOsD,WAAarP,UAAS+L,OAAO2b,SAASC,MACpD3nB,UAAS+L,OAAO0b,QAAUznB,UAAS+L,OAAO6b,UACzC5nB,UAAS+L,OAAO0b,QAAU,GAAKznB,UAAS+L,OAAO6b,YAInD5nB,UAAS+L,OAAOic,QAAU,EAT7B,QAYE,uBACE1N,MAAO,CACLxZ,MAAO,UACP+mB,cAAe,OACfC,OAAQ,YAGT9nB,UAAS+L,OAAO0b,QAAU,GAxGnC,OA4GE,uBACEF,YAAa,WACPvnB,UAAS+L,OAAO0b,QAAUznB,UAAS+L,OAAOic,UAC5ChoB,UAAS+L,OAAO0b,SAAW,EAC3BznB,UAAS+L,OAAOsD,WAAarP,UAAS+L,OAAO2b,SAASC,MACpD3nB,UAAS+L,OAAO0b,QAAUznB,UAAS+L,OAAO6b,UACzC5nB,UAAS+L,OAAO0b,QAAU,GAAKznB,UAAS+L,OAAO6b,aANxD,QAaA,6BACA,6BACA,oCAAU5nB,UAAS+L,OAAO0b,QAAU,KAI1C,yBACEzW,UAAWC,IACTC,IAAQmQ,KACRnQ,IAAQ4V,YACR,eACA,oBACA,oBACA,cAEFxM,MAAOta,UAAS6L,YAAYlM,0BAA4BJ,KAAKmnB,iBAAmBnnB,KAAKknB,gBAErF,4BAAQzV,UAAU,WAAWlK,QAASvH,KAAKsnB,eAA3C,WAEA,6BACA,kBAAC,GAAD,OAEF,yBAAK7V,UAAWC,IAAWC,IAAQmQ,KAAMnQ,IAAQ4V,YAAa,eAC5D,qBAAsBxM,MAAO,CAAEC,MAAO,MAAO0N,WAAY,MAAOC,aAAc,QAASC,cAAe,QAAS5D,WAAY,WAC3H,4BAAQvT,UAAU,UAAUlK,QAASvH,KAAKsnB,cAAevM,MAAOta,UAAS6L,YAAYlM,0BAA4BJ,KAAKonB,cAAgBpnB,KAAKqnB,eAA3I,YAKqC,IAAxC5mB,UAASC,MAAMuG,cAAcqB,QAC5B,kBAAC,GAAD,CAAYlF,KAAM3C,UAASC,MAAMuG,cAAc,GAAGC,KAAK/F,MAGhB,IAAxCV,UAASC,MAAMuG,cAAcqB,QAAgB7H,UAASC,MAAMmoB,kBAC3D,kBAAC,GAAD,CAAYzlB,KAAM3C,UAASC,MAAMmoB,iBAAiB3hB,KAAK/F,MAKzD,kBAAC,GAAD,MACA,kBAAC,GAAD,MAEEV,UAASC,MAAMuG,cAAcqB,OAAS,IAAM7H,UAAS6L,YAAY/L,uBAAyB,kBAAC,GAAD,MAG5F,kBAAC,GAAD,W,GAzPoB+R,IAAMC,a,aClBlCuW,cACAC,IAAkBC,sBAElBC,cAEAxoB,UAAS6L,YAAY4c,iBAErB,IAAQC,GAA4BC,KAA5BD,OAAQE,GAAoBD,KAApBC,UAAWC,GAASF,KAATE,EAAGC,GAAMH,KAANG,EAG9B,SAASC,KACF/oB,UAASC,MAAMC,OAIhB+L,OAAO+c,WAAaC,wBAAuBhd,OAAOid,YAAcC,0BAClEnpB,UAAS6L,YAAYoU,oBAJrBhU,OAAOmd,WAAWL,GAAiB,KAQvCA,KAEA9c,OAAOsC,iBAAiB,SAAUwa,I,IA6CnBM,GA3CdC,a,GACAxY,Y,wMAEyC,IAAZwY,EAAW,EAAXA,QACtBA,EAAQ9a,QACN8a,EAAQ9a,MAAM+a,QAAUb,IAAUY,EAAQ9a,MAAM+a,QAAUX,GACxD5oB,WAAYA,UAASC,OAASD,UAASC,MAAMC,QAC/CF,UAASC,MAAMwc,UAAUzc,UAASC,MAAMC,MAAM6lB,kBAC9CxmB,KAAKwf,eAEEuK,EAAQ9a,MAAM+a,QAAUV,GAC7B7oB,WAAYA,UAASC,OAASD,UAASC,MAAMC,OAC/CF,UAASC,MAAMC,MAAMiH,mBAEdmiB,EAAQ9a,MAAM+a,QAAUT,IAC7B9oB,WAAYA,UAASC,OAASD,UAASC,MAAMC,OAC/CF,UAASC,MAAMC,MAAMgH,wB,+BAM3B,OACE,yBACE8J,UAAWC,IAAW,aACpB,eAAe,GACdC,IAAQC,KAAOnR,UAAS6L,YAAYvM,YAEvC,kBAAC,GAAD,MACA,0BAAM0R,UAAU,QACbhR,UAASC,MAAMyO,SACd,kBAAC,GAAD,MAEE,kBAAC,GAAD,OAGL1O,UAASC,MAAMyO,UAAY,kBAAC,GAAD,MAC5B,kBAAC,GAAD,W,GAnCUmD,IAAMC,a,wCCrCpB0X,IAASC,OAAO,kBAAC,GAAD,MAAQ5Q,SAASC,eAAe,U,iCCVpD,8KAAM4Q,EAAOlQ,EAAQ,KACfmQ,EAAWnQ,EAAQ,KAmElB,SAAS7P,EAA6B7F,GACzC,IAAM8lB,EA9DH,SAAuB9lB,GAC1B,IAAM8lB,EAAY,IAAIF,EAAKG,MAG3B,OAFAD,EAAUE,aAAahmB,EAAS7B,SAASrB,MAAMoC,KAAI,SAAAC,GAAC,MAAI,CAACA,EAAEJ,GAAII,OAC/D2mB,EAAUG,aAAajmB,EAAS7B,SAASP,MAAMsB,KAAI,SAAAb,GAAC,MAAI,CAACA,EAAEE,UAAWF,EAAEK,eACjEonB,EA0DWI,CAAclmB,GAC1BmM,EAASyZ,EAAKnO,kBAAkBqO,GAEtC,OADAxpB,QAAQC,IAAI,oCACL4P,EAOJ,SAASrG,EAAoB9F,GAEhC,OADS,IAAI6lB,EAASM,oBAtDnB,SAA0BnmB,GAC7B,IACI8D,EADAsiB,EAAS,GAEb,IAAKtiB,EAAI,EAAGA,EAAI9D,EAAS7B,SAASrB,MAAMiH,OAAQD,IAC5CsiB,EAAOpmB,EAAS7B,SAASrB,MAAMgH,GAAG/E,IAAM+E,EAE5C,IAAIic,EAAI,IAAI8F,EAASE,MAAM/lB,EAAS7B,SAASrB,MAAMiH,QAInD,OAHA/D,EAAS7B,SAASP,MAAMQ,SAAQ,SAAAC,GAC5B0hB,EAAEsG,QAAQD,EAAO/nB,EAAEE,WAAY6nB,EAAO/nB,EAAEK,eAErC,CAACqhB,EAAGqG,GA4C+BE,CAAiBtmB,GAAU,IAC3DumB,iBAOP,SAASxgB,EAAa/F,GACzB,IAAMwmB,EAAYxmB,EAAS7B,SAASrB,MAAMiH,OAE1C,OAAQ,GADU/D,EAAS7B,SAASP,MAAMmG,OAAS,IACxByiB,GAAcA,EAAY,IAOlD,SAASxgB,EAAchG,GAC1B,IAAIymB,EAAM,EAKV,OAJAzmB,EAAS7B,SAASrB,MAAMsB,SAAQ,SAAAC,GACxBooB,GAAOpoB,EAAEiZ,UAGVmP,EAAMzmB,EAAS7B,SAASrB,MAAMiH,OAOlC,SAASkC,EAAmBjG,GAC/B,IAAI0mB,EArED,SAAoC1mB,GACvC,IACI8D,EADAsiB,EAAS,GAEb,IAAKtiB,EAAI,EAAGA,EAAI9D,EAAS7B,SAASrB,MAAMiH,OAAQD,IAC5CsiB,EAAOpmB,EAAS7B,SAASrB,MAAMgH,GAAG/E,IAAM+E,EAE5C,IAAIic,EAAI,IAAI8F,EAASc,gBAAgB3mB,EAAS7B,SAASrB,MAAMiH,QAI7D,OAHA/D,EAAS7B,SAASP,MAAMQ,SAAQ,SAAAC,GAC5B0hB,EAAEsG,QAAQ,IAAIR,EAASe,KAAKR,EAAO/nB,EAAEE,WAAY6nB,EAAO/nB,EAAEK,WAAY,OAEnE,CAACqhB,EAAGqG,GA2DAS,CAA2B7mB,GAClC8mB,EAAMJ,EAAK,GACXN,EAASM,EAAK,GACdK,GAAO,EAUX,OATA/mB,EAAS7B,SAASrB,MAAMsB,SAAQ,SAAAC,GAC5B,IAAI2oB,EAAW,IAAInB,EAASoB,SAASH,EAAKV,EAAO/nB,EAAEU,KACnDiB,EAAS7B,SAASrB,MAAMsB,SAAQ,SAAA8oB,GAC5B,GAAGF,EAASG,UAAUf,EAAOc,EAAEnoB,KAAK,CAChC,IAAIqoB,EAAaJ,EAASK,OAAOjB,EAAOc,EAAEnoB,KAAKgF,OAC/CgjB,EAAMhiB,KAAKxH,IAAIwpB,EAAKK,UAIzBL,I,y2GCtHErqB,EAAmByL,OAAO6B,WAAa7B,OAAOmf,OAAOtd,SAErDud,EAAe,6CACfnN,EAAW,8CACXgC,EAAa,8CAEb7T,EAAc,mCAGd+B,EAAyB,CACpC,CAAC,iBAAkB,wCACnB,CAAC,+BAAgC,yCAMtB6a,EAAsB,IACtBE,EAAuB,IAEvBmC,EAAe,eACfC,EAAY,YAEZziB,GAAM,mBAChBwiB,EAAevqB,KADC,cAEhBwqB,EAAYxqB,KAFI,GAKNyqB,EAAmB,mBACnBC,EAAqB,qBACrBC,EAAmB,mBACnBC,EAAoB,oBAEpBC,EAA2B,2BAC3BC,EAA6B,6BAC7BC,EAAmB,mBACnBC,EAAqB,qBACrBC,EAAsB,sBAEtBC,EAAc,cACdC,EAAc,cAEdC,EAAkB,kBAClBC,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAiB,iBAEjBC,EAAkB,kBAClBC,EAAoB,oBACpBC,EAAmB,mBACnBC,EAAiB,iBAEjBC,EAAY,YACZC,EAAkB,kBAClBC,EAAwB,wBACxBC,EACX,mCACWC,EAAyB,yBACzBC,EAAmB,mBACnBC,EAAoB,oBACpBC,EAA8B,8BAC9BC,EAA+B,+BAC/BC,EAAmB,mBACnBC,EAAqB,qBAErBC,EAAsB,sBACtBC,EAAwB,wBACxBC,EAA0B,0BAC1BC,EAA2B,2BAE3BC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAmB,mBACnBC,GAAmB,mBACnBC,GAAmB,mBAEnBC,GAAoB,oBACpBC,GAAoB,oBACpBC,GAAoB,oBACpBC,GAAoB,oBAEpB9Z,GAAqB,4BACrBL,GAAiB,kBAEjBoC,GAAuB,+BACvBU,GAAkB,kBAClBsX,GAAe,eACfC,GAAiB,iBACjBC,GAAa,aACbC,GAAe,eAEfC,GAAiB,iBACjBC,GAAkB,kBAElBC,GAAY,YACZC,GAAkB,kBAClBC,GAAW,WACXC,GAAgB,iB,mmBCxCvBC,EACE,SAACC,GACL1uB,QAAQC,IAAR,2BAAgCyuB,EAAhC,YAIW,SAASzG,KA2MjB,SAAShf,EAAQie,GACtBuH,EAAiBF,WAAUrH,GAiCtB,SAAS5Q,IACdmY,EAAiBd,qBAGZ,SAASnX,IACdiY,EAAiBZ,qBAGZ,SAAShX,IACd4X,EACER,aACAruB,UAAS8L,OAAOuK,UAChBrW,UAAS8L,OAAOsK,WAKb,SAASqC,EAAcsW,GAC5BF,EAAiB5C,cAAa8C,GAqBzB,SAASpZ,EAA0BqZ,EAAa3jB,EAAWmK,GAC3DA,IACHA,EAAiB,gBAEnBxV,UAAS8L,OAAOoJ,SAAU,EAC1B,IAAMvF,EAAe,CACnBqf,cACApuB,MAAO,CACLmK,KAAM/K,UAAS8L,OAAO6D,aAAa7E,SAASC,KAC5CE,WAAYjL,UAAS8L,OAAO6D,aAAa7E,SAASG,WAClDE,QAAS8jB,eAAKjvB,UAAS8L,OAAO6D,aAAa7E,SAASK,SACpDC,QAAS6jB,eAAKjvB,UAAS8L,OAAO6D,aAAa7E,SAASM,UAEtD1J,MAAO,CACLqJ,KAAM/K,UAAS8L,OAAO6D,aAAarE,SAASP,KAC5CE,WAAYjL,UAAS8L,OAAO6D,aAAarE,SAASL,WAClDE,QAAS8jB,eAAKjvB,UAAS8L,OAAO6D,aAAarE,SAASH,SACpDC,QAAS6jB,eAAKjvB,UAAS8L,OAAO6D,aAAarE,SAASF,SACpDK,cAAezL,UAAS8L,OAAO6D,aAAarE,SAASG,eAEvDJ,YACAmK,kBAEFqZ,EAAiBV,eAAcxe,G,2CAG/Buf,CAAmBvf,GAAclD,MAAK,SAAAxM,GAEpCD,UAAS8L,OAAOqjB,iBAAiBlvB,EAAMgC,UAEvCc,sBAAY,uBAAuB,WACjC/C,UAASC,MAAMgC,SAAWhC,EAAMgC,SAChCjC,UAASC,MAAM0D,SAAW1D,EAAM0D,SAChC3D,UAASC,MAAM6gB,gBAGjB9gB,UAASC,MAAMW,MAAQZ,UAASC,MAAMU,oBAAoBC,MAC1DZ,UAASC,MAAMoD,UAAY,IAAIqB,IAC/B1E,UAAS8L,OAAOoJ,SAAU,EAC1BlV,UAAS8L,OAAOuF,YAAa,EAExBrR,UAAS6L,YAAYvM,UACxBU,UAASC,MAAMC,MAAMyR,aAEnB3R,UAAS6L,YAAYjM,eACvBI,UAASC,MAAMC,MAAMI,cAErBN,UAASC,MAAMC,MAAMC,cAGvBH,UAASC,MAAMC,MAAM0V,6BAIlB,SAASG,KAsOT,WAAP,gCArOEqZ,GAAsB3iB,MAAK,SAAAxM,GAEzBD,UAAS8L,OAAOqjB,iBAAiBlvB,EAAMgC,UAEvCc,sBAAY,uBAAuB,WACjC/C,UAASC,MAAMgC,SAAWhC,EAAMgC,SAChCjC,UAASC,MAAM0D,SAAW1D,EAAM0D,SAChC3D,UAASC,MAAM6gB,gBAGjB9gB,UAASC,MAAMW,MAAQZ,UAASC,MAAMU,oBAAoBC,MAC1DZ,UAASC,MAAMoD,UAAY,IAAIqB,IAC/B1E,UAAS8L,OAAOoJ,SAAU,EAC1BlV,UAAS8L,OAAOkK,gBAAiB,EAE5BhW,UAAS6L,YAAYvM,UACxBU,UAASC,MAAMC,MAAMyR,aAEnB3R,UAAS6L,YAAYjM,eACvBI,UAASC,MAAMC,MAAMI,cAErBN,UAASC,MAAMC,MAAMC,cAGvBH,UAASC,MAAMC,MAAM0V,6B,SAIVyZ,E,kFAAf,WAAuBC,EAAY5f,EAAWrE,GAA9C,iBAAAwC,EAAA,6DACQ2B,EAAO8f,GACP1f,EAAS,IAAIC,YACZC,WAAWN,GAHpB,kBAIS,IAAI+f,SAAQ,SAACC,EAASC,GAC3B7f,EAAOG,OAAS,WACd,IAAMyO,EAAU5O,EAAOK,OACvB,IACMP,GACF8f,EAAQhrB,IAAMga,EAAS,CACrBjO,QAAS,IACTH,MAAM,EACNI,YAAY,EACZC,kBAAkB,EAClBtF,QAASuE,EACTrE,eAGJmkB,EAAQhrB,IAAMga,EAAS,CACrBjO,QAAS,IACTH,MAAM,EACNI,YAAY,EACZC,kBAAkB,EAClBtF,aAASlH,EACToH,eAEF,MAAMqkB,GACN,IAAIC,EAAOD,EAAI1iB,QACyC,GAAzC2iB,EAAInc,QAAQ,4BAGzBmc,GADAA,EAAMA,EAAItX,QAAQ,KAAM,WACdA,QAAQ,MAAO,iBAE3BtL,IAAQ/E,KAAK,CACXgF,QAAS,UAAY2iB,EACrB1iB,OAAQC,IAAOC,OACfC,SAAU,IAEZpN,UAAS8L,OAAOoJ,SAAU,QAtClC,4C,+BA4Ce0a,E,8EAAf,WAAyBpR,GAAzB,+EAAA3Q,EAAA,sDAaM,IAZEgiB,EAAS,IAAIC,UACTC,EAASF,EAAOG,gBAAgBxR,EAAQ,YACxCyR,EAAWF,EAAOG,qBAAqB,QACvCC,EAAWJ,EAAOG,qBAAqB,QACvCE,EAAWL,EAAOG,qBAAqB,cAEzCG,EAAY,GACA,GACVC,EAAW,GACXC,EAAW,GACXC,EAAmB,GAEhB5oB,EAAI,EAAGuI,EAAIigB,EAASvoB,OAAQD,EAAIuI,EAAGvI,IAEP,UAD7B6oB,EAAOL,EAASxoB,IACb8oB,aAAa,SACpBL,EAAYI,EAAKP,qBAAqB,aAEA,SAA/BO,EAAKC,aAAa,UACbD,EAAKP,qBAAqB,aAI1C,IAAStoB,EAAI,EAAGuI,EAAIkgB,EAAUxoB,OAAQD,EAAIuI,EAAGvI,IACrC6oB,EAAOJ,EAAUzoB,GACvB4oB,EAAiBC,EAAKC,aAAa,OAASD,EAAKC,aAAa,SAGhE,IAAS9oB,EAAI,EAAGuI,EAAI8f,EAASpoB,OAAQD,EAAIuI,EAAGvI,IACpC+oB,EAAWV,EAASroB,GACpBgpB,EAAID,EAASD,aAAa,UAAUpuB,WACpCuuB,EAAIF,EAASD,aAAa,UAAUpuB,WAC1CguB,EAASvqB,KAAK,CACZ1D,UAAWuuB,EACXpuB,UAAWquB,IAGf,IAASjpB,EAAI,EAAGuI,EAAIggB,EAAStoB,OAAQD,EAAIuI,EAAGvI,IAAK,CAS/C,IARMkpB,EAAWX,EAASvoB,GACpB/E,EAAKiuB,EAASJ,aAAa,MAAMpuB,WACjCyuB,EAAgBD,EAASZ,qBAAqB,aAC9Cc,EAAe,GACO,GAAxBD,EAAclpB,SAChBmpB,EAAeD,EAAc,GAAGb,qBAAqB,aAEnDvtB,EAAO,CAAEE,GAAIA,EAAIuY,OAAQ,EAAG6V,SAAU,EAAG3J,QAASzkB,GAC7CquB,EAAI,EAAGA,EAAIF,EAAanpB,OAAQqpB,IACjCxe,EAAQse,EAAaE,GAAGC,WAAhB,MAAoCze,MAC5C0e,EAA8BJ,EAAaE,GAAGC,WAAhB,KAAqCH,EAAaE,GAAGC,WAAhB,GACnEE,EAAcD,EAA4B1e,MAChD/P,EAAK6tB,EAAiBa,IAAgB3e,EAExC,IAASwe,EAAI,EAAGA,EAAIJ,EAASK,WAAWtpB,OAAQqpB,IACxCI,EAAYR,EAASK,WAAWD,GACpCvuB,EAAK2uB,EAAUvf,MAAQuf,EAAU5e,MAErC/P,EAAI,GAASE,EACbF,EAAI,QAAcE,EAClB0tB,EAASxqB,KAAKpD,GA1DtB,yBA4Da,CAAC4tB,EAAUD,IA5DxB,6C,+BA+DeiB,E,8EAAf,WAAwBjC,GAAxB,iBAAAzhB,EAAA,6DACQ2B,EAAO8f,GACP1f,EAAS,IAAIC,YACZC,WAAWN,GAHpB,kBAKS,IAAI+f,SAAQ,SAACC,EAASC,GACzB7f,EAAOG,OAAS,WAChB,IAAMyO,EAAU5O,EAAOK,OACvBuf,EAAQI,EAAUpR,SARxB,4C,kEAaA,WAAkCgT,GAAlC,iCAAA3jB,EAAA,yDAKQtC,EAASimB,EAAO5wB,MAAMqK,WAAaumB,EAAO9vB,MAAM0J,QAAQG,OAASkmB,SAASD,EAAO9vB,MAAM0J,QAAQG,QAC/FC,EAAOgmB,EAAO5wB,MAAMqK,WAAaumB,EAAO9vB,MAAM0J,QAAQI,KAAOimB,SAASD,EAAO9vB,MAAM0J,QAAQI,MAG7F+kB,EAAW,GACTtwB,EAAQiJ,MACRwoB,EAAa,IACfF,EAAOxC,YAZb,iCAaqBK,EAAQrvB,UAAS8L,OAAO8E,0BAA2B4gB,EAAO5wB,MAAMqK,WAAYumB,EAAOnmB,WAbxG,QAaIklB,EAbJ,QAcaruB,SAAQ,SAAAS,GAAI,OAAI1C,EAAMoJ,QAAQ1G,EAAK6uB,EAAO5wB,MAAMwK,QAAQvI,IAAIP,WAA5C,aACrBO,GAAIF,EAAK6uB,EAAO5wB,MAAMwK,QAAQvI,IAAIP,WAAY8Y,OAAQ,GAAMzY,QAChE4tB,EACEA,EAASvtB,KACP,SAAAC,GAAC,kCAAUA,GAAV,IAAaJ,GAAII,EAAEuuB,EAAO5wB,MAAMwK,QAAQvI,IAAIP,WAAY8Y,OAAQ,EAAG6V,SAAU,QACzE/uB,SAAQ,SAAAe,GAAC,OAAIyuB,EAAWzuB,EAAEJ,IAAM,KAnB7C,yBAqBsBwsB,EAAQrvB,UAAS8L,OAAO2D,0BAA2B+hB,EAAO9vB,MAAMuJ,WAAYumB,EAAOnmB,WArBzG,eAqBQ3J,EArBR,OAsBM8vB,EAAO9vB,MAAM+J,eACf/J,EAAMQ,SAAQ,SAACoO,GACb,IAAMtP,EAAOsP,EAAG/E,GAAQjJ,WAClBrB,EAAKqP,EAAG9E,GAAMlJ,WACfrC,EAAMwJ,QAAQzI,KACjBf,EAAMoJ,QAAQrI,EAAM,CAAE6B,GAAI7B,EAAMoa,OAAQ,IACxCmV,EAASxqB,KAAK,CAAElD,GAAI7B,EAAMoa,OAAQ,EAAG6V,SAAU,IAC/CS,EAAW1wB,GAAQ,GAEhBf,EAAMwJ,QAAQxI,KACjBhB,EAAMoJ,QAAQpI,EAAI,CAAE4B,GAAI5B,EAAIma,OAAQ,IACpCmV,EAASxqB,KAAK,CAAElD,GAAI5B,EAAIma,OAAQ,EAAG6V,SAAU,IAC7CS,EAAWzwB,GAAM,MAKjB0wB,EAAW,IAAI3vB,IAEfsuB,EAAW,GAEXnG,EAAU,SAACnpB,EAAMC,GACrB,IAAM2wB,EAAO,UAAM5wB,EAAN,uBAAeC,GACxB0wB,EAAS/uB,IAAIgvB,KAGjBD,EAASlvB,IAAImvB,GACb3xB,EAAMyJ,QAAQ1I,EAAMC,GACpBywB,EAAW1wB,IAAS,EACpB0wB,EAAWzwB,IAAO,EAClBqvB,EAASvqB,KAAK,CACZ1D,UAAWrB,EACXwB,UAAWvB,MAIfS,EAAMQ,SAAQ,SAAAoO,GACZ,IAAMtP,EAAOsP,EAAG/E,GAAQjJ,WAClBrB,EAAKqP,EAAG9E,GAAMlJ,WAEpB6nB,EAAQnpB,EAAMC,MAIV4wB,EAAOC,IAAS7xB,GACtBswB,EAAWA,EAASvtB,KAAI,SAAAC,GAAC,kCAAUA,GAAV,IAAaqkB,QAASrkB,EAAEJ,GAAIouB,SAAUY,EAAK5uB,EAAEJ,IAAKuY,OAAQsW,EAAWzuB,EAAEJ,SAnElG,kBAoES,CACLZ,SAAU,CAAErB,MAAO2vB,EAAU7uB,MAAO4uB,GACpC3sB,SAAU,CACR2G,aAAc,iBACdH,UAAWomB,EAAS1oB,OACpBuC,UAAWkmB,EAASzoB,OACpBS,eAAgB3D,OAAO+L,KAAK6f,EAAS,IACrChoB,aAAc,CAAC,WAAY,UAC3B8B,eAAgB,CAAC,YAAa,gBA5EpC,6C,kEAiFO,4CAAAwD,EAAA,sEACoB0jB,EAASvxB,UAAS8L,OAAOgK,2BAD7C,cACCic,EADD,OAEDxB,EAAWwB,EAAW,GACpBrwB,EAAQqwB,EAAW,GACnB9xB,EAAQiJ,MACRwoB,EAAa,GAEnBnB,EAASruB,SAAQ,SAACoO,GAChB,IAAMwgB,EAAWxgB,EAAE,GAAOhO,WACrBrC,EAAMwJ,QAAQqnB,KACjB7wB,EAAMoJ,QAAQynB,EAAUxgB,GACxBohB,EAAWZ,GAAY,MAIrBa,EAAW,IAAI3vB,IAEfsuB,EAAW,GAEXnG,EAAU,SAACnpB,EAAMC,GACrB,IAAM2wB,EAAO,UAAM5wB,EAAN,uBAAeC,GACxB0wB,EAAS/uB,IAAIgvB,KAGjBD,EAASlvB,IAAImvB,GACb3xB,EAAMyJ,QAAQ1I,EAAMC,GACpBywB,EAAW1wB,IAAS,EACpB0wB,EAAWzwB,IAAO,EAClBqvB,EAASvqB,KAAK,CACZ1D,UAAWrB,EACXwB,UAAWvB,MAIfS,EAAMQ,SAAQ,SAAAoO,GACZ,IAAMtP,EAAOsP,EAAE,UAAchO,WACvBrB,EAAKqP,EAAE,UAAchO,WAG3B6nB,EAAQnpB,EAAMC,MAIV4wB,EAAOC,IAAS7xB,GACtBswB,EAAWA,EAASvtB,KAAI,SAAAC,GAAC,kCAAUA,GAAV,IAAaqkB,QAASrkB,EAAEJ,GAAIouB,SAAUY,EAAK5uB,EAAEJ,IAAKuY,OAAQsW,EAAWzuB,EAAEJ,SA5C3F,kBA6CE,CACLZ,SAAU,CAAErB,MAAO2vB,EAAU7uB,MAAO4uB,GACpC3sB,SAAU,CACR2G,aAAc,iBACdH,UAAWomB,EAAS1oB,OACpBuC,UAAWkmB,EAASzoB,OACpBS,eAAgB3D,OAAO+L,KAAK6f,EAAS,IACrChoB,aAAc,CAAC,WAAY,UAC3B8B,eAAgB,CAAC,YAAa,gBArD7B,6C,sBA0DA,SAAS8E,EAAUD,GACxB2f,EAAiBN,iBAAgBrf,EAAWlP,UAASC,MAAMinB,aAGtD,SAASsB,IACdqG,EAAiBjD,4BAGZ,SAASrW,EAAwByc,GACtCnD,EAAiB9C,qBAAoBiG,GAOhC,SAAS5yB,IACdyvB,EAAiBrD,oBAGZ,SAAS9rB,EAAsBL,GACpCwvB,EAAiBnD,mBAAkBrsB,K,oBCrsBrC,IAAI4yB,EAAIzY,EAAQ,KAOhB,SAAS0Y,EAAKrvB,GAAiB,IAAb1B,EAAY,uDAAL,GACvB5B,KAAKsD,GAAKA,EACVtD,KAAK4yB,MAAQtvB,EACbtD,KAAK6yB,GAAK,GACV7yB,KAAK8yB,IAAM,GACX9yB,KAAK4B,KAAOA,EACZ5B,KAAKwkB,WAAa,GAClBxkB,KAAK+yB,WAAa,GAClB/yB,KAAK6iB,EAAI,EACT7iB,KAAK8iB,EAAI,EACT9iB,KAAKgzB,GAAK,EACVhzB,KAAKizB,GAAK,EAKVjzB,KAAKkzB,YAAc,SAAS5vB,GAI1B,OAHA6vB,WAAanzB,KAAK8yB,IAAIrvB,KAAI,SAAS2vB,GACjC,OAAOA,EAAQ9vB,MAEVovB,EAAEW,QAAQ/vB,EAAI6vB,aAAe,GAIxCR,EAAKW,UAAUC,YAAc,SAASnwB,GACpC,OAAKpD,KAAKkzB,YAAY9vB,EAAKE,MACzBtD,KAAK8yB,IAAItsB,KAAKpD,IACP,IAKXowB,EAAQrI,KAtCR,SAActoB,EAAQG,GACpBhD,KAAK6C,OAASA,EACd7C,KAAKgD,OAASA,EACdhD,KAAKwkB,WAAa,IAoCpBgP,EAAQb,KAAOA,G,oBCxCf,IAAIzO,EAAQjK,EAAQ,KAwKpB,SAASwZ,EAAO7U,EAAK8U,EAAWC,EAAKC,EAAWtrB,GAC9C,IAAID,EAWJ,GATAuW,EAAMA,EAAIiV,UAAYjV,EAAIwJ,MAAQxJ,EAAMA,EAAIkV,OAC5CH,EAAMA,EAAIE,UAAYF,EAAIvL,MAAQuL,EAAMA,EAAIG,OAE5ClV,EAAM8U,EACF9U,EAAIiV,SACFjV,EAAIiV,SAASH,EAAWprB,GAAUorB,EAAYprB,GAC9CsW,EAAIwJ,MAAMsL,EAAWprB,GAAUorB,EAAYprB,GAC7CsW,EAEA+U,EAAIrQ,IACNqQ,EAAIrQ,IAAI1E,EAAKgV,QAEb,IAAKvrB,EAAI,EAAGA,EAAIuW,EAAItW,OAAQD,IAC1BsrB,EAAItrB,EAAIurB,GAAahV,EAAIvW,GAI7B,OAAOsrB,EA1LTzP,EAAM6P,SAAW,WACf/zB,KAAK+D,UAAY,GAEjB/D,KAAKg0B,SAAW,GAChBh0B,KAAKi0B,KAAO,GACZj0B,KAAKk0B,KAAO,GACZl0B,KAAKgb,MAAQ,GACbhb,KAAKm0B,cAAgB,GACrBn0B,KAAKo0B,IAAM,GACXp0B,KAAKq0B,SAAW,GAChBr0B,KAAKs0B,SAAW,IAAIpQ,EAAMqQ,eAE1Bv0B,KAAKw0B,cAAgB,MAGvBtQ,EAAM6P,SAAST,UAAUmB,YAAc,SAASnQ,EAAGoQ,GAMjD,GALA10B,KAAKw0B,cAAgBE,EAErB10B,KAAK+D,UAAY,GACjB/D,KAAKq0B,SAAW,GAEZ/P,aAAaJ,EAAMyQ,SACrB,IAAK,IAAIhD,EAAI,EAAGA,EAAIrN,EAAEsQ,SAAStsB,OAAQqpB,IAAK,CAC1C,IAAIpsB,EAAI+e,EAAEsQ,SAASjD,GACf+C,EAAI/C,EAAIrN,EAAEsQ,SAAStsB,OACvBtI,KAAK+D,UAAUyC,KAAKjB,EAAEsd,EAAGtd,EAAEud,EAAGvd,EAAEsvB,GAChC70B,KAAK+D,UAAUyC,KAAKjB,EAAEsd,EAAGtd,EAAEud,EAAGvd,EAAEsvB,GAChC70B,KAAKq0B,SAAS7tB,KAAKkuB,GACnB10B,KAAKq0B,SAAS7tB,KAAKkuB,GAQvB,GAJiBxQ,EAAMqQ,eAInBjQ,aAAawQ,cAAgBxQ,aAAapgB,MAC5C,IAASytB,EAAI,EAAGA,EAAIrN,EAAEhc,OAAQqpB,GAAK,EAAG,CAChC+C,EAAI/C,EAAIrN,EAAEhc,OACdtI,KAAK+D,UAAUyC,KAAK8d,EAAEqN,GAAIrN,EAAEqN,EAAI,GAAIrN,EAAEqN,EAAI,IAC1C3xB,KAAK+D,UAAUyC,KAAK8d,EAAEqN,GAAIrN,EAAEqN,EAAI,GAAIrN,EAAEqN,EAAI,IAC1C3xB,KAAKq0B,SAAS7tB,KAAKkuB,GACnB10B,KAAKq0B,SAAS7tB,KAAKkuB,GAIvB10B,KAAKsG,WAGP4d,EAAM6P,SAAST,UAAUyB,UAAY,SAASzmB,EAAG2U,GAC/C,IAAI+R,EAAS,EAAJ1mB,EACL2mB,EAAS,EAAJhS,EACT,OACEjjB,KAAK+D,UAAUixB,KAAQh1B,KAAK+D,UAAUkxB,IACtCj1B,KAAK+D,UAAUixB,EAAK,KAAOh1B,KAAK+D,UAAUkxB,EAAK,IAC/Cj1B,KAAK+D,UAAUixB,EAAK,KAAOh1B,KAAK+D,UAAUkxB,EAAK,IAInD/Q,EAAM6P,SAAST,UAAU4B,OAAS,SAAS5mB,GACzC,IAAI0mB,EAAS,EAAJ1mB,EACT,MAAO,CAACtO,KAAK+D,UAAUixB,GAAKh1B,KAAK+D,UAAUixB,EAAK,GAAIh1B,KAAK+D,UAAUixB,EAAK,KAG1E9Q,EAAM6P,SAAST,UAAUhtB,QAAU,WACjC,IAcI6uB,EAaA5vB,EA3BAqL,EAAI5Q,KAAK+D,UAAUuE,OAAS,EAEhCtI,KAAKg0B,SAAW,GAChBh0B,KAAKi0B,KAAO,GACZj0B,KAAKk0B,KAAO,GACZl0B,KAAKgb,MAAQ,GACbhb,KAAKm0B,cAAgB,GACrBn0B,KAAKo0B,IAAM,GAEX,IAAK,IAAIzC,EAAI,EAAGA,EAAI/gB,EAAG+gB,IACrB3xB,KAAKk0B,KAAK1tB,KAAK,GACfxG,KAAKk0B,KAAK1tB,MAAM,GAIlB,IAASmrB,EAAI,EAAGA,EAAI/gB,EAAG+gB,IACGwD,EAApBn1B,KAAKw0B,cAAmBx0B,KAAKw0B,cAAc7C,GAAK/gB,EAAI,IAC/C,EACT5Q,KAAKgb,MAAMxU,KAAK2uB,GAChBn1B,KAAKgb,MAAMxU,KAAK2uB,GAGlB,IAASxD,EAAI,EAAGA,EAAI/gB,EAAG+gB,IACrB3xB,KAAKo0B,IAAI5tB,KAAKmrB,GAAK/gB,EAAI,GAAI,GAC3B5Q,KAAKo0B,IAAI5tB,KAAKmrB,GAAK/gB,EAAI,GAAI,GAM3BrL,EADEvF,KAAK+0B,UAAU,EAAGnkB,EAAI,GACpB5Q,KAAKk1B,OAAOtkB,EAAI,GAEhB5Q,KAAKk1B,OAAO,GAElBl1B,KAAKg0B,SAASxtB,KAAKjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACjCvF,KAAKg0B,SAASxtB,KAAKjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACjC,IAASosB,EAAI,EAAGA,EAAI/gB,EAAI,EAAG+gB,IACzBpsB,EAAIvF,KAAKk1B,OAAOvD,GAChB3xB,KAAKg0B,SAASxtB,KAAKjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACjCvF,KAAKg0B,SAASxtB,KAAKjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAGnC,IAASosB,EAAI,EAAGA,EAAI/gB,EAAG+gB,IACrBpsB,EAAIvF,KAAKk1B,OAAOvD,GAChB3xB,KAAKi0B,KAAKztB,KAAKjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAC7BvF,KAAKi0B,KAAKztB,KAAKjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAI7BA,EADEvF,KAAK+0B,UAAUnkB,EAAI,EAAG,GACpB5Q,KAAKk1B,OAAO,GAEZl1B,KAAKk1B,OAAOtkB,EAAI,GAEtB5Q,KAAKi0B,KAAKztB,KAAKjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAC7BvF,KAAKi0B,KAAKztB,KAAKjB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAE7B,IAASosB,EAAI,EAAGA,EAAI/gB,EAAI,EAAG+gB,IAAK,CAC9B,IAAIjuB,EAAQ,EAAJiuB,EACR3xB,KAAKm0B,cAAc3tB,KAAK9C,EAAGA,EAAI,EAAGA,EAAI,GACtC1D,KAAKm0B,cAAc3tB,KAAK9C,EAAI,EAAGA,EAAI,EAAGA,EAAI,GAGvC1D,KAAK4xB,YAYR5xB,KAAK4xB,WAAWrW,SAAS6Z,UAAU,IAAIN,aAAa90B,KAAK+D,YACzD/D,KAAK4xB,WAAWrW,SAAS8Z,aAAc,EACvCr1B,KAAK4xB,WAAWoC,SAASoB,UAAU,IAAIN,aAAa90B,KAAKg0B,WACzDh0B,KAAK4xB,WAAWoC,SAASqB,aAAc,EACvCr1B,KAAK4xB,WAAWqC,KAAKmB,UAAU,IAAIN,aAAa90B,KAAKi0B,OACrDj0B,KAAK4xB,WAAWqC,KAAKoB,aAAc,EACnCr1B,KAAK4xB,WAAWsC,KAAKkB,UAAU,IAAIN,aAAa90B,KAAKk0B,OACrDl0B,KAAK4xB,WAAWsC,KAAKmB,aAAc,EACnCr1B,KAAK4xB,WAAW5W,MAAMoa,UAAU,IAAIN,aAAa90B,KAAKgb,QACtDhb,KAAK4xB,WAAW5W,MAAMqa,aAAc,EACpCr1B,KAAK4xB,WAAW0D,GAAGF,UAAU,IAAIN,aAAa90B,KAAKo0B,MACnDp0B,KAAK4xB,WAAW0D,GAAGD,aAAc,EACjCr1B,KAAK4xB,WAAWgB,MAAMwC,UAAU,IAAIG,YAAYv1B,KAAKm0B,gBACrDn0B,KAAK4xB,WAAWgB,MAAMyC,aAAc,GAxBpCr1B,KAAK4xB,WAAa,CAChBrW,SAAU,IAAI2I,EAAMsR,gBAAgB,IAAIV,aAAa90B,KAAK+D,WAAY,GACtEiwB,SAAU,IAAI9P,EAAMsR,gBAAgB,IAAIV,aAAa90B,KAAKg0B,UAAW,GACrEC,KAAM,IAAI/P,EAAMsR,gBAAgB,IAAIV,aAAa90B,KAAKi0B,MAAO,GAC7DC,KAAM,IAAIhQ,EAAMsR,gBAAgB,IAAIV,aAAa90B,KAAKk0B,MAAO,GAC7DlZ,MAAO,IAAIkJ,EAAMsR,gBAAgB,IAAIV,aAAa90B,KAAKgb,OAAQ,GAC/Dsa,GAAI,IAAIpR,EAAMsR,gBAAgB,IAAIV,aAAa90B,KAAKo0B,KAAM,GAC1DxB,MAAO,IAAI1O,EAAMsR,gBAAgB,IAAID,YAAYv1B,KAAKm0B,eAAgB,GACtEE,SAAU,IAAInQ,EAAMsR,gBAAgB,IAAIV,aAAa90B,KAAKq0B,UAAW,IAmBzEr0B,KAAKs0B,SAASmB,aAAa,WAAYz1B,KAAK4xB,WAAWrW,UACvDvb,KAAKs0B,SAASmB,aAAa,WAAYz1B,KAAK4xB,WAAWoC,UACvDh0B,KAAKs0B,SAASmB,aAAa,OAAQz1B,KAAK4xB,WAAWqC,MACnDj0B,KAAKs0B,SAASmB,aAAa,OAAQz1B,KAAK4xB,WAAWsC,MACnDl0B,KAAKs0B,SAASmB,aAAa,QAASz1B,KAAK4xB,WAAW5W,OACpDhb,KAAKs0B,SAASmB,aAAa,KAAMz1B,KAAK4xB,WAAW0D,IACjDt1B,KAAKs0B,SAASmB,aAAa,WAAYz1B,KAAK4xB,WAAWyC,UAEvDr0B,KAAKs0B,SAASoB,SAAS11B,KAAK4xB,WAAWgB,QA8BzC1O,EAAM6P,SAAST,UAAUqC,QAAU,SAASpa,GAC1C,IAAIxX,EAAY/D,KAAK4xB,WAAWrW,SAASqa,MACrC5B,EAAWh0B,KAAK4xB,WAAWoC,SAAS4B,MACpC3B,EAAOj0B,KAAK4xB,WAAWqC,KAAK2B,MAC5BhlB,EAAI7M,EAAUuE,OAGlBmrB,EAAO1vB,EAAW,EAAGiwB,EAAU,EAAGpjB,GAGlC6iB,EAAO1vB,EAAW,EAAGA,EAAW,EAAG6M,EAAI,GAEvC7M,EAAU6M,EAAI,GAAK2K,EAASsH,EAC5B9e,EAAU6M,EAAI,GAAK2K,EAASuH,EAC5B/e,EAAU6M,EAAI,GAAK2K,EAASsZ,EAC5B9wB,EAAU6M,EAAI,GAAK2K,EAASsH,EAC5B9e,EAAU6M,EAAI,GAAK2K,EAASuH,EAC5B/e,EAAU6M,EAAI,GAAK2K,EAASsZ,EAG5BpB,EAAO1vB,EAAW,EAAGkwB,EAAM,EAAGrjB,EAAI,GAElCqjB,EAAKrjB,EAAI,GAAK2K,EAASsH,EACvBoR,EAAKrjB,EAAI,GAAK2K,EAASuH,EACvBmR,EAAKrjB,EAAI,GAAK2K,EAASsZ,EACvBZ,EAAKrjB,EAAI,GAAK2K,EAASsH,EACvBoR,EAAKrjB,EAAI,GAAK2K,EAASuH,EACvBmR,EAAKrjB,EAAI,GAAK2K,EAASsZ,EAEvB70B,KAAK4xB,WAAWrW,SAAS8Z,aAAc,EACvCr1B,KAAK4xB,WAAWoC,SAASqB,aAAc,EACvCr1B,KAAK4xB,WAAWqC,KAAKoB,aAAc,GAGrCnR,EAAM2R,iBAAmB,SAASC,GAqHhC,SAASC,EAAMxwB,EAAGywB,GAChB,YAAUtxB,IAANa,EAAwBywB,EACrBzwB,EAGT2e,EAAM+R,SAASC,KAAKl2B,MAEpB81B,EAAaA,GAAc,GAE3B91B,KAAKm2B,UAAYJ,EAAMD,EAAWK,UAAW,GAC7Cn2B,KAAKyD,IAAMsyB,EAAMD,EAAWryB,IAAK,MACjCzD,KAAKo2B,OAASL,EAAMD,EAAWM,OAAQ,GACvCp2B,KAAKuB,MAAQw0B,EAAMD,EAAWv0B,MAAO,IAAI2iB,EAAMC,MAAM,WACrDnkB,KAAKq2B,QAAUN,EAAMD,EAAWO,QAAS,GACzCr2B,KAAKs2B,WAAaP,EAAMD,EAAWQ,WAAY,IAAIpS,EAAMqS,QAAQ,EAAG,IACpEv2B,KAAKw2B,gBAAkBT,EAAMD,EAAWU,gBAAiB,GACzDx2B,KAAKy2B,KAAOV,EAAMD,EAAWW,KAAM,GACnCz2B,KAAK02B,IAAMX,EAAMD,EAAWY,IAAK,GACjC12B,KAAK22B,UAAYZ,EAAMD,EAAWa,UAAW,IAC7C32B,KAAK42B,QAAU52B,KAAK22B,YAAc,GAAK,EAAI,EAC3C32B,KAAK2lB,WAAaoQ,EAAMD,EAAWnQ,WAAY,GAC/C3lB,KAAK62B,UAAYd,EAAMD,EAAWe,UAAW,GAE7C,IAAIC,EAAW,IAAI5S,EAAM6S,kBAAkB,CACzCC,SAAU,CACRb,UAAW,CAAEhhB,KAAM,IAAKhC,MAAOnT,KAAKm2B,WACpC1yB,IAAK,CAAE0R,KAAM,IAAKhC,MAAOnT,KAAKyD,KAC9B2yB,OAAQ,CAAEjhB,KAAM,IAAKhC,MAAOnT,KAAKo2B,QACjC70B,MAAO,CAAE4T,KAAM,IAAKhC,MAAOnT,KAAKuB,OAChC80B,QAAS,CAAElhB,KAAM,IAAKhC,MAAOnT,KAAKq2B,SAClCC,WAAY,CAAEnhB,KAAM,KAAMhC,MAAOnT,KAAKs2B,YACtCE,gBAAiB,CAAErhB,KAAM,IAAKhC,MAAOnT,KAAKw2B,iBAC1CC,KAAM,CAAEthB,KAAM,IAAKhC,MAAOnT,KAAKy2B,MAC/BC,IAAK,CAAEvhB,KAAM,IAAKhC,MAAOnT,KAAK02B,KAC9BC,UAAW,CACTxhB,KAAM,KACNhC,MAAO,IAAI+Q,EAAMqS,QAAQv2B,KAAK22B,UAAU,GAAI32B,KAAK22B,UAAU,KAE7DC,QAAS,CAAEzhB,KAAM,IAAKhC,MAAOnT,KAAK42B,SAClCjR,WAAY,CAAExQ,KAAM,IAAKhC,MAAOnT,KAAK2lB,YACrCkR,UAAW,CAAE1hB,KAAM,IAAKhC,MAAOnT,KAAK62B,YAEtCI,aA9JuB,CACvB,yBACA,GACA,2BACA,2BACA,uBACA,wBACA,yBACA,qBACA,4BACA,GACA,iCACA,gCACA,2BACA,2BACA,sBACA,yBACA,sBACA,qBACA,iCACA,GACA,oBACA,uBACA,0BACA,2BACA,GACA,qCACA,GACA,6BACA,uBACA,2BACA,kBACA,GACA,IACA,GACA,gBACA,GACA,kDACA,2EACA,GACA,uCACA,gBACA,GACA,mDACA,sDACA,gDACA,4CACA,GACA,oDACA,2CACA,2CACA,GACA,2DACA,sDACA,GACA,oCACA,uCACA,QACA,GACA,gBACA,mEACA,wEACA,aACA,qDACA,qDACA,0CACA,GACA,+CACA,8CACA,6EACA,GACA,QACA,GACA,2EACA,2CACA,0BACA,wBACA,GACA,qDACA,qCACA,GACA,iEACA,mCACA,GACA,KA0EiCnmB,KAAK,QACtComB,eAxEyB,CACzB,kDACA,2BACA,GACA,yBACA,wBACA,yBACA,0BACA,4BACA,2BACA,GACA,oBACA,uBACA,0BACA,2BACA,GACA,gBACA,GACA,uBACA,oCACA,qDACA,0BACA,SACA,OACA,wBACA,mDACA,KA8CqCpmB,KAAK,UAoB5C,cAjBOglB,EAAWK,iBACXL,EAAWryB,WACXqyB,EAAWM,cACXN,EAAWv0B,aACXu0B,EAAWO,eACXP,EAAWQ,kBACXR,EAAWU,uBACXV,EAAWW,YACXX,EAAWY,WACXZ,EAAWa,iBACXb,EAAWnQ,kBACXmQ,EAAWe,UAElBC,EAAS3hB,KAAO,mBAEhB2hB,EAASK,UAAUrB,GAEZgB,GAGT5S,EAAM2R,iBAAiBvC,UAAYluB,OAAOgyB,OAAOlT,EAAM+R,SAAS3C,WAChEpP,EAAM2R,iBAAiBvC,UAAU+D,YAAcnT,EAAM2R,iBAErD3R,EAAM2R,iBAAiBvC,UAAUgE,KAAO,SAASz0B,GAa/C,OAZAqhB,EAAM+R,SAAS3C,UAAUgE,KAAKpB,KAAKl2B,KAAM6C,GAEzC7C,KAAKm2B,UAAYtzB,EAAOszB,UACxBn2B,KAAKyD,IAAMZ,EAAOY,IAClBzD,KAAKo2B,OAASvzB,EAAOuzB,OACrBp2B,KAAKuB,MAAM+1B,KAAKz0B,EAAOtB,OACvBvB,KAAKq2B,QAAUxzB,EAAOwzB,QACtBr2B,KAAKs2B,WAAWgB,KAAKz0B,EAAOyzB,YAC5Bt2B,KAAKw2B,gBAAkB3zB,EAAO2zB,gBAC9Bx2B,KAAKy2B,KAAO5zB,EAAO4zB,KACnBz2B,KAAK02B,IAAM7zB,EAAO6zB,IAEX12B,MAGTwzB,EAAQO,SAAW7P,EAAM6P,SACzBP,EAAQqC,iBAAmB3R,EAAM2R,kB,oBChbjC,IAAI0B,EAAMtd,EAAQ,IAAaud,QAC3BtT,EAAQqT,EAAIrT,MACLqT,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,GACJH,EAAIxwB,GACLkT,EAAQ,KAEhB0d,EAAOnE,QAAU,SAAS7T,GACxBA,EAAKiY,WAAa,SAASx0B,GACzBuc,EAAKkY,SAAWz0B,EAChBuc,EAAKmY,UAAY,CAAC10B,GAClBA,EAAKohB,WAAWuT,YAAa,EAC7BpY,EAAKqY,gBAAgBrY,EAAKsY,OAAQtY,EAAKuY,SAMzCvY,EAAKwY,eAAiB,WACpB,IAAK,IAAI9vB,EAAI,EAAGA,EAAIsX,EAAKmY,UAAUxvB,OAAQD,IACzCsX,EAAKmY,UAAUzvB,GAAGmc,WAAWuT,YAAa,EACrCR,EAAIa,kBAGPzY,EAAKmY,UAAUzvB,GAAGmc,WAAW6T,YAAYvB,SAASv1B,MAAM+hB,IACtD,IAAIY,EAAMC,MAAMxE,EAAKmY,UAAUzvB,GAAGmc,WAAWjjB,QAH/Coe,EAAKmY,UAAUzvB,GAAGmc,WAAW6T,YAAYhxB,SAAS,GAAGixB,SAAU,EAMjE3Y,EAAKmY,UAAUzvB,GAAGmc,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQC,QAAS,EAEvE9Y,EAAKmY,UAAY,IAOnBnY,EAAKqY,gBAAkB,SAASC,EAAQC,EAAQJ,GAC9C,GAAInY,EAAKkY,SACP,IAAIa,EAAQT,EAAStY,EAAKkY,SAAShV,EAC/B8V,EAAQT,EAASvY,EAAKkY,SAAS/U,EAIrC,IAAI8V,EAAcd,EAEfc,IAAgBA,EAAYC,SAC7BD,EAAYC,SAAU,EACtBD,EAAYE,SAAU,GACbF,GAAeA,EAAYC,UAEpCD,EAAYC,SAAU,EACtBD,EAAYE,SAAU,GAGxB,IAAK,IAAIzwB,EAAI,EAAGA,EAAIsX,EAAKmY,UAAUxvB,OAAQD,IACrCsX,EAAKkY,WACPlY,EAAKmY,UAAUzvB,GAAGwa,GAAK6V,EACvB/Y,EAAKmY,UAAUzvB,GAAGya,GAAK6V,EACvBhZ,EAAKmY,UAAUzvB,GAAG0wB,GAAKpZ,EAAKmY,UAAUzvB,GAAGwa,EACzClD,EAAKmY,UAAUzvB,GAAG2wB,GAAKrZ,EAAKmY,UAAUzvB,GAAGya,EAErC8V,IACFjZ,EAAKmY,UAAUzvB,GAAGwwB,SAAU,EAC5BlZ,EAAKmY,UAAUzvB,GAAGywB,SAAU,IAG3BvB,EAAIa,kBAGPzY,EAAKmY,UAAUzvB,GAAGmc,WAAW6T,YAAYvB,SAASv1B,MAAM+hB,IACtD,IAAIY,EAAMC,MAAMxE,EAAKmY,UAAUzvB,GAAGmc,WAAWyU,SAH/CtZ,EAAKmY,UAAUzvB,GAAGmc,WAAW6T,YAAYhxB,SAAS,GAAGixB,SAAU,EAMjE3Y,EAAKmY,UACHzvB,GACAmc,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQC,QAAS,GAOzD9Y,EAAKuZ,eAAiB,SAASjB,EAAQC,GACrC,IAAKvY,EAAKkY,SAAU,CAElB,GADAlY,EAAKwZ,SAAW,IAAIjV,EAAMkV,QAAQnB,EAAQC,EAAQ,GAC9CvY,EAAK0Z,WAAWxW,EAAIlD,EAAKwZ,SAAStW,EACpC,IAAIna,EAAOiX,EAAK0Z,WACZC,EAAQ3Z,EAAKwZ,cAEbzwB,EAAOiX,EAAKwZ,SACZG,EAAQ3Z,EAAK0Z,WAGnB1Z,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9B,IAAIm2B,EACuB,UAAvB5Z,EAAK6Z,QAAQC,OACfF,EAAO5Z,EAAK+Z,MAAMC,gBAAgBv2B,EAAKE,IACP,MAAvBqc,EAAK6Z,QAAQC,SACtBF,EAAOn2B,GAELuc,EAAKia,UAAUlxB,EAAM4wB,EAAOC,EAAK1W,EAAG0W,EAAKzW,IAC3CnD,EAAKmY,UAAUtxB,KAAKpD,QAY5Buc,EAAKia,UAAY,SAAShpB,EAAGwT,EAAGyV,EAAMC,GACpC,OACED,EAAOzV,EAAEvB,GACTgX,EAAOjpB,EAAEiS,IACPiX,EAAO1V,EAAEtB,GAAKgX,EAAOlpB,EAAEkS,GAAOgX,EAAO1V,EAAEtB,GAAKgX,EAAOlpB,EAAEkS,M,oBCxH7D,IAAInc,EAAQsT,EAAQ,KAAiBtT,MAErC6sB,EAAQ7sB,MAAQA,EAEhB,IAAIjG,EAAQuZ,EAAQ,KAAqB8f,gBAAgB,GAEzDvG,EAAQ9yB,MAAQA,EAEZgM,SACFA,OAAOstB,KAAOxG,I,oBCThBmE,EAAOnE,QAAU,IAA0B,+C,oBCA3CmE,EAAOnE,QAAU,IAA0B,gD,uECA3C,uDAEahmB,EAAUysB,IAAQ7C,OAAO,CACpC7b,SAAU8D,IAAS6a,O,2DCHrB,IAAIhW,EAAQjK,EAAQ,KAChBkgB,EAAQlgB,EAAQ,KACpBvN,OAAOwX,MAAQA,EACfjK,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACR,IAAIkR,EAAOlR,EAAQ,KAAoBkR,KACnCwH,EAAO1Y,EAAQ,KAAoB0Y,KACnC8E,EAAgBxd,EAAQ,IAARA,CAAoCiK,GACxDA,EAAM6P,SAAW9Z,EAAQ,KAA6B8Z,SACtD7P,EAAM2R,iBAAmB5b,EAAQ,KAA6B4b,iBAC9D,IAAI6B,EAAKzd,EAAQ,MACblT,EAAKkT,EAAQ,KACbhZ,EAAmBgZ,EAAQ,IAAmBhZ,iBAElDuyB,EAAQgE,QAAU,CAChBtT,MAAOA,EACPiW,MAAOA,EACPC,YAAY,EACZjP,KAAMA,EACNwH,KAAMA,EACN8E,cAAeA,EACfC,GAAIA,EACJ3wB,GAAIA,EACJszB,WAAY,MACZC,eAAgB,QAChBC,mBAAoB,QACpBC,iBAAkB,SAClBC,cAAe,iCACfC,aAAc,iCACdC,cAAc,EACdC,aAAa,EACbC,gBAAgB,EAChBC,eAAe,EACf1C,mBAAmB,EACnB2C,yBAAyB,EACzBC,WAAY,SACZC,YAAa,SACbC,UAAW,EACXC,eAAgB,EAChBC,OAAQ,KACRC,MAAO,WACPC,KAAMr6B,EACNs6B,+BAAgC,GAChCC,YAAY,EACZC,UAAW,IACXC,cAAe,IACfC,cAAe,IACfC,gBAAiB,yBACjBC,aAAc,IACdC,gBAAgB,EAChBC,UAAW,W,oBCnDb,IAAIxE,EAAMtd,EAAQ,IAAaud,QAE3BtT,GADUjK,EAAQ,KAAW+hB,MACrBzE,EAAIrT,OACZiW,EAAQ5C,EAAI4C,MACZC,EAAa7C,EAAI6C,WAIjB1C,GAHOH,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,IACT3wB,EAAKwwB,EAAIxwB,GAkObysB,EAAQ7sB,MAhOI,SAASjG,EAAO84B,GAE1B,IAAI7Z,EAAO3f,KACXS,SAASC,MAAM4F,QAAUtG,KAEzBA,KAAKi8B,QAAUv7B,EACfV,KAAKw5B,QAAUA,GAAW,CACxBC,OAAQlC,EAAI6D,QAEdp7B,KAAKk8B,eAAiBl8B,KAAKw5B,QAAQ2C,aAAe,GAElDn8B,KAAKo8B,YAAc,GACnBp8B,KAAKq8B,YAAc,GACnBr8B,KAAKs8B,UAAY,IACjBt8B,KAAKu8B,cAAgB,IAAIrY,EAAMsY,cAC/Bx8B,KAAKu8B,cAAcE,aAAc,EACjCz8B,KAAK08B,cAAgB,EACrB18B,KAAK83B,UAAY,GACjB93B,KAAK28B,IAAM,GACX38B,KAAKy2B,KAAO,EACZz2B,KAAK02B,IAAM,IACX12B,KAAKq5B,WAAa,IAAInV,EAAMkV,QAAQ,EAAG,EAAG,GAC1Cp5B,KAAKm5B,SAAW,IAAIjV,EAAMkV,QAAQ,EAAG,EAAG,GACxCp5B,KAAK63B,SAAW,KAChB73B,KAAK48B,SAAU,EACf58B,KAAK68B,YAAc,IACnB78B,KAAK88B,aAAe,IACpB98B,KAAK+8B,QAAU,IACf/8B,KAAK4F,QAAS,EACd5F,KAAKg9B,WAAY,EACjBh9B,KAAK+G,GAAKA,EAAG,IACb/G,KAAKi9B,YAAa,EAClBj9B,KAAKiC,UAAY,EACjBjC,KAAKk9B,iBAAmB,EACxBl9B,KAAKm9B,WAAa5F,EAAI+D,IACtBt7B,KAAKo9B,0BAA4B7F,EAAIgE,+BACrCv7B,KAAKD,UAAW,EAChBC,KAAKq9B,SAAW,KAChBr9B,KAAK6H,iBAAmB,KACxB7H,KAAKs9B,qBAAuB/F,EAAIwD,wBAChC/6B,KAAKu9B,eAAiB,GACtBv9B,KAAKw9B,KAAO,KAEZvjB,EAAQ,IAARA,CAAyBja,MACzBia,EAAQ,IAARA,CAAmBja,MACnBia,EAAQ,IAARA,CAAuBja,MACvBia,EAAQ,IAARA,CAA0Bja,MAC1Bia,EAAQ,IAARA,CAAoBja,MACpBia,EAAQ,IAARA,CAAmBja,MACnBia,EAAQ,IAARA,CAAoBja,MACpBia,EAAQ,IAARA,CAAkBja,MAClBia,EAAQ,IAARA,CAAiBja,MACjBia,EAAQ,IAARA,CAAoBja,MAKpB,IAAIy9B,EAAQ,IAAItD,EAChBn6B,KAAK8G,QAAU,WACTszB,IACFqD,EAAMC,UAAU,GAChBpkB,SAASjM,KAAKswB,YAAYF,EAAMG,MAElC59B,KAAK8mB,WAYP9mB,KAAK8mB,QAAU,WACTsT,GACFqD,EAAMI,QAGRle,EAAK+G,SAASoX,SACdne,EAAKuK,SAEDkQ,GACFqD,EAAMM,MAURC,sBAAsBre,EAAKmH,UAM7B9mB,KAAK6G,KAAO,WAAqB,IAAZmuB,IAAW,yDAC9BrV,EAAKse,SAAW,IAAI/Z,EAAMga,cAAc,CACtCC,OAAO,EACPC,UAAWpJ,EACXqJ,uBAAuB,IAEzB1e,EAAK2e,gBAAkB,IAAIpa,EAAMga,cAAc,CAC7CC,OAAO,EACPC,UAAWpJ,EACXqJ,uBAAuB,IAIzB1e,EAAK4e,mBACL5e,EAAK6e,oBAEL7e,EAAK8e,cACL9e,EAAK+e,eACL/e,EAAKgf,gBACLhf,EAAKif,cAGLjf,EAAK6Y,QAAQqG,UAAY,GACzBlf,EAAK6Y,QAAQmF,YAAYhe,EAAKse,SAASa,YACvCnf,EAAK6Y,QAAQmF,YAAYhe,EAAKof,YAAYD,YAC1Cnf,EAAK6Y,QAAQmF,YAAYhe,EAAK2e,gBAAgBQ,YAE9Cnf,EAAKqf,cAELrf,EAAKsf,aAELvyB,OAAOsC,iBACL,UACA,SAASpM,GACPA,EAAEs8B,iBACFvf,EAAKwf,oBAEP,IAOJxf,EAAKwf,eAAiB,WACpBxf,EAAKyf,WAAazf,EAAK6Y,QAAQ6G,wBAC/B1f,EAAK3E,MAAQ2E,EAAKyf,WAAWpkB,MAC7B2E,EAAKZ,OAASY,EAAKyf,WAAWrgB,OAC9BY,EAAK2f,QAAQtkB,MAAQ,GAAM2E,EAAKZ,OAChCY,EAAK2f,QAAQvgB,OAAS,GAAMY,EAAKZ,OACjCY,EAAK4f,OAAS5f,EAAK3E,MAAQ2E,EAAKZ,OAChCY,EAAK6f,QAAQD,OAAS5f,EAAK4f,OAC3B5f,EAAK6f,QAAQC,yBAEb9f,EAAKse,SAASyB,QAAQ/f,EAAK3E,MAAO2E,EAAKZ,QACvCY,EAAKof,YAAYW,QAAQ/f,EAAK3E,MAAO2E,EAAKZ,QAC1CY,EAAK2e,gBAAgBoB,QAAQ,GAAM/f,EAAKZ,OAAQ,GAAMY,EAAKZ,SAM7D,IAAI4gB,EAAQ,EACRC,EAAoC,EACxC5/B,KAAKkqB,OAAS,WAUZ,GATAvK,EAAKkgB,eACLlgB,EAAKmgB,cACQ,GAATH,IACFhgB,EAAKogB,eACLpgB,EAAKqgB,cACLL,EAAQ,GAEVA,GAAS,EACTC,GAAqC,EACV,MAAvBjgB,EAAK6Z,QAAQC,QACQ,GAAnB9Z,EAAKsd,WAAoB,CAC3B,IAAI57B,EAAQ,GAQZ,GAPAse,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9B/B,EAAMmF,KAAKpD,MAEbuc,EAAK+Z,MAAMr4B,MAAMA,GACjBse,EAAK+Z,MAAMA,MAAM,OAAQhC,EAAGuI,UAAUtgB,EAAK0c,cAC3C1c,EAAK+Z,MAAMwG,UACXvgB,EAAK+Z,MAAMyG,OACPxgB,EAAKygB,eAAiBzgB,EAAK/Z,OAE7B,IACE,IAAIyC,EAAI,EACN3E,EAAI4F,KAAK+2B,KACP/2B,KAAKxI,IAAI6e,EAAK+Z,MAAM4G,YAClBh3B,KAAKxI,IAAI,EAAI6e,EAAK+Z,MAAM6G,eAE9Bl4B,EAAI3E,IACF2E,EAEFsX,EAAK+Z,MAAM8G,OAIf7gB,EAAKsd,YAAa,EAGtBtd,EAAKse,SAASwC,YAAY,EAAG,EAAG9gB,EAAK3E,MAAO2E,EAAKZ,QACjDY,EAAKse,SAASyC,WAAW,EAAG,EAAG/gB,EAAK3E,MAAO2E,EAAKZ,QAChDY,EAAKse,SAAS0C,gBAAe,GAC7BhhB,EAAKse,SAAS/T,OAAOvK,EAAKihB,MAAOjhB,EAAK6f,SACtC7f,EAAKof,YAAY7U,OAAOvK,EAAKihB,MAAOjhB,EAAK6f,SAGrCI,GAAqC5/B,KAAKo9B,4BAC5CwC,EAAoC,EAEhCjgB,EAAKwd,aACPxd,EAAK2f,QAAQtkB,MAAQ,GAAM2E,EAAKZ,OAChCY,EAAK2f,QAAQvgB,OAAS,GAAMY,EAAKZ,OACjCY,EAAK2e,gBAAgBmC,YAAY,EAAG,EAAG9gB,EAAK2f,QAAQtkB,MAAO2E,EAAK2f,QAAQvgB,QACxEY,EAAK2e,gBAAgBoC,WAAW,EAAG,EAAG/gB,EAAK2f,QAAQtkB,MAAO2E,EAAK2f,QAAQvgB,QACvEY,EAAK2e,gBAAgBqC,gBAAe,GACpChhB,EAAK2e,gBAAgBpU,OAAOvK,EAAKihB,MAAOjhB,EAAK2f,QAAQuB,a,mBC9N7D,WAIE,SAASC,IACP9gC,KAAK+gC,WAAa,EAElB/gC,KAAKghC,MAAQ,GACbhhC,KAAKihC,SAAW,GAYhBjhC,KAAKkhC,SAAW,IAAIC,EACpBnhC,KAAKohC,WAAa,IAAID,EAEtBnhC,KAAK40B,SAAW,GAooBlB,SAASyM,IACPrhC,KAAKshC,OAAS,IAAIpd,MAAMkV,QACxBp5B,KAAKuhC,SAAW,IAAIrd,MAAMkV,QAC1Bp5B,KAAKwhC,KAAO,EAEZxhC,KAAKyhC,SAAW,EAChBzhC,KAAK0hC,QAAU,KACf1hC,KAAK2hC,KAjqBO,EAkqBZ3hC,KAAK4hC,KAAO,KAuEd,SAASC,EAASC,EAAQC,GACxB/hC,KAAK8hC,OAASA,EACd9hC,KAAKgiC,KAAO,KACZhiC,KAAKi0B,KAAO,KACZj0B,KAAKiiC,KAAO,KACZjiC,KAAK+hC,KAAOA,EA4Cd,SAASG,EAAWC,GAClBniC,KAAKmiC,MAAQA,EACbniC,KAAKgiC,KAAO,KACZhiC,KAAKi0B,KAAO,KACZj0B,KAAK+hC,KAAO,KAKd,SAASZ,IACPnhC,KAAKoiC,KAAO,KACZpiC,KAAKqiC,KAAO,KA5wBdj9B,OAAOk9B,OAAOxB,EAAUxN,UAAW,CACjCiP,cAAe,SAASC,IACQ,IAA1Bt+B,MAAMu+B,QAAQD,IAChB3hC,QAAQ0M,MAAM,sDAGZi1B,EAAOl6B,OAAS,GAClBzH,QAAQ0M,MACN,8DAIJvN,KAAK0iC,YAEL,IAAK,IAAIr6B,EAAI,EAAGuI,EAAI4xB,EAAOl6B,OAAQD,EAAIuI,EAAGvI,IACxCrI,KAAK40B,SAASpuB,KAAK,IAAI07B,EAAWM,EAAOn6B,KAK3C,OAFArI,KAAK2iC,UAEE3iC,MAGT4iC,cAAe,SAASC,GACtB,IAAIL,EAAS,GAqCb,OAnCAK,EAAOC,mBAAkB,GAEzBD,EAAOE,UAAS,SAAS3/B,GACvB,IAAIiF,EAAGuI,EAAGuxB,EAEN7N,EAAWlxB,EAAKkxB,SAEpB,QAAiB5vB,IAAb4vB,EACF,GAAIA,EAAS0O,WAAY,CACvB,IAAIpO,EAAWN,EAASM,SAExB,IAAKvsB,EAAI,EAAGuI,EAAIgkB,EAAStsB,OAAQD,EAAIuI,EAAGvI,KACtC85B,EAAQvN,EAASvsB,GAAG46B,SACdC,aAAa9/B,EAAK+/B,aAExBX,EAAOh8B,KAAK27B,QAET,GAAI7N,EAAS8O,iBAAkB,CACpC,IAAIC,EAAY/O,EAAS1C,WAAWrW,SAEpC,QAAkB7W,IAAd2+B,EACF,IAAKh7B,EAAI,EAAGuI,EAAIyyB,EAAUC,MAAOj7B,EAAIuI,EAAGvI,KACtC85B,EAAQ,IAAIje,MAAMkV,SAGfmK,oBAAoBF,EAAWh7B,GAC/B66B,aAAa9/B,EAAK+/B,aAErBX,EAAOh8B,KAAK27B,OAOfniC,KAAKuiC,cAAcC,IAG5BE,UAAW,WAIT,OAHA1iC,KAAKghC,MAAQ,GACbhhC,KAAK40B,SAAW,GAET50B,MAKTwjC,gBAAiB,SAAS1B,EAAQC,GAWhC,OAVAD,EAAOC,KAAOA,EAEO,OAAjBA,EAAKL,QACP1hC,KAAKkhC,SAASuC,OAAO3B,GAErB9hC,KAAKkhC,SAASwC,aAAa3B,EAAKL,QAASI,GAG3CC,EAAKL,QAAUI,EAER9hC,MAKT2jC,qBAAsB,SAAS7B,EAAQC,GAiBrC,OAhBID,IAAWC,EAAKL,UAGE,OAAhBI,EAAO7N,MAAiB6N,EAAO7N,KAAK8N,OAASA,EAG/CA,EAAKL,QAAUI,EAAO7N,KAItB8N,EAAKL,QAAU,MAInB1hC,KAAKkhC,SAAS0C,OAAO9B,GAEd9hC,MAKT6jC,0BAA2B,SAAS9B,GAClC,GAAqB,OAAjBA,EAAKL,QAAkB,CAMzB,IAHA,IAAIoC,EAAQ/B,EAAKL,QACb3D,EAAMgE,EAAKL,QAEK,OAAb3D,EAAI9J,MAAiB8J,EAAI9J,KAAK8N,OAASA,GAC5ChE,EAAMA,EAAI9J,KAUZ,OAPAj0B,KAAKkhC,SAAS6C,cAAcD,EAAO/F,GAInC+F,EAAM9B,KAAOjE,EAAI9J,KAAO,KACxB8N,EAAKL,QAAU,KAERoC,IAMXE,mBAAoB,SAASjC,EAAMkC,GACjC,IAAIC,EAAelkC,KAAK6jC,0BAA0B9B,GAElD,QAAqBr9B,IAAjBw/B,EACF,QAAsBx/B,IAAlBu/B,EAGFjkC,KAAKohC,WAAW+C,YAAYD,OACvB,CAGL,IAAIpC,EAASoC,EAEb,EAAG,CAID,IAAIE,EAAatC,EAAO7N,KAETgQ,EAAcI,gBAAgBvC,EAAOK,OAIrCniC,KAAK+gC,UAClB/gC,KAAKwjC,gBAAgB1B,EAAQmC,GAE7BjkC,KAAKohC,WAAWqC,OAAO3B,GAKzBA,EAASsC,QACS,OAAXtC,GAIb,OAAO9hC,MAKTskC,wBAAyB,SAASrD,GAChC,IAAkC,IAA9BjhC,KAAKohC,WAAWmD,UAAqB,CACvC,IAAIzC,EAAS9hC,KAAKohC,WAAWoD,QAE7B,EAAG,CASD,IANA,IAAIJ,EAAatC,EAAO7N,KAEpBwQ,EAAczkC,KAAK+gC,UAEnB2D,EAAU,KAELr8B,EAAI,EAAGA,EAAI44B,EAAS34B,OAAQD,IAAK,CACxC,IAAI05B,EAAOd,EAAS54B,GAEpB,GAzNI,IAyNA05B,EAAKJ,KAAkB,CACzB,IAAIgD,EAAW5C,EAAKsC,gBAAgBvC,EAAOK,OAO3C,GALIwC,EAAWF,IACbA,EAAcE,EACdD,EAAU3C,GAGR0C,EAAc,IAAOzkC,KAAK+gC,UAAW,OAM7B,OAAZ2D,GACF1kC,KAAKwjC,gBAAgB1B,EAAQ4C,GAG/B5C,EAASsC,QACS,OAAXtC,GAGX,OAAO9hC,MAKT4kC,gBAAiB,WACf,IAMIv8B,EAAGuI,EAAG+gB,EANN9vB,EAAM,IAAIqiB,MAAMkV,QAChBt3B,EAAM,IAAIoiB,MAAMkV,QAEhByL,EAAc,GACdC,EAAc,GAMlB,IAAKz8B,EAAI,EAAGA,EAAI,EAAGA,IACjBw8B,EAAYx8B,GAAKy8B,EAAYz8B,GAAKrI,KAAK40B,SAAS,GAQlD,IALA/yB,EAAIy1B,KAAKt3B,KAAK40B,SAAS,GAAGuN,OAC1BrgC,EAAIw1B,KAAKt3B,KAAK40B,SAAS,GAAGuN,OAIrB95B,EAAI,EAAGuI,EAAI5Q,KAAK40B,SAAStsB,OAAQD,EAAIuI,EAAGvI,IAAK,CAChD,IAAIy5B,EAAS9hC,KAAK40B,SAASvsB,GACvB85B,EAAQL,EAAOK,MAInB,IAAKxQ,EAAI,EAAGA,EAAI,EAAGA,IACbwQ,EAAM4C,aAAapT,GAAK9vB,EAAIkjC,aAAapT,KAC3C9vB,EAAImjC,aAAarT,EAAGwQ,EAAM4C,aAAapT,IACvCkT,EAAYlT,GAAKmQ,GAMrB,IAAKnQ,EAAI,EAAGA,EAAI,EAAGA,IACbwQ,EAAM4C,aAAapT,GAAK7vB,EAAIijC,aAAapT,KAC3C7vB,EAAIkjC,aAAarT,EAAGwQ,EAAM4C,aAAapT,IACvCmT,EAAYnT,GAAKmQ,GAcvB,OAPA9hC,KAAK+gC,UACH,EACA53B,OAAO87B,SACN37B,KAAKxH,IAAIwH,KAAK47B,IAAIrjC,EAAIghB,GAAIvZ,KAAK47B,IAAIpjC,EAAI+gB,IACtCvZ,KAAKxH,IAAIwH,KAAK47B,IAAIrjC,EAAIihB,GAAIxZ,KAAK47B,IAAIpjC,EAAIghB,IACvCxZ,KAAKxH,IAAIwH,KAAK47B,IAAIrjC,EAAIgzB,GAAIvrB,KAAK47B,IAAIpjC,EAAI+yB,KAEpC,CAAEhzB,IAAKgjC,EAAa/iC,IAAKgjC,IAMlCK,mBAAqB,WACnB,IAAIC,EAAOC,EAAOC,EAElB,OAAO,gBACS5gC,IAAV0gC,IACFA,EAAQ,IAAIlhB,MAAMqhB,MAClBF,EAAQ,IAAInhB,MAAMshB,MAClBF,EAAe,IAAIphB,MAAMkV,SAG3B,IAAI0I,EAMA2D,EAAIC,EAAIC,EAAIC,EACZv9B,EAAGuI,EAAG+gB,EAONgT,EAbF/P,EAAW50B,KAAK40B,SACdiR,EAAW7lC,KAAK4kC,kBAChB/iC,EAAMgkC,EAAShkC,IACfC,EAAM+jC,EAAS/jC,IAWjB2iC,EAAc,EACZ7R,EAAQ,EAEZ,IAAKvqB,EAAI,EAAGA,EAAI,EAAGA,KACjBs8B,EACE7iC,EAAIuG,GAAG85B,MAAM4C,aAAa18B,GAAKxG,EAAIwG,GAAG85B,MAAM4C,aAAa18B,IAE5Co8B,IACbA,EAAcE,EACd/R,EAAQvqB,GAYZ,IARAo9B,EAAK5jC,EAAI+wB,GACT8S,EAAK5jC,EAAI8wB,GAIT6R,EAAc,EACdW,EAAM9hB,IAAImiB,EAAGtD,MAAOuD,EAAGvD,OAElB95B,EAAI,EAAGuI,EAAI5Q,KAAK40B,SAAStsB,OAAQD,EAAIuI,EAAGvI,KAC3Cy5B,EAASlN,EAASvsB,MAEHo9B,GAAM3D,IAAW4D,IAC9BN,EAAMU,oBAAoBhE,EAAOK,OAAO,EAAMmD,IAE9CX,EAAWW,EAAaS,kBAAkBjE,EAAOK,QAElCsC,IACbA,EAAcE,EACdgB,EAAK7D,IAUX,IAHA2C,EAAc,EACdY,EAAMW,sBAAsBP,EAAGtD,MAAOuD,EAAGvD,MAAOwD,EAAGxD,OAE9C95B,EAAI,EAAGuI,EAAI5Q,KAAK40B,SAAStsB,OAAQD,EAAIuI,EAAGvI,KAC3Cy5B,EAASlN,EAASvsB,MAEHo9B,GAAM3D,IAAW4D,GAAM5D,IAAW6D,IAC/ChB,EAAWr7B,KAAK47B,IAAIG,EAAMhB,gBAAgBvC,EAAOK,SAElCsC,IACbA,EAAcE,EACdiB,EAAK9D,GAKX,IAAId,EAAQ,GAEZ,GAAIqE,EAAMhB,gBAAgBuB,EAAGzD,OAAS,EAYpC,IATAnB,EAAMx6B,KACJ66B,EAAKjK,OAAOqO,EAAIC,EAAIC,GACpBtE,EAAKjK,OAAOwO,EAAIF,EAAID,GACpBpE,EAAKjK,OAAOwO,EAAID,EAAID,GACpBrE,EAAKjK,OAAOwO,EAAIH,EAAIE,IAKjBt9B,EAAI,EAAGA,EAAI,EAAGA,IACjBspB,GAAKtpB,EAAI,GAAK,EAId24B,EAAM34B,EAAI,GAAG49B,QAAQ,GAAGC,QAAQlF,EAAM,GAAGiF,QAAQtU,IAIjDqP,EAAM34B,EAAI,GAAG49B,QAAQ,GAAGC,QAAQlF,EAAMrP,EAAI,GAAGsU,QAAQ,SAcvD,IATAjF,EAAMx6B,KACJ66B,EAAKjK,OAAOqO,EAAIE,EAAID,GACpBrE,EAAKjK,OAAOwO,EAAIH,EAAIC,GACpBrE,EAAKjK,OAAOwO,EAAIF,EAAIC,GACpBtE,EAAKjK,OAAOwO,EAAID,EAAIF,IAKjBp9B,EAAI,EAAGA,EAAI,EAAGA,IACjBspB,GAAKtpB,EAAI,GAAK,EAId24B,EAAM34B,EAAI,GAAG49B,QAAQ,GAAGC,QAAQlF,EAAM,GAAGiF,SAAS,EAAI59B,GAAK,IAI3D24B,EAAM34B,EAAI,GAAG49B,QAAQ,GAAGC,QAAQlF,EAAMrP,EAAI,GAAGsU,QAAQ,IAMzD,IAAK59B,EAAI,EAAGA,EAAI,EAAGA,IACjBrI,KAAKghC,MAAMx6B,KAAKw6B,EAAM34B,IAKxB,IAAKA,EAAI,EAAGuI,EAAIgkB,EAAStsB,OAAQD,EAAIuI,EAAGvI,IAGtC,IAFAy5B,EAASlN,EAASvsB,MAGLo9B,GACX3D,IAAW4D,GACX5D,IAAW6D,GACX7D,IAAW8D,EACX,CACAnB,EAAczkC,KAAK+gC,UACnB,IAAI2D,EAAU,KAEd,IAAK/S,EAAI,EAAGA,EAAI,EAAGA,KACjBgT,EAAW3kC,KAAKghC,MAAMrP,GAAG0S,gBAAgBvC,EAAOK,QAEjCsC,IACbA,EAAcE,EACdD,EAAU1kC,KAAKghC,MAAMrP,IAIT,OAAZ+S,GACF1kC,KAAKwjC,gBAAgB1B,EAAQ4C,GAKnC,OAAO1kC,MApKU,GA0KrBmmC,aAAc,WAGZ,IAFA,IAAIC,EAAc,GAET/9B,EAAI,EAAGA,EAAIrI,KAAKghC,MAAM14B,OAAQD,IAAK,CAC1C,IAAI05B,EAAO/hC,KAAKghC,MAAM34B,GA5dd,IA8dJ05B,EAAKJ,MACPyE,EAAY5/B,KAAKu7B,GAMrB,OAFA/hC,KAAKghC,MAAQoF,EAENpmC,MAKTqmC,gBAAiB,WAGf,IAAgC,IAA5BrmC,KAAKkhC,SAASqD,UAAqB,CACrC,IAAI+B,EACF7B,EAAc,EAIZ8B,EAAUvmC,KAAKkhC,SAASsD,QAAQzC,KAChCD,EAASyE,EAAQ7E,QAIrB,EAAG,CACD,IAAIiD,EAAW4B,EAAQlC,gBAAgBvC,EAAOK,OAE1CwC,EAAWF,IACbA,EAAcE,EACd2B,EAAYxE,GAGdA,EAASA,EAAO7N,WACE,OAAX6N,GAAmBA,EAAOC,OAASwE,GAE5C,OAAOD,IAQXE,eAAgB,SAASC,EAAUC,EAAW3E,EAAM4E,GAOlD,IAAI/E,EAJJ5hC,KAAKgkC,mBAAmBjC,GAExBA,EAAKJ,KA/gBK,EAohBRC,EADgB,OAAd8E,EACKA,EAAY3E,EAAKkE,QAAQ,GAKzBS,EAAUzS,KAGnB,EAAG,CACD,IAAI2S,EAAWhF,EAAKK,KAChB4E,EAAeD,EAAS7E,KA/hBpB,IAiiBJ8E,EAAalF,OACXkF,EAAaxC,gBAAgBoC,GAAYzmC,KAAK+gC,UAGhD/gC,KAAKwmC,eAAeC,EAAUG,EAAUC,EAAcF,GAItDA,EAAQngC,KAAKo7B,IAIjBA,EAAOA,EAAK3N,WACL2N,IAAS8E,GAElB,OAAO1mC,MAKT8mC,iBAAkB,SAASR,EAAWS,GAGpC,IAAIhF,EAAOV,EAAKjK,OAAOkP,EAAWS,EAAY1E,OAAQ0E,EAAY3E,QAQlE,OANApiC,KAAKghC,MAAMx6B,KAAKu7B,GAIhBA,EAAKkE,SAAS,GAAGC,QAAQa,EAAY9E,MAE9BF,EAAKkE,QAAQ,IAMtBe,YAAa,SAASV,EAAWK,GAC/B3mC,KAAKihC,SAAW,GAKhB,IAHA,IAAIgG,EAAgB,KAChBC,EAAmB,KAEd7+B,EAAI,EAAGA,EAAIs+B,EAAQr+B,OAAQD,IAAK,CACvC,IAAI0+B,EAAcJ,EAAQt+B,GAItB8+B,EAAWnnC,KAAK8mC,iBAAiBR,EAAWS,GAE1B,OAAlBE,EACFA,EAAgBE,EAIhBA,EAASlT,KAAKiS,QAAQgB,GAGxBlnC,KAAKihC,SAASz6B,KAAK2gC,EAASpF,MAC5BmF,EAAmBC,EAOrB,OAFAF,EAAchT,KAAKiS,QAAQgB,GAEpBlnC,MAKTonC,gBAAiB,SAASd,GACxB,IAAIK,EAAU,GAiBd,OAdA3mC,KAAKohC,WAAW57B,QAIhBxF,KAAK2jC,qBAAqB2C,EAAWA,EAAUvE,MAE/C/hC,KAAKwmC,eAAeF,EAAUnE,MAAO,KAAMmE,EAAUvE,KAAM4E,GAE3D3mC,KAAKgnC,YAAYV,EAAWK,GAI5B3mC,KAAKskC,wBAAwBtkC,KAAKihC,UAE3BjhC,MAGTqnC,QAAS,WAKP,OAJArnC,KAAKkhC,SAAS17B,QACdxF,KAAKohC,WAAW57B,QAChBxF,KAAKihC,SAAW,GAETjhC,MAGT2iC,QAAS,WACP,IAAIb,EAMJ,IAJA9hC,KAAKmlC,0BAIwCzgC,KAArCo9B,EAAS9hC,KAAKqmC,oBACpBrmC,KAAKonC,gBAAgBtF,GAOvB,OAJA9hC,KAAKmmC,eAELnmC,KAAKqnC,UAEErnC,QAiBXoF,OAAOk9B,OAAOjB,EAAM,CAClBjK,OAAQ,SAAS9oB,EAAG2U,EAAGyR,GACrB,IAAIqN,EAAO,IAAIV,EAEXiG,EAAK,IAAIzF,EAASvzB,EAAGyzB,GACrBwF,EAAK,IAAI1F,EAAS5e,EAAG8e,GACrByF,EAAK,IAAI3F,EAASnN,EAAGqN,GAYzB,OARAuF,EAAGrT,KAAOuT,EAAGxF,KAAOuF,EACpBA,EAAGtT,KAAOqT,EAAGtF,KAAOwF,EACpBA,EAAGvT,KAAOsT,EAAGvF,KAAOsF,EAIpBvF,EAAKH,KAAO0F,EAELvF,EAAKY,aAIhBv9B,OAAOk9B,OAAOjB,EAAK/N,UAAW,CAC5B2S,QAAS,SAAS59B,GAGhB,IAFA,IAAIu5B,EAAO5hC,KAAK4hC,KAETv5B,EAAI,GACTu5B,EAAOA,EAAK3N,KACZ5rB,IAGF,KAAOA,EAAI,GACTu5B,EAAOA,EAAKI,KACZ35B,IAGF,OAAOu5B,GAGTe,QAAU,WACR,IAAI8E,EAEJ,OAAO,gBACY/iC,IAAb+iC,IAAwBA,EAAW,IAAIvjB,MAAMwjB,UAEjD,IAAIp5B,EAAItO,KAAK4hC,KAAKS,OACdpf,EAAIjjB,KAAK4hC,KAAKQ,OACd1N,EAAI10B,KAAK4hC,KAAK3N,KAAKmO,OAUvB,OARAqF,EAASnkB,IAAIhV,EAAE6zB,MAAOlf,EAAEkf,MAAOzN,EAAEyN,OAEjCsF,EAASnG,OAAOthC,KAAKshC,QACrBmG,EAASlG,SAASvhC,KAAKuhC,UACvBvhC,KAAKwhC,KAAOiG,EAASjG,OAErBxhC,KAAKyhC,SAAWzhC,KAAKshC,OAAOqG,IAAI3nC,KAAKuhC,UAE9BvhC,MAlBD,GAsBVqkC,gBAAiB,SAASlC,GACxB,OAAOniC,KAAKshC,OAAOqG,IAAIxF,GAASniC,KAAKyhC,YAczCr8B,OAAOk9B,OAAOT,EAASvO,UAAW,CAChC8O,KAAM,WACJ,OAAOpiC,KAAK8hC,QAGdO,KAAM,WACJ,OAAOriC,KAAKgiC,KAAOhiC,KAAKgiC,KAAKF,OAAS,MAGxCx5B,OAAQ,WACN,IAAI85B,EAAOpiC,KAAKoiC,OACZC,EAAOriC,KAAKqiC,OAEhB,OAAa,OAATA,EACKA,EAAKF,MAAMyF,WAAWxF,EAAKD,QAG5B,GAGV0F,cAAe,WACb,IAAIzF,EAAOpiC,KAAKoiC,OACZC,EAAOriC,KAAKqiC,OAEhB,OAAa,OAATA,EACKA,EAAKF,MAAM4D,kBAAkB3D,EAAKD,QAGnC,GAGV+D,QAAS,SAAStE,GAIhB,OAHA5hC,KAAKiiC,KAAOL,EACZA,EAAKK,KAAOjiC,KAELA,QAoBXoF,OAAOk9B,OAAOnB,EAAW7N,UAAW,CAClCkR,MAAO,WACL,OAAOxkC,KAAKoiC,MAGd0F,KAAM,WACJ,OAAO9nC,KAAKqiC,MAGd78B,MAAO,WAGL,OAFAxF,KAAKoiC,KAAOpiC,KAAKqiC,KAAO,KAEjBriC,MAKT0jC,aAAc,SAAS1gC,EAAQ8+B,GAY7B,OAXAA,EAAOE,KAAOh/B,EAAOg/B,KACrBF,EAAO7N,KAAOjxB,EAEM,OAAhB8+B,EAAOE,KACThiC,KAAKoiC,KAAON,EAEZA,EAAOE,KAAK/N,KAAO6N,EAGrB9+B,EAAOg/B,KAAOF,EAEP9hC,MAKT+nC,YAAa,SAAS/kC,EAAQ8+B,GAY5B,OAXAA,EAAOE,KAAOh/B,EACd8+B,EAAO7N,KAAOjxB,EAAOixB,KAED,OAAhB6N,EAAO7N,KACTj0B,KAAKqiC,KAAOP,EAEZA,EAAO7N,KAAK+N,KAAOF,EAGrB9+B,EAAOixB,KAAO6N,EAEP9hC,MAKTyjC,OAAQ,SAAS3B,GAYf,OAXkB,OAAd9hC,KAAKoiC,KACPpiC,KAAKoiC,KAAON,EAEZ9hC,KAAKqiC,KAAKpO,KAAO6N,EAGnBA,EAAOE,KAAOhiC,KAAKqiC,KACnBP,EAAO7N,KAAO,KAEdj0B,KAAKqiC,KAAOP,EAEL9hC,MAKTmkC,YAAa,SAASrC,GAWpB,IAVkB,OAAd9hC,KAAKoiC,KACPpiC,KAAKoiC,KAAON,EAEZ9hC,KAAKqiC,KAAKpO,KAAO6N,EAGnBA,EAAOE,KAAOhiC,KAAKqiC,KAII,OAAhBP,EAAO7N,MACZ6N,EAASA,EAAO7N,KAKlB,OAFAj0B,KAAKqiC,KAAOP,EAEL9hC,MAKT4jC,OAAQ,SAAS9B,GAaf,OAZoB,OAAhBA,EAAOE,KACThiC,KAAKoiC,KAAON,EAAO7N,KAEnB6N,EAAOE,KAAK/N,KAAO6N,EAAO7N,KAGR,OAAhB6N,EAAO7N,KACTj0B,KAAKqiC,KAAOP,EAAOE,KAEnBF,EAAO7N,KAAK+N,KAAOF,EAAOE,KAGrBhiC,MAKT+jC,cAAe,SAASz1B,EAAG2U,GAazB,OAZe,OAAX3U,EAAE0zB,KACJhiC,KAAKoiC,KAAOnf,EAAEgR,KAEd3lB,EAAE0zB,KAAK/N,KAAOhR,EAAEgR,KAGH,OAAXhR,EAAEgR,KACJj0B,KAAKqiC,KAAO/zB,EAAE0zB,KAEd/e,EAAEgR,KAAK+N,KAAO1zB,EAAE0zB,KAGXhiC,MAGTukC,QAAS,WACP,OAAqB,OAAdvkC,KAAKoiC,QAMhBle,MAAM4c,UAAYA,EA56BpB,I,mBCHA,WAGE,SAASkH,EAAexF,GACtBte,MAAMyQ,SAASuB,KAAKl2B,MAEpBA,KAAKmV,KAAO,iBAEZnV,KAAKioC,mBAAmB,IAAIC,EAAqB1F,IACjDxiC,KAAKmoC,gBAQP,SAASD,EAAqB1F,GAC5Bte,MAAMqQ,eAAe2B,KAAKl2B,MAE1BA,KAAKmV,KAAO,uBAIZ,IAAIyf,EAAW,GACXwT,EAAU,QAIU1jC,IAApBwf,MAAM4c,WACRjgC,QAAQ0M,MACN,8EAUJ,IANA,IAIIyzB,GAJY,IAAI9c,MAAM4c,WAAYyB,cAAcC,GAI9BxB,MAEb34B,EAAI,EAAGA,EAAI24B,EAAM14B,OAAQD,IAAK,CACrC,IAAI05B,EAAOf,EAAM34B,GACbu5B,EAAOG,EAAKH,KAIhB,EAAG,CACD,IAAIO,EAAQP,EAAKQ,OAAOD,MAExBvN,EAASpuB,KAAK27B,EAAMtf,EAAGsf,EAAMrf,EAAGqf,EAAMtN,GACtCuT,EAAQ5hC,KAAKu7B,EAAKT,OAAOze,EAAGkf,EAAKT,OAAOxe,EAAGif,EAAKT,OAAOzM,GAEvD+M,EAAOA,EAAK3N,WACL2N,IAASG,EAAKH,MAKzB5hC,KAAKy1B,aACH,WACA,IAAIvR,MAAMmkB,uBAAuBzT,EAAU,IAE7C50B,KAAKy1B,aAAa,SAAU,IAAIvR,MAAMmkB,uBAAuBD,EAAS,IAnDxEJ,EAAe1U,UAAYluB,OAAOgyB,OAAOlT,MAAMyQ,SAASrB,WACxD0U,EAAe1U,UAAU+D,YAAc2Q,EAqDvCE,EAAqB5U,UAAYluB,OAAOgyB,OACtClT,MAAMqQ,eAAejB,WAEvB4U,EAAqB5U,UAAU+D,YAAc6Q,EAI7ChkB,MAAM8jB,eAAiBA,EACvB9jB,MAAMgkB,qBAAuBA,EA1E/B,I,oBCCA,IAAIhkB,EAAQjK,EAAQ,KAEpBiK,EAAMokB,YAAc,SAAS9P,GAC3BtU,EAAMqkB,SAASrS,KAAKl2B,MAEpBA,KAAKw4B,QAAUA,EACfx4B,KAAKw4B,QAAQzd,MAAMQ,SAAW,WAE9Bvb,KAAKgP,iBAAiB,WAAW,WACC,OAA5BhP,KAAKw4B,QAAQgQ,YACfxoC,KAAKw4B,QAAQgQ,WAAWC,YAAYzoC,KAAKw4B,aAK/CtU,EAAMokB,YAAYhV,UAAYluB,OAAOgyB,OAAOlT,EAAMqkB,SAASjV,WAC3DpP,EAAMokB,YAAYhV,UAAU+D,YAAcnT,EAAMokB,YAEhDpkB,EAAMwkB,YAAc,SAASlQ,GAC3BtU,EAAMokB,YAAYpS,KAAKl2B,KAAMw4B,IAG/BtU,EAAMwkB,YAAYpV,UAAYluB,OAAOgyB,OAAOlT,EAAMokB,YAAYhV,WAC9DpP,EAAMwkB,YAAYpV,UAAU+D,YAAcnT,EAAMwkB,YAIhDxkB,EAAMykB,cAAgB,WAGpB,IAAIC,EAAQC,EAFZhoC,QAAQC,IAAI,sBAAuBojB,EAAM4kB,UAIzC,IAAIC,EAAS,IAAI7kB,EAAM8kB,QAEnBtuB,EAAQ,CACVmmB,OAAQ,CAAElE,IAAK,EAAG5hB,MAAO,IACzBkuB,QAAS,IAGPnK,EAAaxlB,SAAS4vB,cAAc,OACxCpK,EAAW/jB,MAAMK,SAAW,SAE5B0jB,EAAW/jB,MAAMouB,qBAAuB,cACxCrK,EAAW/jB,MAAMquB,kBAAoB,cACrCtK,EAAW/jB,MAAMsuB,gBAAkB,cACnCvK,EAAW/jB,MAAMuuB,eAAiB,cAElCtpC,KAAK8+B,WAAaA,EAElB,IAAIyK,EAAgBjwB,SAAS4vB,cAAc,OAiC3C,SAASM,EAAQr2B,GACf,OAAO7J,KAAK47B,IAAI/xB,GAAShK,OAAO87B,QAAU,EAAI9xB,EA2ChD,SAASs2B,EAAmBV,GAC1B,IAAIW,EAAWX,EAAOW,SAEtB,MACE,qCACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,IACjB,IACAF,GAASE,EAAS,IAClB,IACAF,GAASE,EAAS,IAClB,IACAF,GAASE,EAAS,IAClB,IACAF,GAASE,EAAS,IAClB,IACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,KACjB,IACAF,EAAQE,EAAS,KACjB,IACAF,EAAQE,EAAS,KACjB,IACAF,EAAQE,EAAS,KACjB,IACAF,EAAQE,EAAS,KACjB,IACAF,EAAQE,EAAS,KACjB,IA/GJH,EAAcxuB,MAAMQ,SAAW,WAC/BguB,EAAcxuB,MAAMrS,KAAO,MAC3B6gC,EAAcxuB,MAAMnS,IAAM,MAE1B2gC,EAAcxuB,MAAMouB,qBAAuB,cAC3CI,EAAcxuB,MAAMquB,kBAAoB,cACxCG,EAAcxuB,MAAMsuB,gBAAkB,cACtCE,EAAcxuB,MAAMuuB,eAAiB,cAErCxK,EAAWnB,YAAY4L,GAEvBvpC,KAAK2pC,cAAgB,aAGrB3pC,KAAK4pC,UAAW,EAEhB5pC,KAAK6pC,QAAU,WACb,MAAO,CACL7uB,MAAO4tB,EACP7pB,OAAQ8pB,IAIZ7oC,KAAK0/B,QAAU,SAAS1kB,EAAO+D,GAC7B6pB,EAAS5tB,EACT6tB,EAAU9pB,EAEV+f,EAAW/jB,MAAMC,MAAQA,EAAQ,KACjC8jB,EAAW/jB,MAAMgE,OAASA,EAAS,MAmIrC/e,KAAKkqB,OAAS,SAAS0W,EAAOC,GAC5B,IAAI7gC,KAAK4pC,SAAT,CAGA,IAAIjN,EACD,GAAMrzB,KAAKwgC,IAAI5lB,EAAM5a,KAAKygC,SAAoC,GAA3BlJ,EAAOmJ,oBAC3CnB,EAEEnuB,EAAMmmB,OAAOlE,MAAQA,IACvBmC,EAAW/jB,MAAMkvB,kBAAoBtN,EAAM,KAC3CmC,EAAW/jB,MAAMmvB,eAAiBvN,EAAM,KACxCmC,EAAW/jB,MAAMovB,aAAexN,EAAM,KACtCmC,EAAW/jB,MAAMqvB,YAAczN,EAAM,KAErCjiB,EAAMmmB,OAAOlE,IAAMA,GAGrBiE,EAAMkC,oBAEgB,OAAlBjC,EAAOhV,QAAiBgV,EAAOiC,oBAEnCjC,EAAOwJ,mBAAmBC,WAAWzJ,EAAOsC,aAE5C,IAAIpoB,EACF,cACA4hB,EACA,MAtJJ,SAA4BoM,GAC1B,IAAIW,EAAWX,EAAOW,SAEtB,MACE,YACAF,EAAQE,EAAS,IACjB,IACAF,GAASE,EAAS,IAClB,IACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,IACjB,IACAF,GAASE,EAAS,IAClB,IACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,IACjB,IACAF,EAAQE,EAAS,IACjB,IACAF,GAASE,EAAS,IAClB,IACAF,EAAQE,EAAS,KACjB,IACAF,EAAQE,EAAS,KACjB,IACAF,EAAQE,EAAS,KACjB,IACAF,GAASE,EAAS,KAClB,IACAF,EAAQE,EAAS,KACjB,IACAF,EAAQE,EAAS,KACjB,IAmHAa,CAAmB1J,EAAOwJ,oBAExB3vB,EAAMmmB,OAAO9lB,QAAUA,IACzBwuB,EAAcxuB,MAAMyvB,gBAAkBzvB,EACtCwuB,EAAcxuB,MAAM0vB,aAAe1vB,EACnCwuB,EAAcxuB,MAAM2vB,WAAa3vB,EACjCwuB,EAAcxuB,MAAMgF,UAAYhF,EAEhCL,EAAMmmB,OAAO9lB,MAAQA,GA/EzB,SAAS4vB,EAAa9H,EAAQhC,GAC5B,GAAIgC,aAAkB3e,EAAMokB,YAAa,CACvC,IAAIvtB,EAEA8nB,aAAkB3e,EAAMwkB,aAG1BK,EAAOzR,KAAKuJ,EAAOwJ,oBACnBtB,EAAO6B,YACP7B,EAAO8B,aAAahI,EAAOM,aAC3B4F,EAAOvnC,MAAMqhC,EAAOrhC,OAEpBunC,EAAOW,SAAS,GAAK,EACrBX,EAAOW,SAAS,GAAK,EACrBX,EAAOW,SAAS,IAAM,EACtBX,EAAOW,SAAS,IAAM,EAEtB3uB,EAAQ0uB,EAAmBV,IAE3BhuB,EAAQ0uB,EAAmB5G,EAAOM,aAGpC,IAAI3K,EAAUqK,EAAOrK,QACjBsS,EAAcpwB,EAAMuuB,QAAQpG,EAAOv/B,SAEnBoB,IAAhBomC,GAA6BA,IAAgB/vB,IAC/Cyd,EAAQzd,MAAMyvB,gBAAkBzvB,EAChCyd,EAAQzd,MAAM0vB,aAAe1vB,EAC7Byd,EAAQzd,MAAM2vB,WAAa3vB,EAC3Byd,EAAQzd,MAAMgF,UAAYhF,EAE1BL,EAAMuuB,QAAQpG,EAAOv/B,IAAMyX,GAGzByd,EAAQgQ,aAAee,GACzBA,EAAc5L,YAAYnF,GAI9B,IAAK,IAAInwB,EAAI,EAAGuI,EAAIiyB,EAAOx7B,SAASiB,OAAQD,EAAIuI,EAAGvI,IACjDsiC,EAAa9H,EAAOx7B,SAASgB,GAAIw4B,GA0CnC8J,CAAa/J,EAAOC,O,oBC7PhB5mB,EAAQ,KAEhB0d,EAAOnE,QAAU,SAAStP,GAgBxB,SAASuT,EAAcoL,EAAQ/D,EAAYr+B,GAGzCT,KAAKS,SAAWA,EAEhBT,KAAK6iC,OAASA,EAEd7iC,KAAK8+B,gBAA4Bp6B,IAAfo6B,EAA2BA,EAAaxlB,SAG1DtZ,KAAKmiB,SAAU,EAGfniB,KAAKgD,OAAS,IAAIkhB,EAAMkV,QAGxBp5B,KAAK+qC,YAAc,EACnB/qC,KAAKykC,YAAcuG,IAGnBhrC,KAAKirC,QAAU,EACfjrC,KAAK+8B,QAAUiO,IAIfhrC,KAAKkrC,cAAgB,EACrBlrC,KAAKmrC,cAAgB7hC,KAAK8hC,GAI1BprC,KAAKqrC,iBAAmBL,IACxBhrC,KAAKsrC,gBAAkBN,IAIvBhrC,KAAKurC,eAAgB,EACrBvrC,KAAKwrC,cAAgB,IAIrBxrC,KAAKyrC,YAAa,EAClBzrC,KAAK0rC,UAAY,EAGjB1rC,KAAK2rC,cAAe,EACpB3rC,KAAK4rC,YAAc,EAGnB5rC,KAAK6rC,WAAY,EACjB7rC,KAAK8rC,YAAc,EAInB9rC,KAAK+rC,YAAa,EAClB/rC,KAAKgsC,gBAAkB,EAGvBhsC,KAAKisC,YAAa,EAGlBjsC,KAAKmR,KAAO,CAAE+6B,KAAM,GAAIC,GAAI,GAAIC,MAAO,GAAI9sB,OAAQ,GAAI+sB,MAAO,IAG9DrsC,KAAKssC,aAAe,CAClBC,MAAOroB,EAAMsoB,MAAMN,KACnBO,KAAMvoB,EAAMsoB,MAAME,OAClBC,IAAKzoB,EAAMsoB,MAAMJ,OAInBpsC,KAAK4sC,QAAU5sC,KAAKgD,OAAOigC,QAC3BjjC,KAAK6sC,UAAY7sC,KAAK6iC,OAAOtnB,SAAS0nB,QACtCjjC,KAAK8sC,MAAQ9sC,KAAK6iC,OAAOkK,KAGzB/sC,KAAKgtC,UAAW,EAChBhtC,KAAKitC,SAAU,EAMfjtC,KAAKktC,cAAgB,WACnB,OAAOC,EAAUC,KAGnBptC,KAAKqtC,kBAAoB,WACvB,OAAOF,EAAUG,OAGnBttC,KAAK4mB,MAAQ,WACX2mB,EAAMvqC,OAAOs0B,KAAKiW,EAAMX,SACxBW,EAAM1K,OAAOtnB,SAAS+b,KAAKiW,EAAMV,WACjCU,EAAM1K,OAAOkK,KAAOQ,EAAMT,MAE1BS,EAAM1K,OAAOpD,yBACb8N,EAAMC,cAAcC,GAEpBF,EAAMzP,SAENlpB,EAAQ84B,EAAM5zB,MAIhB9Z,KAAK89B,OAAU,WACb,IAAIlb,EAAS,IAAIsB,EAAMkV,QAGnBuU,GAAO,IAAIzpB,EAAM0pB,YAAaC,mBAChChL,EAAOiL,GACP,IAAI5pB,EAAMkV,QAAQ,EAAG,EAAG,IAEtB2U,EAAcJ,EAAK1K,QAAQ+K,UAE3BC,EAAe,IAAI/pB,EAAMkV,QACzB8U,EAAiB,IAAIhqB,EAAM0pB,WAE/B,OAAO,WACL,IAAIryB,EAAWgyB,EAAM1K,OAAOtnB,SAiE5B,OA/DAqH,EAAO0U,KAAK/b,GAAU4yB,IAAIZ,EAAMvqC,QAGhC4f,EAAOwrB,gBAAgBT,GAGvBR,EAAUkB,eAAezrB,GAErB2qB,EAAMxB,YAAcn3B,IAAU84B,EAAM5zB,MACtCw0B,EAqIK,EAAIhlC,KAAK8hC,GAAM,GAAK,GAAMmC,EAAMvB,iBAlIvCmB,EAAUG,OAASiB,EAAejB,MAClCH,EAAUC,KAAOmB,EAAenB,IAGhCD,EAAUG,MAAQhkC,KAAKxH,IACrByrC,EAAMlC,gBACN/hC,KAAKzH,IAAI0rC,EAAMjC,gBAAiB6B,EAAUG,QAI5CH,EAAUC,IAAM9jC,KAAKxH,IACnByrC,EAAMrC,cACN5hC,KAAKzH,IAAI0rC,EAAMpC,cAAegC,EAAUC,MAG1CD,EAAUqB,WAEVrB,EAAUsB,QAAUjtC,EAGpB2rC,EAAUsB,OAASnlC,KAAKxH,IACtByrC,EAAMxC,YACNzhC,KAAKzH,IAAI0rC,EAAM9I,YAAa0I,EAAUsB,SAIxClB,EAAMvqC,OAAOE,IAAIwrC,GAEjB9rB,EAAO+rB,iBAAiBxB,GAGxBvqB,EAAOwrB,gBAAgBL,GAEvBxyB,EAAS+b,KAAKiW,EAAMvqC,QAAQE,IAAI0f,GAEhC2qB,EAAM1K,OAAO+L,OAAOrB,EAAMvqC,SAEE,IAAxBuqC,EAAMhC,eACRgD,EAAejB,OAAS,EAAIC,EAAM/B,cAClC+C,EAAenB,KAAO,EAAIG,EAAM/B,eAEhC+C,EAAejrB,IAAI,EAAG,EAAG,GAG3B9hB,EAAQ,EACRktC,EAAUprB,IAAI,EAAG,EAAG,MAOlBurB,GACAZ,EAAalI,kBAAkBwH,EAAM1K,OAAOtnB,UAAYuzB,GACxD,GAAK,EAAIZ,EAAevG,IAAI4F,EAAM1K,OAAOkM,aAAeD,KAExDvB,EAAMC,cAAcC,GAEpBQ,EAAa3W,KAAKiW,EAAM1K,OAAOtnB,UAC/B2yB,EAAe5W,KAAKiW,EAAM1K,OAAOkM,YACjCF,GAAc,GAEP,IA1FE,GAiGf7uC,KAAKgvC,QAAU,WACbzB,EAAMzO,WAAWmQ,oBAAoB,cAAeC,GAAe,GACnE3B,EAAMzO,WAAWmQ,oBAAoB,YAAajnB,GAAa,GAC/DulB,EAAMzO,WAAWmQ,oBAAoB,QAASE,GAAc,GAE5D5B,EAAMzO,WAAWmQ,oBAAoB,aAAcG,GAAc,GACjE7B,EAAMzO,WAAWmQ,oBAAoB,WAAYI,GAAY,GAC7D9B,EAAMzO,WAAWmQ,oBAAoB,YAAaK,GAAa,GAE/Dh2B,SAAS21B,oBAAoB,YAAaM,GAAa,GACvDj2B,SAAS21B,oBAAoB,UAAWO,GAAW,GAEnD9iC,OAAOuiC,oBAAoB,UAAWQ,GAAW,IASnD,IAAIlC,EAAQvtC,KACRytC,EAAc,CAAEt4B,KAAM,UACtBu6B,EAAa,CAAEv6B,KAAM,SACrBw6B,EAAW,CAAEx6B,KAAM,OAEnBu4B,EAAQ,CACV5zB,MAAO,EACP81B,OAAQ,EACRC,MAAO,EACPlD,IAAK,EACLmD,aAAc,EACdC,YAAa,EACbC,UAAW,GAGTp7B,EAAQ84B,EAAM5zB,KAEdg1B,EAAM,KAGN3B,EAAY,IAAIjpB,EAAM+rB,UACtB1B,EAAiB,IAAIrqB,EAAM+rB,UAE3BzuC,EAAQ,EACRktC,EAAY,IAAIxqB,EAAMkV,QACtByV,GAAc,EAEdqB,EAAc,IAAIhsB,EAAMqS,QACxB4Z,EAAY,IAAIjsB,EAAMqS,QACtB6Z,EAAc,IAAIlsB,EAAMqS,QAExB8Z,EAAW,IAAInsB,EAAMqS,QACrB+Z,EAAS,IAAIpsB,EAAMqS,QACnBga,EAAW,IAAIrsB,EAAMqS,QAErBia,EAAa,IAAItsB,EAAMqS,QACvBka,EAAW,IAAIvsB,EAAMqS,QACrBma,EAAa,IAAIxsB,EAAMqS,QAM3B,SAASoa,IACP,OAAOrnC,KAAKsnC,IAAI,IAAMrD,EAAM7B,WAG9B,SAAS4C,EAAWuC,GAClBtC,EAAejB,OAASuD,EAG1B,SAASC,EAASD,GAChBtC,EAAenB,KAAOyD,EAGxB,IAAIE,EAAW,WACb,IAAIxrC,EAAI,IAAI2e,EAAMkV,QAElB,OAAO,SAAiBuL,EAAUqM,GAChCzrC,EAAE0rC,oBAAoBD,EAAc,GACpCzrC,EAAE2rC,gBAAgBvM,GAElB+J,EAAUxrC,IAAIqC,IAPH,GAWX4rC,EAAS,WACX,IAAI5rC,EAAI,IAAI2e,EAAMkV,QAElB,OAAO,SAAeuL,EAAUqM,GAC9BzrC,EAAE0rC,oBAAoBD,EAAc,GACpCzrC,EAAE2rC,eAAevM,GAEjB+J,EAAUxrC,IAAIqC,IAPL,GAYT6rC,EAAO,WACT,IAAIxuB,EAAS,IAAIsB,EAAMkV,QAEvB,OAAO,SAAaiY,EAAQC,GAC1B,IAAI9Y,EACF+U,EAAMzO,aAAexlB,SACjBi0B,EAAMzO,WAAWzxB,KACjBkgC,EAAMzO,WAEZ,GAAIyO,EAAM1K,kBAAkB3e,EAAMqtB,kBAAmB,CAEnD,IAAIh2B,EAAWgyB,EAAM1K,OAAOtnB,SAC5BqH,EAAO0U,KAAK/b,GAAU4yB,IAAIZ,EAAMvqC,QAChC,IAAIwuC,EAAiB5uB,EAAOta,SAG5BkpC,GAAkBloC,KAAKwgC,IACnByD,EAAM1K,OAAOlG,IAAM,EAAKrzB,KAAK8hC,GAAM,KAIvC2F,EACG,EAAIM,EAASG,EAAkBhZ,EAAQiZ,aACxClE,EAAM1K,OAAOkG,QAEfoI,EACG,EAAIG,EAASE,EAAkBhZ,EAAQiZ,aACxClE,EAAM1K,OAAOkG,aAENwE,EAAM1K,kBAAkB3e,EAAMwtB,oBAEvCX,EACGM,GAAU9D,EAAM1K,OAAOvJ,MAAQiU,EAAM1K,OAAOn6B,MAC3C6kC,EAAM1K,OAAOkK,KACbvU,EAAQmZ,YACVpE,EAAM1K,OAAOkG,QAEfoI,EACGG,GAAU/D,EAAM1K,OAAOj6B,IAAM2kC,EAAM1K,OAAO+O,QACzCrE,EAAM1K,OAAOkK,KACbvU,EAAQiZ,aACVlE,EAAM1K,OAAOkG,UAIfloC,QAAQgxC,KACN,gFAEFtE,EAAM1B,WAAY,IAhDb,GAyDX,SAASllB,EAAQmrB,EAAYC,EAAU9iC,GACjCs+B,EAAM1K,kBAAkB3e,EAAMqtB,kBAChC/vC,GAASswC,EACAvE,EAAM1K,kBAAkB3e,EAAMwtB,oBACvCnE,EAAM1K,OAAOkK,KAAOzjC,KAAKxH,IACvByrC,EAAMtC,QACN3hC,KAAKzH,IAAI0rC,EAAMxQ,QAASwQ,EAAM1K,OAAOkK,KAAO+E,IAE9CvE,EAAM1K,OAAOpD,yBACboP,GAAc,IAEdhuC,QAAQgxC,KACN,uFAEFtE,EAAM9B,YAAa,GAIvB,SAASuG,EAASF,EAAYC,GACxBxE,EAAM1K,kBAAkB3e,EAAMqtB,kBAChC/vC,GAASswC,EACAvE,EAAM1K,kBAAkB3e,EAAMwtB,oBACvCnE,EAAM1K,OAAOkK,KAAOzjC,KAAKxH,IACvByrC,EAAMtC,QACN3hC,KAAKzH,IAAI0rC,EAAMxQ,QAASwQ,EAAM1K,OAAOkK,KAAO+E,IAE9CvE,EAAM1K,OAAOpD,yBACboP,GAAc,IAEdhuC,QAAQgxC,KACN,uFAEFtE,EAAM9B,YAAa,GA8BvB,SAASwG,EAAmBhjC,GAG1BohC,EAAS/sB,IAAIrU,EAAMijC,QAASjjC,EAAMkjC,SA2NpC,SAASnqB,EAAY/Y,GACnB,IAAsB,IAAlBs+B,EAAMprB,QAAV,CAIA,GAFAlT,EAAMiwB,iBAEFjwB,EAAMmjC,SAAW7E,EAAMjB,aAAaC,MAAO,CAC7C,IAA2B,IAAvBgB,EAAM5B,aAAwB,QA/OtC,SAA+B18B,GAG7BihC,EAAY5sB,IAAIrU,EAAMijC,QAASjjC,EAAMkjC,SA8OnCE,CAAsBpjC,GAEtB2F,EAAQ84B,EAAMkC,YACT,GAAI3gC,EAAMmjC,SAAW7E,EAAMjB,aAAaG,KAAM,CACnD,IAAyB,IAArBc,EAAM9B,WAAsB,QA/OpC,SAA8Bx8B,GAE5BuhC,EAAWltB,IAAIrU,EAAMijC,QAASjjC,EAAMkjC,SA+OlCG,CAAqBrjC,GAErB2F,EAAQ84B,EAAMmC,WACT,GAAI5gC,EAAMmjC,SAAW7E,EAAMjB,aAAaK,IAAK,CAClD,IAAwB,IAApBY,EAAM1B,UAAqB,OAE1B0B,EAAMP,WAAYO,EAAMN,UAC3BgF,EAAmBhjC,GAEnB2F,EAAQ84B,EAAMf,KAId/3B,IAAU84B,EAAM5zB,OAClBR,SAAStK,iBAAiB,YAAaugC,GAAa,GACpDj2B,SAAStK,iBAAiB,UAAWwgC,GAAW,GAEhDjC,EAAMC,cAAckC,KAIxB,SAASH,EAAYtgC,GACnB,IAAsB,IAAlBs+B,EAAMprB,QAIV,GAFAlT,EAAMiwB,iBAEFtqB,IAAU84B,EAAMkC,OAAQ,CAC1B,IAA2B,IAAvBrC,EAAM5B,aAAwB,QAjQtC,SAA+B18B,GAG7BkhC,EAAU7sB,IAAIrU,EAAMijC,QAASjjC,EAAMkjC,SACnC/B,EAAYmC,WAAWpC,EAAWD,GAElC,IAAI1X,EACF+U,EAAMzO,aAAexlB,SACjBi0B,EAAMzO,WAAWzxB,KACjBkgC,EAAMzO,WAGZwP,EACI,EAAIhlC,KAAK8hC,GAAKgF,EAAYvtB,EAAK2V,EAAQmZ,YACvCpE,EAAM3B,aAIVkF,EACI,EAAIxnC,KAAK8hC,GAAKgF,EAAYttB,EAAK0V,EAAQiZ,aACvClE,EAAM3B,aAGVsE,EAAY5Y,KAAK6Y,GAEjB5C,EAAMzP,SA0OJ0U,CAAsBvjC,QACjB,GAAI2F,IAAU84B,EAAMmC,MAAO,CAChC,IAAyB,IAArBtC,EAAM9B,WAAsB,QAzOpC,SAA8Bx8B,GAE5BwhC,EAASntB,IAAIrU,EAAMijC,QAASjjC,EAAMkjC,SAElCzB,EAAW6B,WAAW9B,EAAUD,GAE5BE,EAAW5tB,EAAI,EACjB6D,EAAQgqB,KACCD,EAAW5tB,EAAI,GACxBkvB,EAASrB,KAGXH,EAAWlZ,KAAKmZ,GAEhBlD,EAAMzP,SA6NJ2U,CAAqBxjC,QAChB,GAAI2F,IAAU84B,EAAMf,IAAK,CAC9B,IAAwB,IAApBY,EAAM1B,UAAqB,OAET,GAAlB0B,EAAMP,UACmB,GAAvBO,EAAMmF,gBACRT,EAAmBhjC,GACnBs+B,EAAMmF,eAAgB,GAjO9B,SAA4BzjC,GAG1BqhC,EAAOhtB,IAAIrU,EAAMijC,QAASjjC,EAAMkjC,SAEhC5B,EAASgC,WAAWjC,EAAQD,GAE5Be,EAAIb,EAAS1tB,EAAG0tB,EAASztB,GAEzButB,EAAS/Y,KAAKgZ,GAEd/C,EAAMzP,SA0NJ6U,CAAmB1jC,IAIvB,SAASugC,EAAUvgC,IACK,IAAlBs+B,EAAMprB,UAKV7I,SAAS21B,oBAAoB,UAAWO,GAAW,GAEnDjC,EAAMC,cAAcmC,GAEpB/6B,EAAQ84B,EAAM5zB,MAGhB,SAASq1B,EAAalgC,IAEA,IAAlBs+B,EAAMprB,UACe,IAArBorB,EAAM9B,YACL72B,IAAU84B,EAAM5zB,MAAQlF,IAAU84B,EAAMkC,SAI3C3gC,EAAMiwB,iBACNjwB,EAAM2jC,kBA7OR,SAA0B3jC,GAExB8iC,SAAW,CAAClvB,EAAG5T,EAAMijC,QAASpvB,EAAG7T,EAAMkjC,SAEnCljC,EAAMqiC,OAAS,EACjBU,EAASrB,IAAgBoB,UAChB9iC,EAAMqiC,OAAS,GACxB3qB,EAAQgqB,IAAgBoB,UAG1BxE,EAAMzP,SAqON+U,CAAiB5jC,GAEjBs+B,EAAMC,cAAckC,GACpBnC,EAAMC,cAAcmC,IAGtB,SAASF,EAAUxgC,IAEG,IAAlBs+B,EAAMprB,UACe,IAArBorB,EAAMtB,aACc,IAApBsB,EAAM1B,YAIRvyB,SAAStK,iBAAiB,YAAaugC,GAAa,GArOtD,SAAuBtgC,GAGrB,OAAQA,EAAM6jC,SACZ,KAAKvF,EAAMp8B,KAAKg7B,GACdiF,EAAI,EAAG7D,EAAMzB,aACbyB,EAAMzP,SACN,MAEF,KAAKyP,EAAMp8B,KAAKmO,OACd8xB,EAAI,GAAI7D,EAAMzB,aACdyB,EAAMzP,SACN,MAEF,KAAKyP,EAAMp8B,KAAK+6B,KACdkF,EAAI7D,EAAMzB,YAAa,GACvByB,EAAMzP,SACN,MAEF,KAAKyP,EAAMp8B,KAAKi7B,MACdgF,GAAK7D,EAAMzB,YAAa,GACxByB,EAAMzP,SACN,MAEF,KAAKyP,EAAMp8B,KAAKk7B,MACQ,GAAlBkB,EAAMP,WACRO,EAAMmF,eAAgB,EACtB99B,EAAQ84B,EAAMf,MA4MpBoG,CAAc9jC,IAchB,SAASmgC,EAAangC,GACpB,IAAsB,IAAlBs+B,EAAMprB,QAAV,CAEA,OAAQlT,EAAM+jC,QAAQ1qC,QACpB,KAAK,EACH,IAA2B,IAAvBilC,EAAM5B,aAAwB,QAzNxC,SAAgC18B,GAG9BihC,EAAY5sB,IAAIrU,EAAM+jC,QAAQ,GAAGrqC,MAAOsG,EAAM+jC,QAAQ,GAAGnqC,OAwNrDoqC,CAAuBhkC,GAEvB2F,EAAQ84B,EAAMoC,aAEd,MAEF,KAAK,EACH,IAAyB,IAArBvC,EAAM9B,WAAsB,QA5NtC,SAA+Bx8B,GAG7B,IAAIikC,EAAKjkC,EAAM+jC,QAAQ,GAAGrqC,MAAQsG,EAAM+jC,QAAQ,GAAGrqC,MAC/CwqC,EAAKlkC,EAAM+jC,QAAQ,GAAGnqC,MAAQoG,EAAM+jC,QAAQ,GAAGnqC,MAE/C87B,EAAWr7B,KAAK8pC,KAAKF,EAAKA,EAAKC,EAAKA,GAExC3C,EAAWltB,IAAI,EAAGqhB,GAsNd0O,CAAsBpkC,GAEtB2F,EAAQ84B,EAAMqC,YAEd,MAEF,KAAK,EACH,IAAwB,IAApBxC,EAAM1B,UAAqB,QA1NrC,SAA6B58B,GAG3BohC,EAAS/sB,IAAIrU,EAAM+jC,QAAQ,GAAGrqC,MAAOsG,EAAM+jC,QAAQ,GAAGnqC,OAyNlDyqC,CAAoBrkC,GAEpB2F,EAAQ84B,EAAMsC,UAEd,MAEF,QACEp7B,EAAQ84B,EAAM5zB,KAGdlF,IAAU84B,EAAM5zB,MAClByzB,EAAMC,cAAckC,IAIxB,SAASJ,EAAYrgC,GACnB,IAAsB,IAAlBs+B,EAAMprB,QAKV,OAHAlT,EAAMiwB,iBACNjwB,EAAM2jC,kBAEE3jC,EAAM+jC,QAAQ1qC,QACpB,KAAK,EACH,IAA2B,IAAvBilC,EAAM5B,aAAwB,OAClC,GAAI/2B,IAAU84B,EAAMoC,aAAc,QA9OxC,SAA+B7gC,GAG7BkhC,EAAU7sB,IAAIrU,EAAM+jC,QAAQ,GAAGrqC,MAAOsG,EAAM+jC,QAAQ,GAAGnqC,OACvDunC,EAAYmC,WAAWpC,EAAWD,GAElC,IAAI1X,EACF+U,EAAMzO,aAAexlB,SACjBi0B,EAAMzO,WAAWzxB,KACjBkgC,EAAMzO,WAGZwP,EACI,EAAIhlC,KAAK8hC,GAAKgF,EAAYvtB,EAAK2V,EAAQmZ,YACvCpE,EAAM3B,aAIVkF,EACI,EAAIxnC,KAAK8hC,GAAKgF,EAAYttB,EAAK0V,EAAQiZ,aACvClE,EAAM3B,aAGVsE,EAAY5Y,KAAK6Y,GAEjB5C,EAAMzP,SAuNFyV,CAAsBtkC,GAEtB,MAEF,KAAK,EACH,IAAyB,IAArBs+B,EAAM9B,WAAsB,OAChC,GAAI72B,IAAU84B,EAAMqC,YAAa,QA1NvC,SAA8B9gC,GAG5B,IAAIikC,EAAKjkC,EAAM+jC,QAAQ,GAAGrqC,MAAQsG,EAAM+jC,QAAQ,GAAGrqC,MAC/CwqC,EAAKlkC,EAAM+jC,QAAQ,GAAGnqC,MAAQoG,EAAM+jC,QAAQ,GAAGnqC,MAE/C87B,EAAWr7B,KAAK8pC,KAAKF,EAAKA,EAAKC,EAAKA,GAExC1C,EAASntB,IAAI,EAAGqhB,GAEhB+L,EAAW6B,WAAW9B,EAAUD,GAE5BE,EAAW5tB,EAAI,EACjBkvB,EAASrB,KACAD,EAAW5tB,EAAI,GACxB6D,EAAQgqB,KAGVH,EAAWlZ,KAAKmZ,GAEhBlD,EAAMzP,SAwMF0V,CAAqBvkC,GAErB,MAEF,KAAK,EACH,IAAwB,IAApBs+B,EAAM1B,UAAqB,OAC/B,GAAIj3B,IAAU84B,EAAMsC,UAAW,QA3MrC,SAA4B/gC,GAG1BqhC,EAAOhtB,IAAIrU,EAAM+jC,QAAQ,GAAGrqC,MAAOsG,EAAM+jC,QAAQ,GAAGnqC,OAEpD0nC,EAASgC,WAAWjC,EAAQD,GAE5Be,EAAIb,EAAS1tB,EAAG0tB,EAASztB,GAEzButB,EAAS/Y,KAAKgZ,GAEd/C,EAAMzP,SAkMF2V,CAAmBxkC,GAEnB,MAEF,QACE2F,EAAQ84B,EAAM5zB,MAIpB,SAASu1B,EAAWpgC,IACI,IAAlBs+B,EAAMprB,UAIVorB,EAAMC,cAAcmC,GAEpB/6B,EAAQ84B,EAAM5zB,MAGhB,SAASo1B,EAAcjgC,GACrBA,EAAMiwB,iBA1eRl/B,KAAKoxC,IAAMA,EAwCXpxC,KAAK2mB,QAAU,SAASnlB,GACtBmlB,EAAQnlB,GACR+rC,EAAMzP,UAGR99B,KAAKgyC,SAAW,SAASxwC,GACvBwwC,EAASxwC,GACT+rC,EAAMzP,UAgcRyP,EAAMzO,WAAW9vB,iBAAiB,cAAekgC,GAAe,GAEhE3B,EAAMzO,WAAW9vB,iBAAiB,YAAagZ,GAAa,GAC5DulB,EAAMzO,WAAW9vB,iBAAiB,QAASmgC,GAAc,GAEzD5B,EAAMzO,WAAW9vB,iBAAiB,aAAcogC,GAAc,GAC9D7B,EAAMzO,WAAW9vB,iBAAiB,WAAYqgC,GAAY,GAC1D9B,EAAMzO,WAAW9vB,iBAAiB,YAAasgC,GAAa,GAE5D5iC,OAAOsC,iBAAiB,UAAWygC,GAAW,GAC9C/iC,OAAOsC,iBAAiB,SAjHxB,SAAiBC,IAEK,IAAlBs+B,EAAMprB,UACe,IAArBorB,EAAMtB,aACc,IAApBsB,EAAM1B,WAzPV,SAAqB58B,GACnB,OAAQA,EAAM6jC,SACZ,KAAKvF,EAAMp8B,KAAKk7B,MACQ,GAAlBkB,EAAMP,WACRO,EAAMmF,eAAgB,EACtB99B,EAAQ84B,EAAM5zB,OAwPpB45B,CAAYzkC,MAyG4B,GAI1CjP,KAAK89B,SAwHP,OAlHArG,EAAcnE,UAAYluB,OAAOgyB,OAAOlT,EAAMyvB,gBAAgBrgB,WAC9DmE,EAAcnE,UAAU+D,YAAcI,EAEtCryB,OAAOwuC,iBAAiBnc,EAAcnE,UAAW,CAC/CugB,OAAQ,CACNhqC,IAAK,WAIH,OAHAhJ,QAAQgxC,KACN,4DAEK7xC,KAAKgD,SAMhB8wC,OAAQ,CACNjqC,IAAK,WAIH,OAHAhJ,QAAQgxC,KACN,+EAEM7xC,KAAKyrC,YAGfnoB,IAAK,SAASnQ,GACZtS,QAAQgxC,KACN,8EAEF7xC,KAAKyrC,YAAct4B,IAIvB4gC,SAAU,CACRlqC,IAAK,WAIH,OAHAhJ,QAAQgxC,KACN,mFAEM7xC,KAAK2rC,cAGfroB,IAAK,SAASnQ,GACZtS,QAAQgxC,KACN,kFAEF7xC,KAAK2rC,cAAgBx4B,IAIzB6gC,MAAO,CACLnqC,IAAK,WAIH,OAHAhJ,QAAQgxC,KACN,6EAEM7xC,KAAK6rC,WAGfvoB,IAAK,SAASnQ,GACZtS,QAAQgxC,KACN,4EAEF7xC,KAAK6rC,WAAa14B,IAItB8gC,OAAQ,CACNpqC,IAAK,WAIH,OAHAhJ,QAAQgxC,KACN,+EAEM7xC,KAAKisC,YAGf3oB,IAAK,SAASnQ,GACZtS,QAAQgxC,KACN,8EAEF7xC,KAAKisC,YAAc94B,IAIvB+gC,aAAc,CACZrqC,IAAK,WAIH,OAHAhJ,QAAQgxC,KACN,wFAEM7xC,KAAKurC,eAGfjoB,IAAK,SAASnQ,GACZtS,QAAQgxC,KACN,uFAEF7xC,KAAKurC,eAAiBp4B,IAI1BghC,qBAAsB,CACpBtqC,IAAK,WAIH,OAHAhJ,QAAQgxC,KACN,4FAEK7xC,KAAKwrC,eAGdloB,IAAK,SAASnQ,GACZtS,QAAQgxC,KACN,4FAEF7xC,KAAKwrC,cAAgBr4B,MAOpBskB,I,gFCz+BT,IAAIF,EAAMtd,EAAQ,IAAcud,QAC5B/2B,EAAWwZ,EAAQ,GAAmBud,QACtCtT,EAAQqT,EAAIrT,MACLqT,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,GACJH,EAAIxwB,GAEb4wB,EAAOnE,QAAU,SAAS7T,GAMxBA,EAAKy0B,eAAiB,SAASzrC,EAAOE,EAAOwrC,GAC3C,IAAIC,EAAe,EACfC,EAAe,EAInB,GACED,GAAgBD,EAAeG,WAAaH,EAAeI,WAC3DF,GAAgBF,EAAeK,UAAYL,EAAeM,gBAClDN,EAAiBA,EAAeO,cAK1C,MAAO,CAAE/xB,EAHCla,EAAQ2rC,EAGGxxB,EAFXja,EAAQ0rC,IASpB50B,EAAKk1B,SAAW,SAASzxC,GACvB,IAAI0xC,EAAY1xC,EACXA,EAAK8D,OACR9D,EAAK8D,KAAO,IAGd,IAAgBmb,EAoBhB,OAdAyyB,EAAUtwB,WAAa,CACrBza,MAAO3G,EAAK8D,KAAK6C,OAAS,WAC1BxI,MAAO6B,EAAK8D,KAAK3F,OAASg2B,EAAI8C,WAC9BpB,OAAQ71B,EAAK8D,KAAK+xB,QAAU1B,EAAI+C,eAChCt4B,MAAOoB,EAAK8D,KAAKlF,OAASu1B,EAAIyD,WAC9BvW,WAXcpC,EAWO5hB,EAASC,MAAMyB,MAAMZ,MAV7B,4CAA4CwzC,KAAK1yB,GAE9D,IAAI6B,EAAMC,MAAM1jB,EAASC,MAAMyB,MAAMZ,OACnC,MAQFyzC,SAAU1rC,KAAK+2B,KAAqB,EAAhB/2B,KAAK2rC,UACzBrzC,KAAMwB,EAAK8D,KAAKtF,KAChBszC,MAAO9xC,EAAK8D,KAAKguC,OAAS3d,EAAIkE,UAC9B5Y,EAAG,EACHC,EAAG,EACHkQ,GAAI,EACJC,GAAI,GAEC6hB,GAMTn1B,EAAKw1B,YAAc,WACjB,IAAIC,EAAY,IAAIlxB,EAAMmxB,MAO1B,OANAD,EAAUE,OAAO,EAAG,GACpBF,EAAUG,OAAO,EAAG,GACpBH,EAAUG,OAAO,EAAG,GACpBH,EAAUG,OAAO,EAAG,GACpBH,EAAUG,OAAO,EAAG,GACpBH,EAAUG,OAAO,EAAG,GACb,IAAIrxB,EAAMsxB,cAAcJ,IAMjCz1B,EAAK81B,YAAc,WACjB,IAAIL,EAAY,IAAIlxB,EAAMmxB,MAM1B,OALAD,EAAUE,QAAQ,GAAI,GACtBF,EAAUG,QAAQ,EAAG,GACrBH,EAAUG,OAAO,EAAG,GACpBH,EAAUG,OAAO,GAAI,GACrBH,EAAUG,QAAQ,GAAI,GACf,IAAIrxB,EAAMsxB,cAAcJ,IAOjCz1B,EAAK+1B,YAAc,SAASC,GAC1B,OAAOrsC,KAAKsnC,IAAK+E,EAASrsC,KAAK8hC,IAAO,EAAM,GAAM,EAAM,M,oBCjG5D,IAAI7T,EAAMtd,EAAQ,IAAaud,QAC3BtT,EAAQqT,EAAIrT,MAGZuT,GAFOF,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,eACpBC,EAAKH,EAAIG,GAEIj3B,GADR82B,EAAIxwB,GACiBkT,EAAQ,GAA9Bud,SAGRG,EAAOnE,QAAU,SAAS7T,GAIxBA,EAAKsf,WAAa,WAChB,IAAI2W,EAAe37B,EAAQ,KAC3B0F,EAAKjf,MAAQk1C,IACTj2B,EAAKsc,SACPtc,EAAKvQ,YAAYuQ,EAAKsc,UAO1Btc,EAAKqf,YAAc,WACU,UAAvBrf,EAAK6Z,QAAQC,OACf9Z,EAAKk2B,oBAC2B,MAAvBl2B,EAAK6Z,QAAQC,QACtB9Z,EAAKm2B,iBAOTn2B,EAAKk2B,kBAAoB,WACvBl2B,EAAK+Z,MAAQzf,EAAQ,IAARA,CAA8B0F,EAAKjf,QAMlDif,EAAKm2B,cAAgB,WACnBn2B,EAAK+Z,MAAQhC,EACVqe,kBACArc,MAAM,SAAUhC,EAAGse,gBAAgBC,UAAU,IAC7Cvc,MAAM,OAAQhC,EAAGuI,aACjBvG,MAAM,IAAKhC,EAAGwe,OAAO,GAAGD,SAAS,OACjCvc,MAAM,IAAKhC,EAAGye,OAAO,GAAGF,SAAS,OACjC9V,OAIHxgB,EAAK+Z,MAAM6G,WAAW,MAItB5gB,EAAK+Z,MAAM0c,cAAc,KAG3Bz2B,EAAK4e,iBAAmB,WACtB5e,EAAK6Y,QAAUlf,SAASC,eAAe,mBACvCoG,EAAKyf,WAAazf,EAAK6Y,QAAQ6G,wBAC/B1f,EAAK3E,MAAQ2E,EAAKyf,WAAWpkB,MAC7B2E,EAAKZ,OAASY,EAAKyf,WAAWrgB,OAC9BY,EAAK4f,OAAS5f,EAAK3E,MAAQ2E,EAAKZ,OAChCY,EAAK2W,WAAa,IAAIpS,EAAMqS,QAAQ5W,EAAK3E,MAAO2E,EAAKZ,SAGvDY,EAAK6e,kBAAoB,WACvB7e,EAAKse,SAASyB,QAAQ/f,EAAK3E,MAAO2E,EAAKZ,QACvCY,EAAKof,YAAc,IAAI7a,EAAMykB,cAC7BhpB,EAAKof,YAAYW,QAAQ/f,EAAK3E,MAAO2E,EAAKZ,QAC1CY,EAAKof,YAAYD,WAAW/jB,MAAMQ,SAAW,WAC7CoE,EAAKof,YAAYD,WAAW/jB,MAAMnS,IAAM,EACxC+W,EAAK2e,gBAAgBQ,WAAW/jB,MAAMQ,SAAW,WACjDoE,EAAK2e,gBAAgBQ,WAAW/jB,MAAM62B,OAAS,EAC/CjyB,EAAK2e,gBAAgBQ,WAAW/jB,MAAMrS,KAAO,EAC7CiX,EAAK2e,gBAAgBoB,QAAQ,GAAM/f,EAAKZ,OAAQ,GAAMY,EAAKZ,QAC3DY,EAAK2e,gBAAgB+X,OAAS,IAC9B12B,EAAKse,SAASqY,cAAc5pC,OAAO6pC,mBAMrC52B,EAAK8e,YAAc,WACjB9e,EAAK6f,QAAU,IAAItb,EAAMqtB,kBACvB5xB,EAAKgd,IACLhd,EAAK3E,MAAQ2E,EAAKZ,OAClBY,EAAK8W,KACL9W,EAAK+W,KAEP/W,EAAK6f,QAAQjkB,SAASsZ,EAAI,IAC1B,IAAInO,EAAW,IAAI+Q,EAAc9X,EAAK6f,QAAS7f,EAAK6Y,QAAS/3B,GAG7DA,EAASimB,SAAWA,EAEpBA,EAASsmB,UAAW,EACpBtmB,EAASumB,SAAU,EACnBvmB,EAASqkB,YAAc,GACvBrkB,EAAS+d,YAAiC,EAAnB9kB,EAAKkd,YAC5BnW,EAAS1jB,OAAOsgB,IAAI,EAAG,EAAG,GAC1BoD,EAASilB,cAAe,EACxBhsB,EAAK+G,SAAWA,GAMlB/G,EAAK+e,aAAe,WAClB/e,EAAK2f,QAAU,GACf3f,EAAK2f,QAAQuB,OAAS,IAAI3c,EAAMqtB,kBAC9B5xB,EAAKgd,IACL,EACAhd,EAAK8W,KACL9W,EAAK+W,KAEP/W,EAAK2f,QAAQuB,OAAOtlB,SAASsZ,EAAuB,EAAnBlV,EAAKkd,YAErCld,EAAK62B,UAAY,CAChB3zB,EAAG,KACHC,EAAG,KACH+R,EAAG,MAOFlV,EAAK2f,QAAQmX,mBAAqB,SAASC,EAAQC,GAElD,GACEh3B,EAAK6f,QAAQjkB,SAASsH,GAAKlD,EAAK62B,UAAU3zB,GAC1ClD,EAAK6f,QAAQjkB,SAASuH,GAAKnD,EAAK62B,UAAU1zB,GAC1CnD,EAAK6f,QAAQjkB,SAASsZ,GAAKlV,EAAK62B,UAAU3hB,EAH5C,CAQAlV,EAAK62B,UAAU3zB,EAAIlD,EAAK6f,QAAQjkB,SAASsH,EACzClD,EAAK62B,UAAU1zB,EAAInD,EAAK6f,QAAQjkB,SAASuH,EACzCnD,EAAK62B,UAAU3hB,EAAIlV,EAAK6f,QAAQjkB,SAASsZ,EAGzC,IAAM+hB,GAAej3B,EAAKZ,OAAS,KAAOY,EAAK6f,QAAQjkB,SAASsZ,EAEhElV,EAAK+G,SAAS0qB,KACVsF,EAAS/2B,EAAK2f,QAAQtkB,MAAS,IAC/B,IACA2E,EAAK6f,QAAQjkB,SAASsH,IACrB+zB,IACAj3B,EAAKZ,OAAS43B,GAAUh3B,EAAK2f,QAAQvgB,OAAU,IAChD,IACAY,EAAK6f,QAAQjkB,SAASuH,GACtB8zB,KAINn2C,EAASg2C,mBAAqB92B,EAAK2f,QAAQmX,oBAM/C92B,EAAKgf,cAAgB,WACnBhf,EAAKihB,MAAQ,IAAI1c,EAAM2yB,MAEvBl3B,EAAK6iB,OAAS,IAAIte,EAAMqQ,eACxB5U,EAAKte,MAAQ,IAAI6iB,EAAM4yB,MACvBn3B,EAAKihB,MAAM19B,IAAIyc,EAAKte,OAEH,SAAbk2B,EAAI8D,MACN1b,EAAKo3B,kBAELp3B,EAAKq3B,mBAGP,IAAIC,EAAOt3B,EAAKw1B,cAEhBx1B,EAAKu3B,kBAAkBD,GACvBt3B,EAAKw3B,gBAAgBF,GACrBt3B,EAAKy3B,cAAcH,IAMrBt3B,EAAKo3B,gBAAkB,WACrBp3B,EAAKxd,MAAQ,GACbwd,EAAK03B,UAAY,GAMnB13B,EAAKq3B,iBAAmB,WACtBr3B,EAAKxd,MAAQ,IAAI+hB,EAAMqQ,eACvB,IAAIuC,EAAW,IAAI5S,EAAMozB,kBAAkB,CACzCC,UAAW,EACXh2C,MAAO,SACPi2C,aAActzB,EAAMuzB,aACpBC,QAASxzB,EAAMyzB,cAEjBh4B,EAAKi4B,KAAO,IAAI1zB,EAAM2zB,aAAal4B,EAAKxd,MAAO20B,GAC/CnX,EAAKi4B,KAAKE,eAAgB,EAC1Bn4B,EAAKihB,MAAM19B,IAAIyc,EAAKi4B,MAEpB,IAAI7zC,EAAY,IAAImgB,EAAMsR,gBACxB,IAAIV,aAA8B,EAAjBnV,EAAK2c,WACtB,GAEEyb,EAAS,IAAI7zB,EAAMsR,gBACrB,IAAIV,aAA8B,EAAjBnV,EAAK2c,WACtB,GAGF3c,EAAKxd,MAAMszB,aAAa,WAAY1xB,GACpC4b,EAAKxd,MAAMszB,aAAa,QAASsiB,GAGjCp4B,EAAKq4B,eAAiB,IAAI9zB,EAAMqQ,eAChC,IAAI0jB,EAAgB,IAAI/zB,EAAMg0B,kBAAkB,CAC9C32C,MAAO,WAEToe,EAAKw4B,MAAQ,IAAIj0B,EAAMk0B,KAAKz4B,EAAKq4B,eAAgBC,GACjDt4B,EAAKw4B,MAAML,eAAgB,EAC3Bn4B,EAAKihB,MAAM19B,IAAIyc,EAAKw4B,OACpB,IAAIE,EAAiB,IAAIn0B,EAAMsR,gBAC7B,IAAIV,aAA8B,EAAjBnV,EAAK2c,WACtB,GAEEgc,EAAc,IAAIp0B,EAAMsR,gBAC1B,IAAIV,aAA8B,EAAjBnV,EAAK2c,WACtB,GAGF3c,EAAKq4B,eAAeviB,aAAa,WAAY4iB,GAC7C14B,EAAKq4B,eAAeviB,aAAa,QAAS6iB,GAE1C34B,EAAK44B,UAAY,GAMnB54B,EAAKu3B,kBAAoB,SAASD,GAChCt3B,EAAK64B,UAAY,IAAIt0B,EAAMu0B,KACzBxB,EACA,IAAI/yB,EAAMozB,kBAAkB,CAAEC,UAAW,EAAGh2C,MAAO,WAErDoe,EAAK64B,UAAUlgB,SAAU,EACzB3Y,EAAKihB,MAAM19B,IAAIyc,EAAK64B,YAMtB74B,EAAKw3B,gBAAkB,SAASF,GAC9Bt3B,EAAK+4B,WAAa,IAAIx0B,EAAMu0B,KAC1BxB,EACA,IAAI/yB,EAAMozB,kBAAkB,CAAEC,UAAW,EAAGh2C,MAAO,YAErDoe,EAAKihB,MAAM19B,IAAIyc,EAAK+4B,YACpB/4B,EAAKg5B,gBAAmC,EAAnBh5B,EAAKkd,cAM5Bld,EAAKy3B,cAAgB,SAASH,GAC5Bt3B,EAAKi5B,SAAW,IAAI10B,EAAMu0B,KACxBxB,EACA,IAAI/yB,EAAMozB,kBAAkB,CAAEC,UAAW,EAAGh2C,MAAOoe,EAAK5f,SAAU,SAAW,KAE/E4f,EAAKihB,MAAM19B,IAAIyc,EAAKi5B,UACpBj5B,EAAKk5B,gBAAgBl5B,EAAK6f,UAM5B7f,EAAKif,YAAc,WACjBjf,EAAK6iB,OAAO/M,aACV,WACA,IAAIvR,EAAMsR,gBAAgB,IAAIV,aAAa,IAAS,IAEtDnV,EAAK6iB,OAAOsW,wBACZn5B,EAAKoL,UAAY,EA8DjBpL,EAAKo5B,oBA7Dc,SAASC,GAC1B,OAAO,SAAS/pC,GAEd,IAAItG,EAAOE,EADXoG,EAAMiwB,iBAEFjwB,EAAM+jC,SAAW/jC,EAAM+jC,QAAQ1qC,OAAS,GAE1CK,EAAQsG,EAAM+jC,QAAQjgC,KAAK,GAAGpK,MAC9BE,EAAQoG,EAAM+jC,QAAQjgC,KAAK,GAAGlK,QAE9BF,EAAQsG,EAAMtG,MACdE,EAAQoG,EAAMpG,OAGhB,IAAIowC,EAASt5B,EAAKy0B,eAAezrC,EAAOE,EAAO7I,MAC3Ci4B,EAAUghB,EAAOp2B,EAAIlD,EAAK3E,MAAS,EAAI,EACvCkd,EAAS,EAAK+gB,EAAOn2B,EAAInD,EAAKZ,OAAU,EACxCm6B,EAAgB,IAAIh1B,EAAMkV,QAAQnB,EAAQC,EAAQ,GACtDghB,EAAcC,UAAUx5B,EAAK6f,SAC7B,IAAItnB,EAAMghC,EAAc/K,IAAIxuB,EAAK6f,QAAQjkB,UAAU0nB,QACnDiW,EAAcE,YAEdz5B,EAAK05B,4BACHJ,EAAOp2B,GAAKlD,EAAK2f,QAAQtkB,OACzB2E,EAAKZ,OAASk6B,EAAOn2B,GAAKnD,EAAK2f,QAAQvgB,OACrCY,EAAK05B,8BACP15B,EAAK2f,QAAQrH,OAASghB,EAAOp2B,EAC7BlD,EAAK2f,QAAQpH,OAAS+gB,EAAOn2B,GAI/B,IAAIw2B,EAAY,IAAIp1B,EAAMq1B,UACxB55B,EAAK6f,QAAQjkB,SACb29B,GAIEvU,GAAYhlB,EAAK6f,QAAQjkB,SAASsZ,EAAI3c,EAAI2c,EAC1C2kB,EAAM75B,EAAK6f,QAAQjkB,SACpB0nB,QACA//B,IAAIgV,EAAIg5B,eAAevM,IAEtBqU,GAAYr5B,EAAK85B,cAA+B,GAAfxqC,EAAM+a,QAKzCgvB,GAAYr5B,EAAK85B,cACjBxqC,EAAMjM,OAAOmuB,aAAa,mBAE1BliB,EAAMjM,OAAO02C,SAEbzqC,EAAMiwB,iBACF8Z,GAAYr5B,EAAK85B,cACnB95B,EAAKg6B,mBAAmB1qC,GAE1B0Q,EAAKi6B,iBAAiB3qC,EAAOqqC,EAAWE,EAAKR,UAYrDr5B,EAAKi6B,iBAAmB,SAAS3qC,EAAOqqC,EAAWE,EAAKR,GACtD,IAAIa,EAAaP,EAAUQ,iBAAiBn6B,EAAKte,MAAMgG,UACvD,GAAIwyC,EAAWvxC,OAAQ,CAErB,IAAIyxC,EAAYF,EAAW,GAAGhX,OAAOjQ,MACrCjT,EAAK+c,aAAeqd,EACpBf,EACEr5B,EAAKjf,MAAMs5C,QAAQD,GACnBP,EAAI32B,EACJ22B,EAAI12B,EACJ7T,EAAMmjC,OACNnjC,EAAMgrC,cAGRjB,EAAS,KAAMQ,EAAI32B,EAAG22B,EAAI12B,EAAG7T,EAAMmjC,OAAQnjC,EAAMgrC,UAOrDt6B,EAAKo5B,mBAAqB,SAASmB,GACjCv6B,EAAK6Y,QAAQxpB,iBACX,YACAkrC,EAAav6B,EAAK4vB,cAClB,GAEF5vB,EAAK6Y,QAAQxpB,iBACX,YACAkrC,EAAav6B,EAAKqI,cAClB,GAEFrI,EAAK6Y,QAAQxpB,iBACX,UACAkrC,EAAav6B,EAAK6vB,YAClB,GAEF7vB,EAAK6Y,QAAQxpB,iBACX,UACAkrC,EAAav6B,EAAK85B,eAClB,GAEF95B,EAAK6Y,QAAQxpB,iBACX,aACAkrC,EAAav6B,EAAKqI,cAClB,GAEFrI,EAAK6Y,QAAQxpB,iBACX,YACAkrC,EAAav6B,EAAK4vB,cAClB,GAEF5vB,EAAK6Y,QAAQxpB,iBACX,WACAkrC,EAAav6B,EAAK6vB,YAClB,GAEF7vB,EAAK6Y,QAAQxpB,iBACX,cACAkrC,EAAav6B,EAAK6vB,YAClB,M,oBClaN,IAAIjY,EAAMtd,EAAQ,IAAaud,QACnBD,EAAIrT,MACLqT,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,GACJH,EAAIxwB,GACLkT,EAAQ,KAEhB0d,EAAOnE,QAAU,SAAS7T,GACxBA,EAAK7V,QAAU,SAAS1G,GACtBuc,EAAKjf,MAAMoJ,QAAQ1G,EAAKE,GAAIF,EAAK8D,MACjC,IAAIizC,EAAYx6B,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,IAWxC,OAVA62C,EAAUt3B,EAAIzf,EAAKyf,EACnBs3B,EAAUr3B,EAAI1f,EAAK0f,EACnBq3B,EAAUphB,GAAK31B,EAAK21B,GACpBohB,EAAUnhB,GAAK51B,EAAK41B,GACpBmhB,EAAUthB,aAAqBn0B,GAAXtB,EAAK21B,GACzBohB,EAAUrhB,aAAqBp0B,GAAXtB,EAAK41B,GACzBrZ,EAAKk1B,SAASsF,GACdx6B,EAAKy6B,SAASD,GACdA,EAAUE,MAAQ,GAClB16B,EAAKsd,YAAa,EACXkd,GAGTx6B,EAAK26B,WAAa,SAASl3C,GACpBA,GAASA,EAAKE,KAGnBqc,EAAK46B,iBAAiBn3C,GACtBuc,EAAK66B,YAAYp3C,GACjBuc,EAAKte,MAAMuiC,OAAOxgC,EAAKohB,WAAW6T,aAClC1Y,EAAKjf,MAAM45C,WAAWl3C,EAAKE,IAC3Bqc,EAAK86B,WAAWr3C,GAChBuc,EAAKoL,WAAa,IAGpBpL,EAAK46B,iBAAmB,SAASn3C,GAC/B,IAAIs3C,EAAY/6B,EAAKjf,MAAMi6C,SAASv3C,EAAKE,IACrCo3C,GACFA,EAAU/3C,SAAQ,SAASi/B,GACzBjiB,EAAKjf,MAAMk6C,WAAWhZ,OAK5BjiB,EAAK86B,WAAa,SAASr3C,GACzB,IAAI/B,EAAQse,EAAK+Z,MAAMr4B,QACvB,GAAIA,EACF,IAAK,IAAIgH,EAAI,EAAGA,EAAIhH,EAAMiH,OAAQD,IAC5BhH,EAAMgH,GAAG/E,IAAMF,EAAKE,KACtBqc,EAAKihB,MAAMgD,OAAOviC,EAAMgH,GAAGmc,WAAW6T,aACtCh3B,EAAMgH,GAAGmc,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQqiB,QAAS,EAC5Dx5C,EAAM0O,OAAO1H,EAAG,KAMxBsX,EAAK66B,YAAc,SAASp3C,GAI1B,IAHA,IAAIW,EAAY4b,EAAKxd,MAAMyvB,WAAWrW,SAASqa,MAC3CmiB,EAASp4B,EAAKxd,MAAMyvB,WAAWrwB,MAAMq0B,MACrCklB,EAAS,EACJzyC,EAAI,EAAGA,EAAIyyC,EAASn7B,EAAK0c,YAAY/zB,OAAQD,IACpD,GACEsX,EAAK0c,YAAYh0B,EAAIyyC,GAAQj4C,OAAOS,IAAMF,EAAKE,IAC/Cqc,EAAK0c,YAAYh0B,EAAIyyC,GAAQ93C,OAAOM,IAAMF,EAAKE,GAC/C,CACA,IAAK,IAAIquB,EAAItpB,EAAIyyC,EAAQnpB,EAAIhS,EAAK0c,YAAY/zB,OAAQqpB,IAAK,CACzD,IAAIrsB,EAAIqsB,EAAI,EACRrsB,GAAKqa,EAAK0c,YAAY/zB,QACxBvE,EAAc,EAAJ4tB,GAAS,EACnB5tB,EAAc,EAAJ4tB,EAAQ,GAAK,EACvB5tB,EAAc,EAAJ4tB,EAAQ,GAAK,EACvB5tB,EAAc,EAAJ4tB,EAAQ,GAAK,EACvBomB,EAAW,EAAJpmB,GAAS,IAChBomB,EAAW,EAAJpmB,EAAQ,GAAK,IACpBomB,EAAW,EAAJpmB,EAAQ,GAAK,GACpBomB,EAAW,EAAJpmB,EAAQ,GAAK,IACpBomB,EAAW,EAAJpmB,EAAQ,GAAK,IACpBomB,EAAW,EAAJpmB,EAAQ,GAAK,KAEpBhS,EAAK0c,YAAY1K,GAAKhS,EAAK0c,YAAY/2B,GACvCqa,EAAKyc,YAAgB,EAAJzK,GAAShS,EAAKyc,YAAgB,EAAJ92B,GAC3Cqa,EAAKyc,YAAgB,EAAJzK,EAAQ,GAAKhS,EAAKyc,YAAgB,EAAJ92B,EAAQ,GACvDvB,EAAc,EAAJ4tB,GAAS5tB,EAAc,EAAJuB,GAC7BvB,EAAc,EAAJ4tB,EAAQ,GAAK5tB,EAAc,EAAJuB,EAAQ,GACzCvB,EAAc,EAAJ4tB,EAAQ,GAAK5tB,EAAc,EAAJuB,EAAQ,GACzCvB,EAAc,EAAJ4tB,EAAQ,GAAK5tB,EAAc,EAAJuB,EAAQ,GACzCyyC,EAAW,EAAJpmB,GAASomB,EAAW,EAAJzyC,GACvByyC,EAAW,EAAJpmB,EAAQ,GAAKomB,EAAW,EAAJzyC,EAAQ,GACnCyyC,EAAW,EAAJpmB,EAAQ,GAAKomB,EAAW,EAAJzyC,EAAQ,GACnCyyC,EAAW,EAAJpmB,EAAQ,GAAKomB,EAAW,EAAJzyC,EAAQ,GACnCyyC,EAAW,EAAJpmB,EAAQ,GAAKomB,EAAW,EAAJzyC,EAAQ,GACnCyyC,EAAW,EAAJpmB,EAAQ,GAAKomB,EAAW,EAAJzyC,EAAQ,IAGvCqa,EAAK0c,YAAYjuB,MACjBuR,EAAKyc,YAAYhuB,MACjBuR,EAAKyc,YAAYhuB,MACjBuR,EAAK44B,WAAa,EAClBuC,GAAU,EAGdj6C,QAAQC,IAAI,WAAag6C,EAAO/3C,WAAa,WAG/C4c,EAAKq6B,QAAU,SAASjyB,GACtB,OAAOpI,EAAKjf,MAAMs5C,QAAQjyB,IAG5BpI,EAAKiL,QAAU,SAAS/nB,EAAQG,GAAyB,IAAjBs1B,IAAgB,yDACtD3Y,EAAKjf,MAAMyJ,QAAQtH,EAAOS,GAAIN,EAAOM,IACrCqc,EAAKo7B,SAASp7B,EAAKq6B,QAAQn3C,EAAOS,IAAKqc,EAAKq6B,QAAQh3C,EAAOM,IAAKg1B,M,oBClHpE,IAAIf,EAAMtd,EAAQ,IAAaud,QAC3BtT,EAAQqT,EAAIrT,MACLqT,EAAIpM,KACJoM,EAAI5E,KACN4E,EAAIG,GACJH,EAAIxwB,GAEb4wB,EAAOnE,QAAU,SAAS7T,GAIxBA,EAAKq7B,cAAgB,SAAS53C,EAAM63C,GAAqC,IAA7B15C,EAA4B,uDAApBg2B,EAAI+C,eAClD2gB,GACF73C,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGyvB,SAASv1B,MAAM25C,OAAO35C,GAC9D6B,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGixB,SAAU,IAElDl1B,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGyvB,SAASv1B,MAAM+hB,IACrDlgB,EAAKohB,WAAWyU,QAElB71B,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGixB,SAAU,IAOtD3Y,EAAKw7B,eAAiB,SAAS/3C,EAAM63C,GAGnC,IAFA,IAAMG,EAAQ,GACRC,EAAM,GACHhzC,EAAI,EAAGA,EAAIsX,EAAKmY,UAAUxvB,OAAQD,IACzC,IAAK,IAAIspB,EAAI,EAAGA,EAAIhS,EAAKmY,UAAUzvB,GAAGgyC,MAAM/xC,OAAQqpB,IAClDypB,EAAM50C,KAAKmZ,EAAKmY,UAAUzvB,GAAGgyC,MAAM1oB,GAAG3lB,QACtCqvC,EAAI70C,KAAKmZ,EAAKmY,UAAUzvB,GAAGgyC,MAAM1oB,GAAG1lB,MAGxC,GAAIgvC,EAAQ,CACV,IAAS5yC,EAAI,EAAGA,EAAIjF,EAAKi3C,MAAM/xC,OAAQD,IACrC+yC,EAAM50C,KAAKpD,EAAKi3C,MAAMhyC,GAAG2D,QACzBqvC,EAAI70C,KAAKpD,EAAKi3C,MAAMhyC,GAAG4D,MAEzB0T,EAAK27B,mBAAmBl4C,EAAMg4C,EAAOC,QAErC17B,EAAK27B,mBAAmBl4C,EAAMg4C,EAAOC,IASzC17B,EAAK27B,mBAAqB,SAASl4C,EAAMg4C,EAAOC,GAC9C17B,EAAKjf,MAAM6F,aAAY,SAAA7C,GACrB,IAAkC,GAA9Bic,EAAKmY,UAAU7jB,QAAQvQ,IAAYA,GAAKN,EAAM,CAEhDuc,EAAK47B,iBAAiB73C,EAAG,GACzBic,EAAK67B,cAAc93C,GAAG,GACtB,IAAK,IAAI2E,EAAI,EAAG3E,EAAE+3C,UAAYpzC,EAAI3E,EAAE+3C,SAASnzC,OAAQD,IACnD3E,EAAE+3C,SAASpzC,GAAGoc,UAAY/gB,EAAE8gB,WAAWC,eAGzC9E,EAAK2d,uBACoB,GAAxB8d,EAAMnnC,QAAQvQ,EAAEJ,MAAmC,GAAtB+3C,EAAIpnC,QAAQvQ,EAAEJ,IAO3Cqc,EAAK4d,iBACgC,GAAtC5d,EAAK4d,eAAetpB,QAAQvQ,EAAEJ,MAE9Bqc,EAAK47B,iBAAiB73C,EAAG,IACzBic,EAAK67B,cAAc93C,GAAG,GACtBic,EAAKq7B,cAAct3C,GAAG,EAAO6zB,EAAIgD,sBARjC5a,EAAK47B,iBAAiB73C,EAAG,GACzBic,EAAK67B,cAAc93C,GAAG,QAe5Bic,EAAK67B,cAAgB,SAASp4C,EAAMs4C,GAClC,IAAIz3B,EAAM,IAAIC,EAAMC,MAAM1jB,SAASC,MAAMyB,MAAMZ,OAAO6iB,EAClDC,EAAO,IAAIH,EAAMC,MAAM1jB,SAASC,MAAMyB,MAAMZ,OAAO+iB,EACnDC,EAAQ,IAAIL,EAAMC,MAAM1jB,SAASC,MAAMyB,MAAMZ,OAAO0hB,EACrDy4B,GACDt4C,EAAKohB,WAAWC,UAAUL,EAAIH,EAC9B7gB,EAAKohB,WAAWC,UAAUH,EAAID,EAC9BjhB,EAAKohB,WAAWC,UAAUxB,EAAIsB,EAC9B5E,EAAKw4B,MAAMrhB,SAASv1B,MAAMo6C,OAAO13B,EAAKI,EAAME,KAE5CnhB,EAAKohB,WAAWC,UAAUL,EAAKzE,EAAK5f,SAAW,IAAO,IACtDqD,EAAKohB,WAAWC,UAAUH,EAAI3E,EAAK5f,SAAW,IAAO,IACrDqD,EAAKohB,WAAWC,UAAUxB,EAAItD,EAAK5f,SAAW,IAAO,MAQzD4f,EAAK47B,iBAAmB,SAASn4C,EAAMw4C,GACrCx4C,EAAKohB,WAAW6T,YAAYvB,SAAST,QAAUulB,K,oBCvGnD,IAAIrkB,EAAMtd,EAAQ,IAAaud,QAC3BtT,EAAQqT,EAAIrT,MAOCzjB,GANN82B,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,GACJH,EAAIxwB,GACLkT,EAAQ,KACcA,EAAQ,GAA9Bud,SAERG,EAAOnE,QAAU,SAAU7T,GAOzBA,EAAK4vB,YAAc,SAAUzX,EAAWG,EAAQC,EAAQka,EAAQyJ,GA8B9D,GA5BAl8B,EAAKsY,OAASA,EACdtY,EAAKuY,OAASA,EACVvY,EAAKm8B,eAAiBn8B,EAAKqd,YAGxBrd,EAAKkY,WAAkD,GAAtClY,EAAKmY,UAAU7jB,QAAQ6jB,IAAqB+jB,GAChEl8B,EAAKwY,iBAIFxY,EAAKkY,UAERlY,EAAKuZ,eAAejB,EAAQC,IAO5BvY,EAAKmY,UAAUxvB,OAAS,IAEtBqX,EAAKkY,UACPlY,EAAK+Z,MAAMyE,MAAM,GAGnBxe,EAAKqY,gBAAgBC,EAAQC,IAG1BvY,EAAKqd,UAGH,CAEL,GAAIrd,EAAK05B,6BAA+B15B,EAAKwd,WAK3C,YAJAxd,EAAK2f,QAAQmX,mBACX92B,EAAK2f,QAAQrH,OACbtY,EAAK2f,QAAQpH,QAQjB,GAAIvY,EAAKm8B,gBAAkBn8B,EAAKkY,SAAU,CACpClY,EAAKid,UACPjd,EAAK64B,UAAUlgB,SAAU,EACzB3Y,EAAKid,SAAU,GAEjBjd,EAAK64B,UAAUj9B,SAASsH,EAAIoV,EAC5BtY,EAAK64B,UAAUj9B,SAASuH,EAAIoV,EAC5B,IAAIQ,EAAQ/Y,EAAK0Z,WAAWxW,EAAIoV,EAC5BU,EAAQhZ,EAAK0Z,WAAWvW,EAAIoV,EAChCvY,EAAK64B,UAAUh3C,MAAM8hB,IAAIoV,EAAOC,EAAO,QAEvChZ,EAAK64B,UAAUlgB,SAAU,OA1B3B3Y,EAAK+E,QAAQoT,GACbnY,EAAK0Z,WAAa,IAAInV,EAAMkV,QAAQnB,EAAQC,EAAQ,IAiCxDvY,EAAK+E,QAAU,SAAUthB,GAoBvB,GAnBIuc,EAAKo8B,YAAwD,GAA3Cp8B,EAAKmY,UAAU7jB,QAAQ0L,EAAKo8B,aAChDp8B,EAAKq7B,cAAcr7B,EAAKo8B,WAAW,GACnCp8B,EAAKo8B,UAAUv3B,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQC,QAAS,EAClE9Y,EAAKw7B,eAAe/3C,GAAM,IAE5Buc,EAAKo8B,UAAY34C,EACbA,GACFuc,EAAKq7B,cAAc53C,GAAM,GACzBA,EAAKohB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQC,QAAS,EACxD9Y,EAAKw7B,eAAe/3C,GAAM,GAE1B3C,EAASC,MAAMmoB,iBAAmBzlB,GACA,GAAzBuc,EAAKmY,UAAUxvB,QACxBqX,EAAKjf,MAAM6F,aAAY,SAAA7C,GACrBic,EAAK47B,iBAAiB73C,EAAG,GACzBic,EAAK67B,cAAc93C,EAAG,GAAK,IAC3Bic,EAAKq7B,cAAct3C,GAAG,EAAO6zB,EAAIgD,4BAGV71B,GAAvBib,EAAK4d,eACP,IAAK,IAAIl1B,EAAI,EAAGA,EAAIsX,EAAK4d,eAAej1B,OAAQD,IAC9CsX,EAAK47B,iBAAiB57B,EAAK4d,eAAel1B,GAAI,GAC9CsX,EAAKq7B,cAAcr7B,EAAK4d,eAAel1B,IAAI,EAAMkvB,EAAIiD,mBAU3D,IAAIx0B,EAAY,EACZg2C,EAAU,EAIdr8B,EAAKqI,YAAc,SAAU8P,EAAWG,EAAQC,EAAQka,EAAQyJ,GAE9D,GAAIl8B,EAAK05B,6BAA+B15B,EAAKwd,WAG3C,OAFAxd,EAAKqd,WAAY,OACjBrd,EAAK2f,QAAQmX,mBAAmB92B,EAAK2f,QAAQrH,OAAQtY,EAAK2f,QAAQpH,QAOpE,GADAvY,EAAKm8B,eAAgB,EACjBn8B,EAAKm8B,cAAe,CAMtB,GALAn8B,EAAKqd,WAAY,EACjBrd,EAAK0Z,WAAa,IAAInV,EAAMkV,QAAQnB,EAAQC,EAAQ,GACtC,GAAVka,GAAgBzyB,EAAKkY,WACvBlY,EAAKid,SAAU,IAEyB,GAAtCjd,EAAKmY,UAAU7jB,QAAQ6jB,KAAqB+jB,EAAM,CACpD,IAAK,IAAIxzC,EAAI,EAAGA,EAAIsX,EAAKmY,UAAUxvB,OAAQD,IACzCsX,EAAKmY,UAAUzvB,GAAGmc,WAAWuT,YAAa,EACrCR,EAAIa,kBAKPzY,EAAKmY,UAAUzvB,GAAGmc,WAAW6T,YAAYvB,SAASv1B,MAAM+hB,IACtD,IAAIY,EAAMC,MAAMxE,EAAKmY,UAAUzvB,GAAGmc,WAAWjjB,QAL/Coe,EAAKmY,UACHzvB,GACAmc,WAAW6T,YAAYhxB,SAAS,GAAGixB,SAAU,EAMjD3Y,EAAKmY,UACHzvB,GACAmc,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQC,QAAS,EAEvD9Y,EAAKmY,UAAY,GAIhBA,IAGDr3B,EAASC,MAAMmF,WAAW6E,sBAAuB,GAKnDuxC,aAAej2C,EACfA,EAAYC,KAAKC,MAGjBg2C,gBAAkBl2C,EAAYi2C,aAI1BC,gBAAkB,IACpBv8B,EAAKw8B,eAAgB,EAErBx8B,EAAKw8B,eAAgB,EAMnBrkB,IACFnY,EAAKkY,SAAWC,GAC0B,GAAtCnY,EAAKmY,UAAU7jB,QAAQ6jB,KACzBnY,EAAKmY,UAAUtxB,KAAKsxB,GACpBA,EAAUtT,WAAWuT,YAAa,IAIlCD,GACFnY,EAAKkY,SAAWC,EAEZnY,EAAKw8B,cAEPx8B,EAAKqY,gBAAgBrY,EAAKkY,SAAShV,EAAGlD,EAAKkY,SAAS/U,EAAGgV,GAC9C+jB,IACTl8B,EAAKmY,UAAU/nB,OAAO4P,EAAKmY,UAAU7jB,QAAQ6jB,GAAY,GACzDA,EAAUtT,WAAWuT,YAAa,EAC7BR,EAAIa,kBAGPN,EAAUtT,WAAW6T,YAAYvB,SAASv1B,MAAM+hB,IAC9C,IAAIY,EAAMC,MAAMxE,EAAKmY,UAAUzvB,GAAGmc,WAAWjjB,QAH/Cu2B,EAAUtT,WAAW6T,YAAYhxB,SAAS,GAAGixB,SAAU,EAMzDR,EAAUtT,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQC,QAAS,EAC7D9Y,EAAKkY,SAAW,OAGdlY,EAAKy8B,aACPz8B,EAAK3P,iBAAiB,IAAI,GAC1B2P,EAAKy8B,gBAAa13C,KAS1Bib,EAAK6vB,UAAY,SAAU1X,EAAWG,EAAQC,EAAQka,GACpD4J,EAAU/1C,KAAKC,MACfyZ,EAAKqd,WAAY,EAGjBv8B,EAASC,MAAMmF,WAAW6E,sBAAuB,EAI/CiV,EAAKid,SAAU,EACfjd,EAAKkY,SAAW,KAChBlY,EAAK64B,UAAUlgB,SAAU,EAEzB3Y,EAAK5Y,GAAGs1C,KAAK,eAAgB18B,EAAKmY,YAUtCnY,EAAK85B,aAAe,SAAU3hB,GAE1BnY,EAAK9X,iBADHiwB,GAGsB,MAO5BnY,EAAKg6B,mBAAqB,SAAU1qC,GAE9B+sC,EAAUh2C,EAAY,KACxB2Z,EAAK5Y,GAAGs1C,KAAK,cAAe,CAC1B1zC,MAAOsG,EAAMtG,MACbE,MAAOoG,EAAMpG,W,oBCpQrB,IAAI0uB,EAAMtd,EAAQ,IAAaud,QAC3BtT,EAAQqT,EAAIrT,MACLqT,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,GACJH,EAAIxwB,GAEb4wB,EAAOnE,QAAU,SAAS7T,GAIxBA,EAAK28B,mBAAqB,SAASjrB,GACjC1R,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9BA,EAAKohB,WAAW6T,YAAY72B,MAAM8hB,IAAI+N,EAAGA,EAAG,GAC5C,IAAIkrB,EAAQ,EAAIhlB,EAAI4D,eAAiB9J,EACrCjuB,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAG7F,MAAM8hB,IAAIi5B,EAAOA,EAAO,OAOpE58B,EAAK68B,gBAAkB,SAASC,GAC9B98B,EAAKjf,MAAM6F,aAAY,SAASnD,GAE9B,GADAs5C,QAAUt5C,EAAKohB,WAAWi4B,GACrBC,QAEE,CACLA,QAAUpzC,KAAKxI,IAAI47C,QAAU,GAC7Bt5C,EAAKohB,WAAW6T,YAAY72B,MAAM8hB,IAAIo5B,QAASA,QAAS,GACxD,IAAIH,EAAQ,EAAIhlB,EAAI4D,eAAiBuhB,QACrCt5C,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAG7F,MAAM8hB,IAAIi5B,EAAOA,EAAO,QALhE17C,QAAQC,IAAI,iCAalB6e,EAAKg9B,oBAAsB,SAASC,GAClCj9B,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9BA,EAAKohB,WAAW6T,YAAYvB,SAASv1B,MAAM+hB,IACzC,IAAIY,EAAMC,MAAM,OAASy4B,EAAY,iBAElCrlB,EAAIa,mBACPh1B,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGyvB,SAASv1B,MAAM+hB,IACrD,IAAIY,EAAMC,MAAM,OAASy4B,EAAY,qBAS7Cj9B,EAAKk9B,iBAAmB,SAASJ,GAC/B,IAAIp0C,EAAI,EACR2L,OAAS,GACTnS,IAAM,KACNC,IAAM,KAEN6d,EAAKjf,MAAM6F,aAAY,SAASnD,IACzBs5C,QAAUt5C,EAAKohB,WAAWi4B,KAClB,MAAP56C,MAAaA,IAAM66C,SACZ,MAAP56C,MAAaA,IAAM46C,SACnBA,QAAU76C,IAAKA,IAAM66C,QAChBA,QAAU56C,MAAKA,IAAM46C,SAC9B1oC,OAAO3L,GAAKq0C,QACZr0C,GAAK,GAEL2L,OAAO3L,IAAM,KAIjBA,EAAI,EACJsX,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9B,IAAIw5C,GACc,GAAd5oC,OAAO3L,GACTu0C,EAAY,GAEZ5oC,OAAO3L,IAAM2L,OAAO3L,GAAKxG,MAAQC,IAAMD,KACvC+6C,EAAwB,IAAZ5oC,OAAO3L,IAErBjF,EAAKohB,WAAW6T,YAAYvB,SAASv1B,MAAM+hB,IACzC,IAAIY,EAAMC,MAAM,OAASy4B,EAAY,iBAElCrlB,EAAIa,mBACPh1B,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGyvB,SAASv1B,MAAM+hB,IACrD,IAAIY,EAAMC,MAAM,OAASy4B,EAAY,iBAGzCv0C,QAOJsX,EAAKm9B,kBAAoB,SAASjxC,GAAwB,IACpDkxC,EASAC,EAaAC,EAvBqC57C,EAAc,uDAAN,KAG/C07C,EADgB,UAAdlxC,EAAQ,GACJ,SAAAzI,GAAI,OAAKA,EAAKi3C,MAAQj3C,EAAKi3C,MAAM/xC,OAAS,EAAI,GAC7B,UAAduD,EAAQ,GACX,SAAAzI,GAAI,OAAIA,EAAKohB,WAAW6T,YAAY72B,MAAMqhB,GAE1C,SAAAzf,GAAI,OAAIyI,EAAQ,IAKtBmxC,EADgB,UAAdnxC,EAAQ,GACJ,SAAAkxC,GAAG,OAAIp9B,EAAK+1B,YAAYqH,IACP,QAAdlxC,EAAQ,GACX,SAAAkxC,GAAG,OAAIA,EAAMlxC,EAAQ,GAAGkxC,IACP,OAAdlxC,EAAQ,GACX,SAAAkxC,GAAG,OAAIA,EAAMlxC,EAAQ,GAAGkxC,IACP,OAAdlxC,EAAQ,GACX,SAAAkxC,GAAG,OAAIzzC,KAAKxI,IAAIi8C,IAEhB,SAAAA,GAAG,OAAIA,GAIG,WAAdlxC,EAAQ,GACVoxC,EAAO,SAAC75C,EAAM25C,GACZ35C,EAAKohB,WAAW6T,YAAY72B,MAAM8hB,IAAIy5B,EAAKA,EAAK,GAChD,IAAIR,EAAQ,EAAIhlB,EAAI4D,eAAiB4hB,EACrC35C,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAG7F,MAAM8hB,IAAIi5B,EAAOA,EAAO,IAE3C,gBAAd1wC,EAAQ,GACjBoxC,EAAO,SAAC75C,EAAM25C,GACZ35C,EAAKohB,WAAWC,UAAUL,EAAI,EAC9BhhB,EAAKohB,WAAWC,UAAUxB,EAAI,EAAI85B,EAAM,EACxC35C,EAAKohB,WAAWC,UAAUH,EAAI,EAAIy4B,EAAM,GAEnB,iBAAdlxC,EAAQ,GACjBoxC,EAAO,SAAC75C,EAAM25C,GACZ35C,EAAKohB,WAAWC,UAAUxB,EAAI,EAC9B7f,EAAKohB,WAAWC,UAAUL,EAAI,EAAI24B,EAAM,EACxC35C,EAAKohB,WAAWC,UAAUH,EAAI,EAAIy4B,EAAM,GAEnB,kBAAdlxC,EAAQ,GACjBoxC,EAAO,SAAC75C,EAAM25C,GACZ35C,EAAKohB,WAAWC,UAAUH,EAAI,EAC9BlhB,EAAKohB,WAAWC,UAAUxB,EAAI,EAAI85B,EAAM,EACxC35C,EAAKohB,WAAWC,UAAUL,EAAI,EAAI24B,EAAM,GAEnB,iBAAdlxC,EAAQ,GACjBoxC,EAAO,SAAC75C,EAAM25C,GACZ35C,EAAKohB,WAAW6T,YAAYvB,SAASv1B,MAAM0hB,EAAI,EAC/C7f,EAAKohB,WAAW6T,YAAYvB,SAASv1B,MAAM6iB,EAAI,EAAI24B,EAAM,EACzD35C,EAAKohB,WAAW6T,YAAYvB,SAASv1B,MAAM+iB,EAAI,EAAIy4B,EAAM,GAEpC,UAAdlxC,EAAQ,GACjBoxC,EAAO,SAAC75C,EAAM25C,GACZ35C,EAAKy1B,QAAUkkB,EACf35C,EAAK01B,QAAUikB,GAEM,aAAdlxC,EAAQ,GACjBoxC,EAAO,SAAC75C,EAAM25C,GACZp9B,EAAKu9B,oBAAoB95C,EAAM25C,IAEV,eAAdlxC,EAAQ,KACjBoxC,EAAO,SAAC75C,EAAM25C,GACZp9B,EAAKw9B,kBAAkB/5C,EAAM25C,KAIjCp9B,EAAKy9B,YAAYL,EAAKC,EAAKC,EAAM57C,IAQnCse,EAAK09B,WAAa,SAASN,EAAKC,EAAKC,EAAM75C,GACzC,IAAImC,EAAIw3C,EAAI35C,GACZ,QAASsB,GAALa,EAAgB,CAClB,IAAI6e,EAAI44B,EAAIz3C,QACHb,GAAL0f,GACF64B,EAAK75C,EAAMghB,KAQjBzE,EAAKy9B,YAAc,SAASL,EAAKC,EAAKC,GAAqB,IAAf57C,EAAc,uDAAN,KAClD,GAAa,MAATA,EACFse,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9Buc,EAAK09B,WAAWN,EAAKC,EAAKC,EAAM75C,WAGlC,IAAK,IAAIiF,EAAI,EAAGA,EAAIhH,EAAMiH,OAAQD,IAChCsX,EAAK09B,WAAWN,EAAKC,EAAKC,EAAM57C,EAAMgH,KAS5CsX,EAAKw9B,kBAAoB,SAAS/5C,EAAMk6C,GACtCl6C,EAAKohB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQnxB,SAAS,GAAG0T,MAAMC,MAC/DsiC,EAASv6C,WAAa,MAO1B4c,EAAKu9B,oBAAsB,SAAS95C,EAAMxB,GAAyB,IAAnB27C,EAAkB,uDAAH,EAC7D37C,GAAc27C,EACdn6C,EAAKohB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQnxB,SAAS,GAAG0T,MAAM6F,SAC/Dhf,EAAKmB,WAAa,OAMtB4c,EAAKg5B,gBAAkB,SAAS/2C,GAC9B+d,EAAKkd,YAAcj7B,EACnB+d,EAAKmd,aAAel7B,EACpB+d,EAAK+4B,WAAWl3C,MAAM8hB,IAAW,EAAP1hB,EAAiB,EAAPA,EAAU,GAC9C+d,EAAK+4B,WAAWn9B,SAASsH,GAAKjhB,EAC9B+d,EAAK+4B,WAAWn9B,SAASuH,GAAKlhB,EAC9B+d,EAAK+G,SAAS+d,YAAqB,EAAP7iC,EAC5B+d,EAAK2f,QAAQuB,OAAOtlB,SAASsZ,EAAuB,EAAnBlV,EAAKkd,aAMxCld,EAAKk5B,gBAAkB,SAAShY,GAC9B,IAAI8D,EAAWhlB,EAAK6f,QAAQjkB,SAASsZ,EACjC9V,EACFzV,KAAKwgC,IAAMjJ,EAAOlE,IAAMrzB,KAAK8hC,GAAM,IAAO,IAAOzG,EAAW,EAAI,EAC9D3pB,EAAQ+D,EAAS8hB,EAAOtB,OAAS,EACrC5f,EAAKi5B,SAASp3C,MAAM8hB,IAAItI,EAAO+D,EAAQ,GACvCY,EAAKi5B,SAASr9B,SAASsH,EAAIge,EAAOtlB,SAASsH,EAAI7H,EAAQ,EACvD2E,EAAKi5B,SAASr9B,SAASuH,EAAI+d,EAAOtlB,SAASuH,EAAI/D,EAAS,K,oBCnP5D,IAAIwY,EAAMtd,EAAQ,IAAaud,QAC3BtT,EAAQqT,EAAIrT,MACLqT,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,GACJH,EAAIxwB,GAGb4wB,EAAOnE,QAAU,SAAS7T,GAIxBA,EAAK69B,oBAAsB,SAASp6C,EAAMq6C,GAGxC,GAAa,WADXr6C,EAAKohB,WAAWk5B,QAAUt6C,EAAKohB,WAAWxiB,OAASu1B,EAAI0D,aAEvD,IAAI0iB,EAAYh+B,EAAK81B,mBAEjBkI,EAAY,IAAIz5B,EAAM05B,eAAe,EAAG,IAG9C,OAAOj+B,EAAKk+B,0BAA0BF,EAAWv6C,EAAMq6C,IAMzD99B,EAAKk+B,0BAA4B,SAASF,EAAWv6C,EAAMq6C,GACzD,IAAI77C,EAAO+d,EAAKm+B,YAAY16C,GACxBm5C,EAAQhlB,EAAI4D,eAEhBsiB,EAAUlmB,EAAIoD,aAAe,KAAO8iB,EACpC,IAAIl8C,EAAQg2B,EAAIsD,eACZ,KACA3I,SAAS9uB,EAAKohB,WAAWyU,QAAU1B,EAAI+C,gBACvCyjB,EAAY,IAAI75B,EAAMg0B,kBAAkB,CAAE32C,MAAOA,EAAOkC,IAAKg6C,IACjEM,EAAUC,aAAc,EACxB,IAAIC,EAAY,IAAI/5B,EAAMk0B,KAAKuF,EAAWI,GAI1C,OAHAE,EAAU3lB,SAAU,EACpB2lB,EAAUz8C,MAAM8hB,IAAI,EAAIi5B,EAAQ36C,EAAM,EAAI26C,EAAQ36C,EAAM,GACxDq8C,EAAU1iC,SAASsZ,GAAK,IACjBopB,GAMTt+B,EAAKu+B,eAAiB,SAAS96C,EAAMq6C,GAEnC,GAAa,WADDr6C,EAAKohB,WAAWxiB,OAASu1B,EAAIyD,YAEvC,IAAI1G,EAAW3U,EAAK81B,mBAEhBnhB,EAAW,IAAIpQ,EAAM05B,eAAe,EAAG,IAE7C,OAAOj+B,EAAKw+B,qBAAqB7pB,EAAUlxB,EAAMq6C,IAMnD99B,EAAKy+B,cAAgB,SAASx8C,GAC5B,IAAI0yB,EAAW3U,EAAK81B,cAChBl0C,EAAQ,IAAI2iB,EAAMC,MAAMoT,EAAIwE,WAC5BjF,EAAW,IAAI5S,EAAMg0B,kBAAkB,CAAE32C,MAAOA,IAChD88C,EAAU,IAAIn6B,EAAMk0B,KAAK9jB,EAAUwC,GAIvC,OAHAunB,EAAQ78C,MAAM8hB,IAAI,GAAK,GAAK,GAC5B+6B,EAAQ9iC,SAASsZ,EAAI,IACrBwpB,EAAQ/lB,SAAU,EACX+lB,GAMT1+B,EAAKw+B,qBAAuB,SAAS7pB,EAAUlxB,EAAMq6C,GACnD,IAAI77C,EAAO+d,EAAKm+B,YAAY16C,GAE5Bq6C,EAAUlmB,EAAIqD,YAAc,KAAO6iB,EACnC,IAAIl8C,EAAQg2B,EAAIuD,cACZ,KACA,IAAI5W,EAAMC,MAAM/gB,EAAKohB,WAAWjjB,OAASg2B,EAAI8C,YAC7CvD,EAAW,IAAI5S,EAAMg0B,kBAAkB,CAAE32C,MAAOA,EAAOkC,IAAKg6C,IAChE3mB,EAASknB,aAAc,EACvB,IAAI3lB,EAAc,IAAInU,EAAMk0B,KAAK9jB,EAAUwC,GAE3C,OADAuB,EAAY72B,MAAM8hB,IAAI1hB,EAAMA,EAAM,GAC3By2B,GAMT1Y,EAAKm+B,YAAc,SAAS16C,GAI1B,OAFIA,EAAKohB,WAAW5iB,KAA0BwB,EAAKohB,WAAW5iB,MAKhE+d,EAAK2+B,gBAAkB,SAASl7C,GAC9B,IAAI0zB,EAAW,IAAI5S,EAAMg0B,kBAAkB,CACzC32C,MAAO,EACPg9C,WAAW,EACXC,mBAAoB,EACpBtqB,KAAMhQ,EAAMu6B,aAEVnqB,EAAW,IAAIpQ,EAAMw6B,cAAc,IAAM,KACzCC,EAAWh/B,EAAKi/B,4BAA4BtqB,EAAUwC,GACtD/sB,EAAQ4V,EAAKk/B,uBAAuBz7C,EAAMu7C,GAC1CpmB,EAAa5Y,EAAKm/B,yBAAyB/0C,EAAO40C,GACtDv7C,EAAKohB,WAAW+T,WAAaA,EAC7B5Y,EAAKihB,MAAM19B,IAAIq1B,IAGjB5Y,EAAKi/B,4BAA8B,SAAStqB,EAAUwC,GACpD,IAAI6nB,EAAW,IAAIz6B,EAAMk0B,KAAK9jB,EAAUwC,GACxC6nB,EAASn9C,MAAM8hB,IAAIiU,EAAIkE,UAAWlE,EAAIkE,UAAW,GACjD,IAAIsjB,GAAO,IAAI76B,EAAM86B,MAAOpc,cAAc+b,GAI1C,OAHAA,EAASpjC,SAASsH,IAAMk8B,EAAKj9C,IAAI+gB,EAAIk8B,EAAKl9C,IAAIghB,GAAK0U,EAAImE,cACvDijB,EAASpjC,SAASuH,IAAMi8B,EAAKj9C,IAAIghB,EAAIi8B,EAAKl9C,IAAIihB,GAAKyU,EAAIoE,cACvDgjB,EAASrmB,QAAUf,EAAIuE,eAChB6iB,GAGTh/B,EAAKk/B,uBAAyB,SAASz7C,EAAMu7C,GAC3C,IAAI50C,EAAQ4V,EAAKs/B,eAAe77C,GAIhC,OAHA2G,EAAMyuB,QAAQqiB,QAAS,EACvB9wC,EAAMwR,SAAS+b,KAAKqnB,EAASpjC,UAC7BxR,EAAMvI,MAAM81B,KAAKqnB,EAASn9C,OACnBuI,GAGT4V,EAAKm/B,yBAA2B,SAAS/0C,EAAO40C,GAC9C,IAAIpmB,EAAa,IAAIrU,EAAMqkB,SAG3B,OAFAhQ,EAAWr1B,IAAI6G,GACfwuB,EAAWr1B,IAAIy7C,GACRpmB,GAMT5Y,EAAKs/B,eAAiB,SAAS77C,GAE7B,IAAIo1B,EAAU7Y,EAAKu/B,wBACfjgC,EAAU3F,SAAS6lC,eAAe/7C,EAAKohB,WAAWza,OAClDq1C,EAAcz/B,EAAK0/B,yBAIvB,OAHAD,EAAYzhB,YAAY1e,GACxBuZ,EAAQmF,YAAYyhB,GACL,IAAIl7B,EAAMokB,YAAY9P,IAOvC7Y,EAAKu/B,sBAAwB,WAC3B,IAAI1mB,EAAUlf,SAAS4vB,cAAc,OAKrC,OAJA1Q,EAAQzd,MAAMC,MAAQ,SACtBwd,EAAQzd,MAAMgE,OAAS,QACvByZ,EAAQzd,MAAMiG,gBAAkBuW,EAAIqE,gBACpCpD,EAAQzd,MAAMsb,QAAUkB,EAAIsE,aACrBrD,GAMT7Y,EAAK0/B,uBAAyB,WAC5B,IAAID,EAAc9lC,SAAS4vB,cAAc,OASzC,OARAkW,EAAYrkC,MAAMC,MAAQ,SAC1BokC,EAAYrkC,MAAMgE,OAAS,MAC3BqgC,EAAYrkC,MAAM6F,SAAW,OAC7Bw+B,EAAYrkC,MAAMukC,aAAe,WACjCF,EAAYrkC,MAAMK,SAAW,SAC7BgkC,EAAYrkC,MAAM8M,WAAa,MAC/Bu3B,EAAYrkC,MAAMsK,WAAa,SAExB+5B,GAOTz/B,EAAK4/B,oBAAsB,SAASn8C,EAAMo8C,EAAU/B,GAClD,IAAIplB,EAAc1Y,EAAKu+B,eAAe96C,EAAMq6C,GAG5C,IAAKlmB,EAAIa,kBAAmB,CAC1B,IAAI6lB,EAAYt+B,EAAK69B,oBAAoBp6C,EAAMo8C,GAC/CnnB,EAAYn1B,IAAI+6C,GAGlB,IAAII,EAAU1+B,EAAKy+B,gBASnB,OARA/lB,EAAYn1B,IAAIm7C,GAEhBhmB,EAAY9c,SAASsH,EAAIzf,EAAKohB,WAAW3B,EACzCwV,EAAY9c,SAASuH,EAAI1f,EAAKohB,WAAW1B,EACzCuV,EAAYzF,MAAQxvB,EAAKE,GACzB+0B,EAAY7lB,KAAOpP,EAAKE,GACxBF,EAAKohB,WAAW6T,YAAcA,EAEvBA,GAMT1Y,EAAKy6B,SAAW,SAASh3C,GASvB,SAASq8C,EAAcr8C,EAAMo8C,EAAU/B,GAErC,IAAIplB,EAAc1Y,EAAK4/B,oBAAoBn8C,EAAMo8C,EAAU/B,GAG3D99B,EAAK2+B,gBAAgBl7C,GAErBuc,EAAKoL,WAAa,EAClBpL,EAAKte,MAAM6B,IAAIm1B,GAGbd,EAAIoD,cAAgBpD,EAAIqD,YAC1B6kB,EAAcr8C,EAAM,KAAM,MAG1Buc,EAAK4c,cAAcmjB,KACjBt8C,EAAKohB,WAAWm7B,QAAUpoB,EAAIkD,cAxBlC,SAAwBr3B,EAAMo8C,GAE5B7/B,EAAK4c,cAAcmjB,KACjBt8C,EAAKohB,WAAWo7B,OAASroB,EAAImD,aAC7B+kB,EAAcjlC,KAAK,KAAMpX,EAAMo8C,KAqBhBhlC,KAAK,KAAMpX,KAQhCuc,EAAKo7B,SAAW,SAASl4C,EAAQG,GAAyB,IAAjBs1B,IAAgB,yDACvD,QACoC5zB,IAAlC7B,EAAO2hB,WAAW6T,kBACgB3zB,IAAlC1B,EAAOwhB,WAAW6T,YAFpB,CAOA,IAAIzF,EAAyB,EAAjBjT,EAAK44B,UACjB54B,EAAKyc,YAAYxJ,EAAQ,GAAK/vB,EAC9B8c,EAAKyc,YAAYxJ,EAAQ,EAAI,GAAK5vB,EAC7BH,EAAO44C,WACV54C,EAAO44C,SAAW,IAEfz4C,EAAOy4C,WACVz4C,EAAOy4C,SAAW,IAGpB97B,EAAK0c,YAAY71B,KAAK,CACpB3D,OAAQA,EACRG,OAAQA,EACR68C,MAAOvnB,EACP7T,UAAW5hB,EAAO2hB,WAAWC,YAG/B5hB,EAAO44C,SAASj1C,KAAKmZ,EAAK0c,YAAYzJ,EAAQ,IAC9C5vB,EAAOy4C,SAASj1C,KAAKmZ,EAAK0c,YAAYzJ,EAAQ,IAC9CjT,EAAKmgC,yBAAyBj9C,EAAQG,EAAQ4vB,GAC9CjT,EAAK44B,WAAa,OAvBhB1uB,WAAWlK,EAAKo7B,SAASvgC,KAAK,KAAM3X,EAAQG,GAAS,KA6BzD2c,EAAKmgC,yBAA2B,SAASj9C,EAAQG,EAAQ4vB,GACvD,IAAI7uB,EAAY4b,EAAKxd,MAAMyvB,WAAWrW,SAASqa,MAC3CmiB,EAASp4B,EAAKxd,MAAMyvB,WAAWrwB,MAAMq0B,MAErCmqB,EAAQl9C,EAAO2hB,WAAW6T,YAAY9c,SACtCykC,EAAQh9C,EAAOwhB,WAAW6T,YAAY9c,SACtC0kC,EAAUtgC,EAAK0c,YAAYzJ,EAAQ,GAAGnO,UACtCy7B,EAAUvgC,EAAK0c,YAAYzJ,EAAQ,GAAGnO,UAC1CszB,EAAOnlB,GAASqtB,EAAQh9B,EACxBlf,EAAU6uB,KAAWmtB,EAAMl9B,EAC3Bk1B,EAAOnlB,GAASqtB,EAAQ37B,EACxBvgB,EAAU6uB,KAAWmtB,EAAMj9B,EAC3Bi1B,EAAOnlB,GAASqtB,EAAQ77B,EACxBrgB,EAAU6uB,KAAWmtB,EAAMlrB,EAAI,IAC/BkjB,EAAOnlB,GAASstB,EAAQj9B,EACxBlf,EAAU6uB,KAAWotB,EAAMn9B,EAC3Bk1B,EAAOnlB,GAASstB,EAAQ57B,EACxBvgB,EAAU6uB,KAAWotB,EAAMl9B,EAC3Bi1B,EAAOnlB,GAASstB,EAAQ97B,EACxBrgB,EAAU6uB,KAAWotB,EAAMnrB,EAAI,O,oBCxSnC,IAAI0C,EAAMtd,EAAQ,IAAaud,QAC3BtT,EAAQqT,EAAIrT,MACLqT,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,GACJH,EAAIxwB,GAKb4wB,EAAOnE,QAAU,SAAS7T,GAKxBA,EAAKwgC,aAAe,SAAAlzC,GACL,WAATA,GAEF0S,EAAKygC,UAAY,SACjBzgC,EAAK0gC,iBAAkB,GACL,SAATpzC,IAET0S,EAAKygC,UAAY,OACjBzgC,EAAK0gC,iBAAkB,IAI3B1gC,EAAKJ,YAAc,WACjBI,EAAK/Z,QAAS,GAEhB8G,OAAO4zC,MAAQ3gC,EAAKJ,YAEpBI,EAAKG,aAAe,WAClBH,EAAK/Z,QAAS,GAGhB+Z,EAAK4gC,iBAAmB,WACtB5gC,EAAKm9B,kBAAkB,CAAC,SAAU,MAAO,WAAYn9B,EAAKmY,YAG5DnY,EAAK6gC,YAAc,WACjB7gC,EAAKm9B,kBAAkB,CAAC,SAAU,MAAO,aAG3Cn9B,EAAK/X,iBAAmB,WACtB+X,EAAKm9B,kBAAkB,EAAC,EAAM,GAAI,UAAWn9B,EAAKmY,YAGpDnY,EAAKhY,mBAAqB,WACxBgY,EAAKm9B,kBAAkB,EAAC,EAAO,GAAI,UAAWn9B,EAAKmY,YAGrDnY,EAAK8gC,iBAAmB,SAAA7+C,GACtB+d,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9Buc,EAAKu9B,oBAAoB95C,EAAMxB,EAAM+d,EAAKud,sBAI9Cvd,EAAKrQ,qBAAuB,SAAA1N,GAC1B+d,EAAKud,iBAAmBt7B,EACxB+d,EAAK8gC,iBAAiB9gC,EAAK1d,YAG7B0d,EAAKpQ,eAAiB,SAAA+tC,GACpB39B,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9Buc,EAAKw9B,kBAAkB/5C,EAAMk6C,OAIjC39B,EAAK+gC,cAAgB,WACf/gC,EAAKwd,WACPxd,EAAK/e,cAEL+e,EAAK5e,eAIT4e,EAAK5e,YAAc,WACb4e,EAAKwd,aAGTxd,EAAKwd,YAAa,EAClBxd,EAAK6Y,QAAQmF,YAAYhe,EAAK2e,gBAAgBQ,cAGhDnf,EAAK/e,YAAc,WACZ+e,EAAKwd,aAGVxd,EAAKwd,YAAa,EAClBxd,EAAK6Y,QAAQiQ,YAAY9oB,EAAK2e,gBAAgBQ,cAOhDnf,EAAKtJ,wBAA0B,WACzBsJ,EAAKof,YAAY6K,WAGrBjqB,EAAK6Y,QAAQiQ,YAAY9oB,EAAKof,YAAYD,YAC1Cnf,EAAKof,YAAY6K,UAAW,IAI9BjqB,EAAKghC,uBAAyB,WACvBhhC,EAAKof,YAAY6K,WAGtBjqB,EAAK6Y,QAAQmF,YAAYhe,EAAKof,YAAYD,YAC1Cnf,EAAKof,YAAY6K,UAAW,IAO9BjqB,EAAKihC,yBAA2B,WAC9B,IAAIv/C,EAAQ,GACZse,EAAKjf,MAAM6F,aAAY,SAAA7C,GACVic,EAAKjf,MAAMs5C,QAAQt2C,EAAEJ,IACvBkhB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,UACjDvI,EAAMmF,KAAK9C,EAAEJ,OAMG,GAAhBjC,EAAMiH,OACRqX,EAAKtJ,0BACOsJ,EAAKmY,UAAUxvB,OAAS,GAAOqX,EAAKkY,WAAep3B,SAASC,MAAMC,MAAMiF,QAEpF+Z,EAAKghC,yBAGPhhC,EAAK5Y,GAAGs1C,KAAK,kBAAmBh7C,IAGlCse,EAAKnY,qBAAuB,WAC1BmY,EAAKkhC,aAAalhC,EAAKmY,UAAUr0B,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,QAG9Cqc,EAAKuF,mBAAqB,WACxB5L,SAASC,eAAe,gBAAgBwB,MAAMjU,QAAQ,OACtDwS,SAASC,eAAe,gBAAgBwB,MAAMjU,QAAQ,SACtD6Y,EAAKjQ,WAAWiQ,EAAKmY,UAAUr0B,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,QAG5Cqc,EAAKsF,mBAAqB,WACxB3L,SAASC,eAAe,gBAAgBwB,MAAMjU,QAAQ,OACtDwS,SAASC,eAAe,gBAAgBwB,MAAMjU,QAAQ,SACtD6Y,EAAKmhC,WAAWnhC,EAAKmY,UAAUr0B,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,QAG5Cqc,EAAKkhC,aAAe,SAAAt9C,GAClBoc,EAAKjf,MAAM6F,aAAY,SAAA7C,GACrB,GAAIH,EAAQI,SAASD,EAAEJ,IAAK,CAC1B,IAAIF,EAAOuc,EAAKjf,MAAMs5C,QAAQt2C,EAAEJ,SAE6BoB,GAA3DtB,EAAKohB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,WAE/CxG,EAAKohB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,UAAW,GAE5DxG,EAAKohB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,UAAYxG,EACxDohB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,aAGjD+V,EAAKihC,4BAGPjhC,EAAKjQ,WAAa,SAAAnM,GAChBoc,EAAKjf,MAAM6F,aAAY,SAAA7C,GACjBH,EAAQI,SAASD,EAAEJ,MACVqc,EAAKjf,MAAMs5C,QAAQt2C,EAAEJ,IAC3BkhB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,UAAW,MAG9D+V,EAAKihC,4BAGPjhC,EAAKmhC,WAAa,SAAAv9C,GAChBoc,EAAKjf,MAAM6F,aAAY,SAAA7C,GACjBH,EAAQI,SAASD,EAAEJ,MACVqc,EAAKjf,MAAMs5C,QAAQt2C,EAAEJ,IAC3BkhB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,UAAW,MAG9D+V,EAAKihC,4BAGPjhC,EAAKmF,cAAgB,WACnBxL,SAASC,eAAe,WAAWwB,MAAMjU,QAAQ,OACjDwS,SAASC,eAAe,WAAWwB,MAAMjU,QAAQ,SACjD6Y,EAAKjf,MAAM6F,aAAY,SAASnD,IAC1BA,EAAOuc,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,KAC9BkhB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,UAAW,KAE5D+V,EAAKihC,4BAGPjhC,EAAKoF,cAAgB,WACnBzL,SAASC,eAAe,WAAWwB,MAAMjU,QAAQ,OACjDwS,SAASC,eAAe,WAAWwB,MAAMjU,QAAQ,SACjD6Y,EAAKjf,MAAM6F,aAAY,SAASnD,IAC1BA,EAAOuc,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,KAC9BkhB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,UAAW,KAE5D+V,EAAKihC,4BAGPjhC,EAAKohC,cAAgB,SAASn/C,GAC5B+d,EAAKg5B,gBAAgB/2C,IAGvB+d,EAAKqhC,iBAAmB,SAASh/C,GACF,GAAzB2d,EAAKmY,UAAUxvB,OACjBqX,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9Buc,EAAKshC,aAAathC,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,IAAKtB,MAGjD2d,EAAKmY,UAAUn1B,SAAQ,SAASS,GAC9Buc,EAAKshC,aAAathC,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,IAAKtB,OAKrD2d,EAAKtQ,6BAA+B,SAASrN,EAAO8B,GAClD6b,EAAKjf,MAAM6F,aAAY,SAASnD,GAC1BU,EAAUT,IAAID,EAAKE,KAAOQ,EAAU+F,IAAIzG,EAAKE,IAAID,IAAI,SACvDsc,EAAKshC,aAAathC,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,IAAKQ,EAAU+F,IAAIzG,EAAKE,IAAIuG,IAAI,UAE1E8V,EAAKshC,aAAathC,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,IAAKtB,OAKrD2d,EAAKshC,aAAe,SAAS79C,EAAMpB,GACpB,UAATA,GACFoB,EAAKohB,WAAWxiB,MAAQA,EACxBoB,EAAKohB,WAAW6T,YAAY/D,SAAW3U,EAAK81B,cAC5CryC,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGitB,SAAW3U,EAAK81B,eACtC,UAATzzC,GACToB,EAAKohB,WAAWxiB,MAAQA,EACxBoB,EAAKohB,WAAW6T,YAAY/D,SAAW,IAAIpQ,EAAM05B,eAAe,EAAG,IACnEx6C,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGitB,SAAW,IAAIpQ,EAAM05B,eAC3D,EACA,KAEgB,YAAT57C,GACToB,EAAKohB,WAAWxiB,MAAQA,EACxBoB,EAAKohB,WAAW6T,YAAY/D,SAAW,IAAIpQ,EAAM05B,eAAe,EAAG,GACnEx6C,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGitB,SAAW,IAAIpQ,EAAM05B,eAC3D,EACA,IAEgB,YAAT57C,GACToB,EAAKohB,WAAWxiB,MAAQA,EACxBoB,EAAKohB,WAAW6T,YAAY/D,SAAW,IAAIpQ,EAAM05B,eAAe,EAAG,GACnEx6C,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGitB,SAAW,IAAIpQ,EAAM05B,eAC3D,EACA,IAEgB,WAAT57C,GACToB,EAAKohB,WAAWxiB,MAAQA,EACxBoB,EAAKohB,WAAW6T,YAAY/D,SAAW,IAAIpQ,EAAM05B,eAAe,EAAG,GACnEx6C,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGitB,SAAW,IAAIpQ,EAAM05B,eAC3D,EACA,IAEgB,WAAT57C,IACToB,EAAKohB,WAAWxiB,MAAQA,EACxBoB,EAAKohB,WAAW6T,YAAY/D,SAAW,IAAIpQ,EAAM05B,eAAe,EAAG,GACnEx6C,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAGitB,SAAW,IAAIpQ,EAAM05B,eAC3D,EACA,KAKNj+B,EAAKuhC,eAAiB,WACpB,OAAIvhC,EAAKmY,UAAUxvB,QAAUqX,EAAKjf,MAAMygD,gBAC/B,EAEFxhC,EAAKmY,UAAUxvB,QAGxBqX,EAAKvN,WAAa,WAChBuN,EAAK5f,UAAY4f,EAAK5f,SACtB4f,EAAKyhC,2BAGPzhC,EAAKyhC,wBAA0B,WAC7BzhC,EAAKi5B,SAAS9hB,SAASv1B,MAAQ,IAAI2iB,EAAMC,MAAOxE,EAAK5f,SAAU,SAAW,IAG5E4f,EAAK0hC,SAAW,WACd,OAAO1hC,EAAKjf,OAGdif,EAAK2hC,YAAc,WACjB,IAAIjgD,EAAQ,GAIZ,OAHAse,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9B/B,EAAMmF,KAAKpD,MAEN/B,GAGTse,EAAK3b,aAAe,WAClB,IAAIu9C,EAAQ,GAIZ,OAHA5hC,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9Bm+C,EAAMn+C,EAAKE,IAAM,CAACF,EAAKyf,EAAGzf,EAAK0f,MAE1By+B,GAGT5hC,EAAK6hC,gBAAkB,WACrB,IAAID,EAAQ,GAIZ,OAHA5hC,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9Bm+C,EAAMn+C,EAAKE,IAAM,CAACF,EAAK21B,GAAI31B,EAAK41B,OAE3BuoB,GAIT5hC,EAAKxb,eAAiB,WACpB,IAAIo9C,EAAQ,IAAI9+C,IAMhB,OALAkd,EAAKjf,MAAM6F,aAAY,SAASnD,GAC3BA,EAAKy1B,SAAWz1B,EAAK01B,SACtByoB,EAAMr+C,IAAIE,EAAKE,OAGZi+C,GAIT5hC,EAAKlZ,eAAiB,SAASL,GAC7BuZ,EAAKm9B,kBAAkB,EAAC,EAAM,GAAI,UAAW12C,IAG/C,IAAIq7C,GAAQ,EACZ9hC,EAAK+hC,YAAc,WAIjBD,GAASA,GAGX9hC,EAAKgiC,YAAc,SAAAr+C,GACjBqc,EAAK0d,SAAW1d,EAAKjf,MAAMs5C,QAAQ12C,IAGrCqc,EAAKiiC,aAAe,WAClBjiC,EAAKiY,WAAWjY,EAAK0d,WAGvB,IAAIxa,EAAI,EACRlD,EAAKkiC,SAAW,WACdh/B,GAAK,GACLlD,EAAKse,SAASqY,cAAczzB,GAC5BlD,EAAKwf,kBAGPxf,EAAKmiC,wBAA0B,WAC7BniC,EAAK2d,sBAAwB3d,EAAK2d,sBAGpC3d,EAAK3P,iBAAmB,SAASzM,EAAS03C,GAIxC,GAHI13C,EAAQ+E,OAAS,GAAKpE,MAAMu+B,QAAQl/B,EAAQ,MAC9CA,EAAUA,EAAQ,IAEhBoc,EAAK4d,eACP,IAAK,IAAIl1B,EAAI,EAAGA,EAAIsX,EAAK4d,eAAej1B,OAAQD,IAC9CsX,EAAKq7B,cACHr7B,EAAK4d,eAAel1B,IACnB4yC,EACD1jB,EAAIiD,kBAIV7a,EAAK4d,eAAiB,GACtB5d,EAAKjf,MAAM6F,aAAY,SAASnD,IACG,GAA7BG,EAAQ0Q,QAAQ7Q,EAAKE,MACvBqc,EAAKq7B,cAAc53C,EAAM63C,EAAQ1jB,EAAIiD,kBACrC7a,EAAK4d,eAAe/2B,KAAKpD,QAK/Buc,EAAKoiC,eAAiB,WACpB,IAAK,IAAI15C,EAAI,EAAGA,EAAIsX,EAAKmY,UAAUxvB,OAAQD,IACzCsX,EAAK26B,WAAW36B,EAAKmY,UAAUzvB,IAEjCsX,EAAKmY,UAAY,IAGnBnY,EAAK9b,iBAAmB,SAASN,GAC/B,IAAK,IAAI8E,EAAI,EAAGA,EAAI9E,EAAQ+E,OAAQD,IAAK,CACvC,IAAMjF,EAAOuc,EAAKjf,MAAMs5C,QAAQz2C,EAAQ8E,IACpCjF,GACFuc,EAAK26B,WAAWl3C,GAGpBuc,EAAKmY,UAAY,IAGnBnY,EAAKqiC,YAAc,WACjB,OAAOriC,EAAKmY,WAGdnY,EAAK6G,eAAiB,WACpB,OAAO7G,EAAKmY,UAAUr0B,KAAI,SAAAC,GAAC,OAAIA,EAAEJ,S,oBC5ZrC,IAAIi0B,EAAMtd,EAAQ,IAAaud,QAC3BtT,EAAQqT,EAAIrT,MACLqT,EAAIpM,KACJoM,EAAI5E,KACK4E,EAAIE,cACfF,EAAIG,GACJH,EAAIxwB,GAEb4wB,EAAOnE,QAAU,SAAS7T,GAIxBA,EAAKqgB,YAAc,WACjBrgB,EAAKxd,MAAM8/C,aAAa,EAAGtiC,EAAK44B,UAAY,GAC5C,IAAI2J,EAAQviC,EAAK44B,UAAY,EACzBx0C,EAAY4b,EAAKxd,MAAMyvB,WAAWrW,SAASqa,MAC3CmiB,EAASp4B,EAAKxd,MAAMyvB,WAAWrwB,MAAMq0B,MAGxCjW,EAAKq4B,eAAepmB,WAAWrW,SAASqa,MAAQ,IAAId,aAA8B,EAAjBnV,EAAK2c,WAIvE,IAHC,IAAI6lB,EAAgBxiC,EAAKq4B,eAAepmB,WAAWrW,SAASqa,MAGpDvtB,GAFSsX,EAAKq4B,eAAepmB,WAAWrwB,MAAMq0B,MAE1C,GAAGvtB,EAAI65C,EAAO75C,GAAK,EAC9B,GAAIsX,EAAK0c,YAAYh0B,EAAI,GACvB,GAAIsX,EAAK0c,YAAYh0B,EAAI,GAAGw3C,KAAM,CAChC,IAAIE,EAAQpgC,EAAKyc,YAAY/zB,GAAGmc,WAAW6T,YAAY9c,SACnDykC,EAAQrgC,EAAKyc,YAAY/zB,EAAI,GAAGmc,WAAW6T,YAAY9c,SAC3DxX,EAAc,EAAJsE,GAAS03C,EAAMl9B,EACzB9e,EAAc,EAAJsE,EAAQ,GAAK03C,EAAMj9B,EAC7B/e,EAAc,EAAJsE,EAAQ,GAAK23C,EAAMn9B,EAC7B9e,EAAc,EAAJsE,EAAQ,GAAK23C,EAAMl9B,EAC7Bi1B,EAAW,EAAJ1vC,GAAS,IAChB0vC,EAAW,EAAJ1vC,EAAQ,GAAK,IACpB0vC,EAAW,EAAJ1vC,EAAQ,GAAK,IACpB0vC,EAAW,EAAJ1vC,EAAQ,GAAK,IACpB0vC,EAAW,EAAJ1vC,EAAQ,GAAK,IACpB0vC,EAAW,EAAJ1vC,EAAQ,GAAK,QACf,CACD03C,EAAQpgC,EAAKyc,YAAY/zB,GAAGmc,WAAW6T,YAAY9c,SACnDykC,EAAQrgC,EAAKyc,YAAY/zB,EAAI,GAAGmc,WAAW6T,YAAY9c,SAD3D,IAEI0kC,EAAUtgC,EAAK0c,YAAYh0B,EAAI,GAAGoc,UAClCy7B,EAAUvgC,EAAK0c,YAAYh0B,EAAI,GAAGoc,UAatC,GAZA1gB,EAAc,EAAJsE,GAAS03C,EAAMl9B,EACzB9e,EAAc,EAAJsE,EAAQ,GAAK03C,EAAMj9B,EAC7B/e,EAAc,EAAJsE,EAAQ,GAAK23C,EAAMn9B,EAC7B9e,EAAc,EAAJsE,EAAQ,GAAK23C,EAAMl9B,EAC7Bi1B,EAAW,EAAJ1vC,GAAS43C,EAAQ77B,EACxB2zB,EAAW,EAAJ1vC,EAAQ,GAAK43C,EAAQ37B,EAC5ByzB,EAAW,EAAJ1vC,EAAQ,GAAK43C,EAAQh9B,EAC5B80B,EAAW,EAAJ1vC,EAAQ,GAAK63C,EAAQ97B,EAC5B2zB,EAAW,EAAJ1vC,EAAQ,GAAK63C,EAAQ57B,EAC5ByzB,EAAW,EAAJ1vC,EAAQ,GAAK63C,EAAQj9B,EAGxBxiB,SAASC,MAAMkkB,cAAe,CAChCjF,EAAKw4B,MAAM7f,SAAU,EACrB,IAAI8pB,GAAarC,EAAMl9B,EAAIm9B,EAAMn9B,GAAG,EAChCw/B,GAAatC,EAAMj9B,EAAIk9B,EAAMl9B,GAAG,EAEhCw/B,EAAKtC,EAAMn9B,EAAIk9B,EAAMl9B,EACrB0/B,EAAKvC,EAAMl9B,EAAIi9B,EAAMj9B,EAEd,IAAPw/B,IACFA,EAAK,MAEP,IAAIE,EAAel5C,KAAKm5C,KAAKF,EAAKD,GAQlC,GAHAH,EAAc95C,EAAI,EAAI,GAAK+5C,EAC3BD,EAAc95C,EAAI,EAAI,EAAI,GAAKg6C,EAE3BC,GAAM,EAAG,CACX,IAAII,EAAcN,EAAqC,KAAzB94C,KAAKq5C,IAAIH,GACnCI,EAAcP,EAAqC,KAAzB/4C,KAAKu5C,IAAIL,GACnCM,EAAmBx5C,KAAK8hC,GAAG,EAAIoX,EACnCL,EAAc95C,EAAI,EAAI,EAAI,GAAKq6C,EAAc,GAAMp5C,KAAKq5C,IAAIG,GAC5DX,EAAc95C,EAAI,EAAI,EAAI,GAAKu6C,EAAc,GAAMt5C,KAAKu5C,IAAIC,GAC5DX,EAAc95C,EAAI,EAAI,EAAI,GAAKq6C,EAAc,GAAMp5C,KAAKq5C,IAAIG,GAC5DX,EAAc95C,EAAI,EAAI,EAAI,GAAKu6C,EAAc,GAAMt5C,KAAKu5C,IAAIC,OAEvD,CACDJ,EAAcN,EAAqC,KAAzB94C,KAAKq5C,IAAIH,GACnCI,EAAcP,EAAqC,KAAzB/4C,KAAKu5C,IAAIL,GACnCM,EAAmBx5C,KAAK8hC,GAAG,EAAIoX,EACnCL,EAAc95C,EAAI,EAAI,EAAI,GAAKq6C,EAAc,GAAMp5C,KAAKq5C,IAAIG,GAC5DX,EAAc95C,EAAI,EAAI,EAAI,GAAKu6C,EAAc,GAAMt5C,KAAKu5C,IAAIC,GAC5DX,EAAc95C,EAAI,EAAI,EAAI,GAAKq6C,EAAc,GAAMp5C,KAAKq5C,IAAIG,GAC5DX,EAAc95C,EAAI,EAAI,EAAI,GAAKu6C,EAAc,GAAMt5C,KAAKu5C,IAAIC,SAG9DnjC,EAAKw4B,MAAM7f,SAAU,EAK7B3Y,EAAKxd,MAAMyvB,WAAWrW,SAAS8Z,aAAc,EAC7C1V,EAAKxd,MAAMyvB,WAAWrwB,MAAM8zB,aAAc,EAE1C1V,EAAKq4B,eAAepmB,WAAWrW,SAAS8Z,aAAc,EACtD1V,EAAKq4B,eAAepmB,WAAWrwB,MAAM8zB,aAAc,GAMrD1V,EAAKogB,aAAe,WAElB,IADA,IAAI1+B,EAAQse,EAAK+Z,MAAMr4B,QACdgH,EAAI,EAAGA,EAAIhH,EAAMiH,OAAQD,IAAK,CACrC,IAAI06C,EAAWpjC,EAAKjf,MAAMs5C,QAAQ34C,EAAMgH,GAAG/E,SACLoB,GAAlCq+C,EAASv+B,WAAW+T,aAGnBwqB,EAASv+B,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ5uB,SAIpDm5C,EAASv+B,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQqiB,QAAS,EAF5DkI,EAASv+B,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQqiB,QAAS,GAKhEkI,EAASv+B,WAAW+T,WAAWhd,SAASsH,EACtCkgC,EAASv+B,WAAW5iB,KAAOmhD,EAASv+B,WAAW6T,YAAY9c,SAASsH,EACtEkgC,EAASv+B,WAAW+T,WAAWhd,SAASuH,EACtCigC,EAASv+B,WAAW6T,YAAY9c,SAASuH,IAO/CnD,EAAKmgB,YAAc,WACjB,GAA2B,UAAvBngB,EAAK6Z,QAAQC,OACf9Z,EAAKjf,MAAM6F,aAAY,SAASnD,GAC1BA,EAAKohB,aACPphB,EAAKohB,WAAW6T,YAAY9c,SAASsH,EAAIlD,EAAK+Z,MAAMC,gBAClDv2B,EAAKE,IACLuf,EACFzf,EAAKohB,WAAW6T,YAAY9c,SAASuH,EAAInD,EAAK+Z,MAAMC,gBAClDv2B,EAAKE,IACLwf,MAGDnD,EAAK/Z,QACR+Z,EAAK+Z,MAAMspB,YAER,GAA2B,MAAvBrjC,EAAK6Z,QAAQC,OAAgB,CAEtC,IADA,IAAIp4B,EAAQse,EAAK+Z,MAAMr4B,QACdgH,EAAI,EAAGA,EAAIhH,EAAMiH,OAAQD,IAAK,CACrChH,EAAMgH,GAAGwa,EAAIvZ,KAAKxH,KACf6d,EAAKkd,YACNvzB,KAAKzH,IAAI8d,EAAKkd,YAAax7B,EAAMgH,GAAGwa,IAEtCxhB,EAAMgH,GAAGya,EAAIxZ,KAAKxH,KACf6d,EAAKmd,aACNxzB,KAAKzH,IAAI8d,EAAKmd,aAAcz7B,EAAMgH,GAAGya,IAEvC,IAAIigC,EAAWpjC,EAAKjf,MAAMs5C,QAAQ34C,EAAMgH,GAAG/E,IACvCy/C,GAAYA,EAASv+B,WAAW6T,cAC7B0qB,EAASlqB,SAIZkqB,EAAShqB,GAAKgqB,EAASlgC,EACvBkgC,EAASv+B,WAAW6T,YAAYhxB,SAAS,GAAGixB,SAAU,IAJtDyqB,EAAShqB,GAAK,KACdgqB,EAASv+B,WAAW6T,YAAYhxB,SAAS,GAAGixB,SAAU,GAKnDyqB,EAASjqB,QAGZiqB,EAAS/pB,GAAK+pB,EAASjgC,EAFvBigC,EAAS/pB,GAAK,KAIhB+pB,EAASv+B,WAAW6T,YAAY9c,SAASsH,EAAIxhB,EAAMgH,GAAGwa,EACtDkgC,EAASv+B,WAAW6T,YAAY9c,SAASuH,EAAIzhB,EAAMgH,GAAGya,GAIrDnD,EAAK/Z,QACR+Z,EAAK+Z,MAAM8G,SAQjB7gB,EAAKkgB,aAAe,WAClBlgB,EAAK+G,SAAS1jB,OAAO6f,GACnBlD,EAAK+G,SAASmc,OAAOtnB,SAASsH,EAC9BvZ,KAAKxH,KACF6d,EAAKkd,YACNvzB,KAAKzH,IAAI8d,EAAKkd,YAAald,EAAK+G,SAASmc,OAAOtnB,SAASsH,IAE7DlD,EAAK+G,SAASmc,OAAOtnB,SAASsH,GAC5BlD,EAAK+G,SAASmc,OAAOtnB,SAASsH,EAC9BvZ,KAAKxH,KACF6d,EAAKkd,YACNvzB,KAAKzH,IAAI8d,EAAKkd,YAAald,EAAK+G,SAASmc,OAAOtnB,SAASsH,IAE7DlD,EAAK+G,SAAS1jB,OAAO8f,GACnBnD,EAAK+G,SAASmc,OAAOtnB,SAASuH,EAC9BxZ,KAAKxH,KACF6d,EAAKmd,aACNxzB,KAAKzH,IAAI8d,EAAKmd,aAAcnd,EAAK+G,SAASmc,OAAOtnB,SAASuH,IAE9DnD,EAAK+G,SAASmc,OAAOtnB,SAASuH,GAC5BnD,EAAK+G,SAASmc,OAAOtnB,SAASuH,EAC9BxZ,KAAKxH,KACF6d,EAAKmd,aACNxzB,KAAKzH,IAAI8d,EAAKmd,aAAcnd,EAAK+G,SAASmc,OAAOtnB,SAASuH,IAE9DnD,EAAKk5B,gBAAgBl5B,EAAK6f,UAM5B7f,EAAKvQ,YAAc,SAAS1O,GA2C1B,GAzCAA,EAAM6F,aAAY,SAASnD,GACzB,IAAI6/C,EAAUtjC,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,IACjC2/C,EASHtjC,EAAKujC,WAAWD,EAAS7/C,IARpBuc,EAAKy8B,aACRz8B,EAAKy8B,WAAa,IAEpBz8B,EAAKy8B,WAAW51C,KAAKpD,EAAKE,IAC1Bqc,EAAK7V,QAAQ1G,GACI,EACjBuc,EAAK0d,SAAW1d,EAAKjf,MAAMs5C,QAAQ52C,EAAKE,QAK5C5C,EAAMyiD,aAAY,SAASC,GACpBzjC,EAAKjf,MAAM2iD,QAAQD,EAAKp3C,OAAQo3C,EAAKn3C,OACxC0T,EAAKiL,QACHjL,EAAKjf,MAAMs5C,QAAQoJ,EAAKp3C,QACxB2T,EAAKjf,MAAMs5C,QAAQoJ,EAAKn3C,UAK9B0T,EAAKjf,MAAM6F,aAAY,SAASnD,GAChB1C,EAAMs5C,QAAQ52C,EAAKE,KAE/Bqc,EAAK26B,WAAWl3C,MAIpBuc,EAAK+Z,MAAMyE,MAAM,GACjBxe,EAAK+Z,MAAMyG,OAKTxgB,EAAKygB,cAAe,EAKlBzgB,EAAKy8B,aAEPz8B,EAAK3P,iBAAiB2P,EAAKy8B,YAAY,GAGnCz8B,EAAKy8B,WAAW9zC,OAAS,IAAI,CAC/B,IAAK,IAAID,EAAI,EAAGA,EAAIsX,EAAKy8B,WAAW9zC,OAAQD,IAC1CsX,EAAKmY,UAAUtxB,KAAKmZ,EAAKjf,MAAMs5C,QAAQr6B,EAAKy8B,WAAW/zC,KAEzDsX,EAAK5Y,GAAGs1C,KAAK,eAAgB18B,EAAKmY,aAQxCnY,EAAKlQ,gBAAkB,SAAS1L,GAC9B4b,EAAKjf,MAAM6F,aAAY,SAASnD,GAC9B,IAAIo2C,EAAMz1C,EAAUX,EAAKE,IACrBk2C,IACFp2C,EAAKyf,EAAI22B,EAAI,GACbp2C,EAAK0f,EAAI02B,EAAI,GACTp2C,EAAKy1B,UACPz1B,EAAK21B,GAAKygB,EAAI,IAEZp2C,EAAK01B,UACP11B,EAAK41B,GAAKwgB,EAAI,SAStB75B,EAAKujC,WAAa,SAAS9/C,EAAMkgD,GAC/B,GAAIA,EAAQp8C,KAAM,CAQhB,GAPI9D,EAAK8D,KAAK3F,OAAS+hD,EAAQp8C,KAAK3F,QAClC6B,EAAK8D,KAAK3F,MAAQ+hD,EAAQp8C,KAAK3F,MAC/B6B,EAAKohB,WAAWjjB,MAAQ6B,EAAK8D,KAAK3F,MAClC6B,EAAKohB,WAAW6T,YAAYvB,SAASv1B,MAAM+hB,IACzC,IAAIY,EAAMC,MAAM/gB,EAAK8D,KAAK3F,SAG1B+hD,EAAQp8C,KAAKtF,MAAQ0hD,EAAQp8C,KAAKtF,KAAO,EAAG,CAC9CwB,EAAK8D,KAAKtF,KAAO0hD,EAAQp8C,KAAKtF,KAC9BwB,EAAKohB,WAAW5iB,KAAO0hD,EAAQp8C,KAAKtF,KACpCwB,EAAKohB,WAAW6T,YAAY72B,MAAM8hB,IAChCggC,EAAQp8C,KAAKtF,KACb0hD,EAAQp8C,KAAKtF,KACb,GAEF,IAAI26C,EAAQ,EAAIhlB,EAAI4D,eAAiBmoB,EAAQp8C,KAAKtF,KAClDwB,EAAKohB,WAAW6T,YAAYhxB,SAAS,GAAG7F,MAAM8hB,IAAIi5B,EAAOA,EAAO,GAE9D+G,EAAQp8C,KAAK6C,QACf3G,EAAK8D,KAAK6C,MAAQu5C,EAAQp8C,KAAK6C,MAC/B3G,EAAKohB,WAAWza,MAAQ3G,EAAK8D,KAAK6C,MAClC3G,EAAKohB,WAAW+T,WAAWlxB,SAAS,GAAGmxB,QAAQ+qB,WAAW,GAAGC,UAC3DpgD,EAAK8D,KAAK6C,OAEVu5C,EAAQp8C,KAAKlF,QACfoB,EAAK8D,KAAKlF,MAAQshD,EAAQp8C,KAAKlF,MAC/BoB,EAAKohB,WAAWxiB,MAAQoB,EAAK8D,KAAKlF,MAClC2d,EAAKshC,aAAa79C,EAAMA,EAAK8D,KAAKlF,a","file":"static/js/main.c75508cb.chunk.js","sourcesContent":["import { observable, action } from \"mobx\";\nimport { requestLoadUserConfig, requestSaveUserConfig } from \"../ipc/client\";\nimport { IS_IFRAME_WIDGET } from \"../constants\";\n\nexport default class PreferencesStore {\n  @observable dialogOpen = false;\n\n  @observable openDialogOpen = false;\n  @observable openSnapshotDialogOpen = false;\n  @observable shareDialogOpen = false;\n  @observable statisticsDialogOpen = false;\n  @observable helpDialogOpen = false;\n  @observable neighborDialogOpen = false;\n  @observable dataSheetDialogOpen = false;\n  @observable isRenderOptionsCardHidden = IS_IFRAME_WIDGET;\n\n  // The following fields are asynchronously loaded.\n  // Any writes to these fields through saveUserConfig\n  // won't be active until the app exits and starts\n  // next time.\n\n  @observable darkMode = true;\n  @observable minimapShowing = !IS_IFRAME_WIDGET;\n  @observable isStatusBarShowing = !IS_IFRAME_WIDGET;\n  @observable isNavbarInMinimalMode = IS_IFRAME_WIDGET;\n  @observable isLegendShowing = !IS_IFRAME_WIDGET;\n\n  @observable workspacePath = '';\n\n  // This is called at the beginning of the app.\n  loadUserConfig() {\n    requestLoadUserConfig();\n  }\n\n  saveUserConfig() {\n    const userConfig = {\n      darkMode: this.darkMode,\n      workspace: this.workspacePath,\n    }\n\n    requestSaveUserConfig(userConfig);\n  }\n\n  turnOnMinimalMode() {\n    this.isRenderOptionsCardHidden = true;\n    this.minimapShowing = false;\n    this.isStatusBarShowing = false;\n    this.isNavbarInMinimalMode = true;\n    this.isLegendShowing = false;\n    if (appState.graph.frame) {\n      appState.graph.frame.hideMiniMap();\n    } else {\n      console.log(\"Frame not ready when trying to toggle minimap.\");\n    }\n    \n  }\n\n  turnOffMinimalMode() {\n    this.isRenderOptionsCardHidden = false;\n    this.minimapShowing = true;\n    this.isStatusBarShowing = true;\n    this.isNavbarInMinimalMode = false;\n    this.isLegendShowing = true;\n    if (appState.graph.frame) {\n      appState.graph.frame.showMiniMap();\n    } else {\n      console.log(\"Frame not ready when trying to toggle minimap.\");\n    }\n  }\n}","import { observable, computed, action, runInAction } from \"mobx\";\nimport createGraph from \"ngraph.graph\";\nimport { scales } from \"../constants/index\";\nimport uniq from \"lodash/uniq\";\nimport { averageClusteringCoefficient, connectedComponents, graphDensity, averageDegree, exactGraphDiameter } from \"../services/AlgorithmUtils\";\nimport { ContextMenu, MenuFactory, MenuItemFactory } from \"@blueprintjs/core\";\nimport { Frame } from \"../graph-frontend\";\n\nexport default class GraphStore {\n\n  initialGlobalConfig = {\n    nodes: {\n      colorBy: \"pagerank\",\n      color: {\n        scale: \"Linear Scale\",\n        from: \"#448AFF\",\n        to: \"#E91E63\"\n      },\n      sizeBy: \"pagerank\",\n      size: {\n        min: 2,\n        max: 10,\n        scale: \"Linear Scale\"\n      },\n      labelBy: \"node_id\",\n      shape: \"circle\",\n      labelSize: 1,\n      labelLength: 10\n    },\n    edges: {\n      color: \"#7f7f7f\"\n    }\n  }\n\n  @observable nodes = this.initialGlobalConfig.nodes;\n  @observable edges = this.initialGlobalConfig.edges\n\n  @observable enableDegree = true;\n  @observable enableDensity = true;\n  @observable enableDiameter = false;\n  @observable enableCoefficient = true;\n  @observable enableComponent = true;\n\n  //access to process.js \"self\"\n  @observable process = undefined;\n\n  // Updated by frame event\n  @observable selectedNodes = [];\n\n  // Currently hovered node\n  @observable currentlyHovered = undefined;\n\n\n  /**\n   * Stores data relevant to smart pause feature\n   */\n  @observable smartPause = {\n    defaultActive: { //data for when graph layout is resumed and smart pause is not in effect \n      isActive: true, //true when layout is resumed and smart pause is not in effect\n      startTime: Date.now(), //keeps track of most recent time graph was unpaused\n      duration: 10000, //duration of resumed layout\n    },\n    //lastUnpaused: undefined, //old code using lastUnpaused\n    smartPaused: false, //true when resumed, but graph layout is paused due to inactivity\n    interactingWithGraph: false, //true when node is clicked or dragged. TODO: refactor to more understandable name\n  }\n\n  // Directed or not\n  @observable directedOrNot = false;\n\n  // Cache the single node that's been selected last time\n  // and will not update unless exactly one node is selected again\n  // useful for NeighborDialog\n  _lastSelectedSingleNode = null;\n  @computed\n  get lastSelectedSingleNode() {\n    if (this.selectedNodes.length === 1) {\n      this._lastSelectedSingleNode = this.selectedNodes[0];\n    }\n    return this._lastSelectedSingleNode;\n  }\n  // Updated by frame event. Not being listened, only used to save label visibility.\n  nodesShowingLabels = [];\n  // Used by autorun during snapshot loading.\n  @observable initialNodesShowingLabels = [];\n\n  @observable\n  overrideConfig = {\n    color: \"#000\",\n    size: 5,\n    label: \"\",\n    shape: \"circle\"\n  };\n\n  @observable\n  rawGraph = {\n    nodes: [],\n    edges: []\n  };\n\n  //saved states from loaded graph snapshot\n  @observable savedStates = null;\n\n  @observable\n  metadata = {\n    fullNodes: 0,\n    fullEdges: 0,\n    nodeProperties: [],\n    nodeComputed: [\"pagerank\", \"degree\"],\n    edgeProperties: [],\n    snapshotName: \"loading...\" // Optional: for display in Argo-lite only\n  };\n\n  // used for listing all the properties, either original or computed\n  @computed\n  get allPropertiesKeyList() {\n    return uniq([\n      ...this.metadata.nodeProperties,\n      ...this.metadata.nodeComputed\n    ]).filter(k => k !== 'id'); // since node_id is already present\n  }\n\n  @observable.ref frame = null;\n  @observable.ref positions = null;\n  @observable pinnedNodes = null;\n\n  @observable overrides = new Map();\n  @observable searchOrder = \"degree\";\n\n  hasGraphLoaded = false;\n\n  @computed\n  get hasGraph() {\n    if (this.rawGraph.nodes.length > 0) {\n      this.hasGraphLoaded = true;\n    }\n    return this.hasGraphLoaded;\n  }\n\n  @computed\n  get minMax() {\n    const ret = {};\n    for (const p of [\n      ...this.metadata.nodeProperties,\n      ...this.metadata.nodeComputed\n    ]) {\n      let min = Number.MAX_VALUE;\n      let max = Number.MIN_VALUE;\n\n      for (const n of this.rawGraph.nodes) {\n        min = Math.max(Math.min(min, n[p]), 0.0000001);\n        max = Math.max(max, n[p]);\n      }\n\n      ret[p] = [min, max];\n    }\n    return ret;\n  }\n\n  @computed\n  get nodeSizeScale() {\n    return scales[this.nodes.size.scale]()\n      .domain(this.minMax[this.nodes.sizeBy])\n      .range([this.nodes.size.min, this.nodes.size.max]);\n  }\n\n  @computed\n  get nodeColorScale() {\n    return scales[this.nodes.color.scale]()\n      .domain(this.minMax[this.nodes.colorBy])\n      .range([this.nodes.color.from, this.nodes.color.to]);\n  }\n\n  // Return raw graph nodes that is neighbor with the selected node,\n  // excluding the node itself.\n  getNeighborNodesFromRawGraph(selectedNodeId) {\n    const setOfNeighborIds = new Set();\n    this.rawGraph.edges.forEach(e => {\n      const source = e.source_id.toString();\n      const target = e.target_id.toString();\n      if (source === selectedNodeId && target !== selectedNodeId) {\n        setOfNeighborIds.add(target);\n      }\n      if (target === selectedNodeId && source !== selectedNodeId) {\n        setOfNeighborIds.add(source);\n      }\n    });\n    return this.rawGraph.nodes.filter(node => setOfNeighborIds.has(node.id.toString()));\n  }\n\n  // Triggers autorun in stores/index.js to sent computedGraph to graph-frontend.\n  @computed\n  get computedGraph() {\n    const graph = createGraph();\n    this.rawGraph.nodes.forEach(n => {\n      // If isHidden flag is defined and true, ignore the node in graph-frontend.\n      if (n.isHidden) {\n        return;\n      }\n      const override = this.overrides.get(n.id.toString());\n      graph.addNode(n.id.toString(), {\n        label: (override && override.get(\"label\")) || n[this.nodes.labelBy],\n        size:\n          (override && override.get(\"size\")) ||\n          this.nodeSizeScale(n[this.nodes.sizeBy]),\n        color:\n          (override && override.get(\"color\")) ||\n          this.nodeColorScale(n[this.nodes.colorBy]),\n        shape: (override && override.get(\"shape\")) || n[this.nodes.shape],\n        ref: n\n      });\n    });\n\n    this.rawGraph.edges.forEach(e => {\n      // If isHidden flag is defined and true on an associated node,\n      // leave out its related edges.\n      if (graph.hasNode(e.source_id.toString()) && graph.hasNode(e.target_id.toString())) {\n        graph.addLink(e.source_id.toString(), e.target_id.toString());\n      }\n    });\n\n    return graph;\n  }\n\n  @computed\n  get numHiddenNodes() {\n    return this.rawGraph.nodes.filter(n => n.isHidden).length;\n  }\n\n  showNodes(nodeids) {\n    runInAction('show hidden nodes by ids', () => {\n      this.rawGraph.nodes = this.rawGraph.nodes.map(n => {\n        if (nodeids.includes(n.id)) {\n          return { ...n, isHidden: false };\n        }\n        return n;\n      });\n    });\n  }\n\n  hideNodes(nodeids) {\n    runInAction('hide nodes by ids', () => {\n      this.frame.removeNodesByIds(nodeids);\n      this.rawGraph.nodes = this.rawGraph.nodes.map(n => {\n        if (nodeids.includes(n.id)) {\n          return { ...n, isHidden: true };\n        }\n        return n;\n      });\n    });\n  }\n\n  removeNodes(nodeids) {\n    runInAction('remove nodes by ids', () => {\n      this.frame.removeNodesByIds(nodeids);\n      this.rawGraph.nodes = this.rawGraph.nodes.filter(\n        n => !nodeids.includes(n.id)\n      );\n      this.rawGraph.edges = this.rawGraph.edges.filter(\n        e => !nodeids.includes(e.source_id) && !nodeids.includes(e.target_id)\n      );\n    });\n  }\n\n  getSnapshot() {\n    const snapshot = {\n      rawGraph: this.rawGraph,\n      overrides: this.overrides,\n      nodesShowingLabels: this.nodesShowingLabels,\n      positions: this.frame.getPositions(),\n      pinnedNodes: Array.from(this.frame.getPinnedNodes()),\n      metadata: this.metadata,\n      global: {\n        nodes: this.nodes,\n        edges: this.edges,\n      },\n    };\n    return snapshot;\n  }\n\n  /**\n   * [Argo-lite] Saves graph snapshot as String\n   * \n   * Note that Argo-lite snapshot contains all graph data\n   * and metadata except nodes/edges deleted by users.\n   * This is different from Argo-electron snapshot.\n   */\n  saveImmediateStates(optionalConfig) {\n    const snapshot = this.getSnapshot();\n    // TODO: add corresponding options on frontend\n    // The optional options allows users to leave out\n    // certain app state when saving snapshot\n    if (optionalConfig) {\n      if (optionalConfig.noPosition) {\n        snapshot.positions = undefined;\n      }\n      if (optionalConfig.noGlobal) {\n        snapshot.global = undefined;\n      }\n      if (optionalConfig.noOverride) {\n        snapshot.overrides = undefined;\n      }\n    }\n    return JSON.stringify(snapshot);\n  }\n\n  @action\n  loadImmediateStates(savedStatesStr) {\n    const savedStates = JSON.parse(savedStatesStr);\n    this.savedStates = savedStates;\n    if (!savedStates) {\n      return;\n    }\n    const savedOverrides = new Map(\n      Object.entries(savedStates.overrides).map(([k, v]) => [\n        k,\n        new Map(Object.entries(v))\n      ])\n    );\n    this.overrides.clear();\n    this.overrides.merge(savedOverrides);\n\n    if (savedStates.metadata) {\n      this.metadata = savedStates.metadata;\n    }\n    if (savedStates.global) {\n      this.nodes = savedStates.global.nodes;\n      this.edges = savedStates.global.edges ? savedStates.global.edges : this.edges;\n    }\n    // The following lines trigger autoruns.\n    this.rawGraph = savedStates.rawGraph;\n    if (savedStates.positions) {\n      this.positions = savedStates.positions;\n    }\n    if (savedStates.nodesShowingLabels) {\n      this.initialNodesShowingLabels = savedStates.nodesShowingLabels;\n      this.nodesShowingLabels = savedStates.nodesShowingLabels;\n    }\n\n    //stores data pinned nodes in appState\n    if (savedStates.pinnedNodes) {\n      this.pinnedNodes = new Set(savedStates.pinnedNodes);\n    }\n\n\n    this.runActiveLayout();\n  }\n\n\n  //resumes graph layout for a set duration before smart-pausing\n  runActiveLayout() {\n    if(this.frame) {\n      this.frame.paused = false;\n    } \n    this.smartPause.defaultActive.isActive = true;\n    this.smartPause.defaultActive.startTime = Date.now();\n    this.smartPause.smartPaused = false;\n  }\n\n  //selects which nodes should be pinned based on saved state of loaded snapshot\n  pinNodes() {\n    if (this.pinnedNodes) {\n      let nodesToPin = [];\n      let that = this; //\"this\" will not work inside of forEach, so it needs to be stored\n      this.process.graph.forEachNode(function (n) {\n        if (that.pinnedNodes.has(n.id)) {\n          nodesToPin.push(n);\n        }\n      });\n      this.frame.setPinnedNodes(nodesToPin);\n    }\n  }\n\n  setUpFrame() {\n    const graphFrame = new Frame(this.computedGraph);\n    graphFrame.init();\n    graphFrame.display();\n    this.frame = graphFrame;\n    graphFrame.ee.on(\"select-nodes\", nodes => {\n      this.selectedNodes = nodes;\n    });\n    graphFrame.ee.on(\"show-node-label\", nodes => {\n      this.nodesShowingLabels = nodes;\n    });\n    graphFrame.ee.on(\"right-click\", data => {\n      const menu = MenuFactory({\n        children: [\n          MenuItemFactory({\n            onClick: () => {\n              this.frame.toggleSelectedLabels();\n            },\n            text: 'Toggle Labels',\n            key: 'Toggle Labels'\n          }),\n          MenuItemFactory({\n            onClick: () => {\n              this.frame.unpinSelectedNodes();\n            },\n            text: 'Unpin Selected',\n            key: 'Unpin Selected'\n          }),\n          MenuItemFactory({\n            onClick: () => {\n              this.frame.pinSelectedNodes();\n            },\n            text: 'Pin Selected',\n            key: 'Pin Selected'\n          }),\n          this.frame.rightClickedNode && MenuItemFactory({\n            onClick: () => {\n              if (this.frame.rightClickedNode) {\n                const rightClickedNodeId = this.frame.rightClickedNode.data.ref.id.toString();\n                const neighbors = this.getNeighborNodesFromRawGraph(rightClickedNodeId);\n                neighbors.sort((n1, n2) => {\n                  if (n1[\"pagerank\"] && n2[\"pagerank\"]) {\n                    return n2[\"pagerank\"] - n1[\"pagerank\"];\n                  }\n                  return 0;\n                });\n                const ids = [];\n                for (let i = 0; i < 5 && i < neighbors.length; i++) {\n                  ids.push(neighbors[i].id);\n                }\n                this.showNodes(ids);\n              }\n            },\n            text: 'Show 5 Neighbors with Highest PageRank',\n            key: 'Show 5 Neighbors with Highest PageRank'\n          }),\n        ]\n      });\n      ContextMenu.show(menu, { left: data.pageX, top: data.pageY }, () => {\n        // onMenuClose\n        console.log(\"ContextMenu closed\");\n      });\n    });\n  }\n\n  /*\n   * Graph algorithms used in StatisticsDialog.\n   */\n\n  get averageClustering() {\n    const snapshot = {\n      rawGraph: this.rawGraph,\n    };\n    return averageClusteringCoefficient(snapshot);\n  }\n\n\n  get components() {\n    const snapshot = {\n      rawGraph: this.rawGraph,\n    };\n    return connectedComponents(snapshot);\n  }\n\n  @computed\n  get density() {\n    const snapshot = {\n      rawGraph: this.rawGraph,\n    };\n    return graphDensity(snapshot);\n  }\n\n  @computed\n  get degree() {\n    const snapshot = {\n      rawGraph: this.rawGraph,\n    };\n    return averageDegree(snapshot);\n  }\n\n  @computed\n  get diameter() {\n    const snapshot = {\n      rawGraph: this.rawGraph,\n    };\n    return exactGraphDiameter(snapshot);\n  }\n}","import { observable } from \"mobx\";\n\nexport default class ImportStore {\n  @observable graphFile = \"\";\n  @observable stateFile = \"\";\n\n  @observable dialogOpen = false;\n  @observable gexfDialogOpen = false;\n\n  @observable loading = false;\n\n  // Argo-lite specific: File object selected via the file input.\n  @observable selectedEdgeFileFromInput = null;\n  @observable selectedNodeFileFromInput = null;\n\n  @observable selectedGexfFileFromInput = null;\n\n  @observable\n  importConfig = {\n    nodeFile: {\n      path: \"\",\n      topN: [],\n      hasColumns: true,\n      ready: false, // whether the topN is ready to display\n      columns: [],\n      mapping: {\n        id: \"<UNK>\"\n      },\n      delimiter: \",\"\n    },\n    edgeFile: {\n      path: \"\",\n      ready: false,\n      hasColumns: true,\n      columns: [],\n      topN: [],\n      mapping: {\n        fromId: \"<UNK>\",\n        toId: \"<UNK>\"\n      },\n      createMissing: true,\n      delimiter: \",\"\n    }\n  };\n\n  /*\n    Post Import Filtering related options.\n  */\n\n  postImportFilteringOptions = {\n    \"top 10 nodes with highest PageRank scores\": (rawGraph) => {\n      const sortedList = [...rawGraph.nodes];\n      sortedList.sort((n1, n2) => {\n          if (n1[\"pagerank\"] && n2[\"pagerank\"]) {\n              return n2[\"pagerank\"] - n1[\"pagerank\"];\n          }\n          return 0;\n      });\n      const setIds = new Set();\n      for (let i = 0; i < 10 && i < sortedList.length; i++) {\n        setIds.add(sortedList[i].id);\n      }\n      rawGraph.nodes = rawGraph.nodes.map(n => {\n        if (setIds.has(n.id)) {\n          return {...n, isHidden: false};\n        }\n        return n;\n      });\n    },\n    \"All Nodes\": (rawGraph) => {\n      rawGraph.nodes = rawGraph.nodes.map(n => ({...n, isHidden: false}));\n    },\n  };\n\n  defaultPostImportFilteringOption = \"top 10 nodes with highest PageRank scores\";\n  \n  @observable selectedPostImportFilteringOption = this.defaultPostImportFilteringOption;\n\n  postImportFilter(rawGraph) {\n    // Hide all nodes by default, use filtering option to show them.\n    rawGraph.nodes = rawGraph.nodes.map(n => ({...n, isHidden: true}));\n    // Run the selected post import filtering option.\n    this.postImportFilteringOptions[this.selectedPostImportFilteringOption](rawGraph);\n  }\n\n\n}\n","import { observable } from \"mobx\";\n\nexport default class ProjectStore {\n \n  @observable projects = [];\n\n  /*\n   * Active project and snapshot\n   */\n  @observable currentProject = null;\n  // @observable currentProjectName = null;\n  // @observable currentProjectPath = null;\n  @observable currentSnapshotName = \"Quick Save\"; // TODO: If not loaded from snapshot, use this, otherwise use the name of the loaded snapshot\n\n  // [Argo-lite] for displaying snapshot file in textarea to be copied\n  @observable stringCopyOfSnapshot = 'Loading';\n  \n  /*\n   * Dialogs and UI\n   */\n  @observable isNewProjectDialogOpen = false;\n  @observable isProjectDetailDialogOpen = false;\n  @observable isSaveSnapshotDialogOpen = false;\n  @observable isRenameSnapshotDialogOpen = false;\n  // when the ipc returns the projects data for the first time\n  // turn off `isFetching` so that the spinner of WorkspaceView will be turned off\n  // Also used when refreshing WorkspaceView\n  @observable isFetching = true;\n\n  /*\n   * New project creation and import\n   */\n  @observable newProjectName = '';\n}\n","import { observable } from \"mobx\";\n\nexport default class SearchStore {\n  @observable searchStr = \"\";\n  @observable candidates = [];\n  @observable numCandidates = 0;\n  @observable panelOpen = false;\n}\n","import { autorun, runInAction } from \"mobx\";\nimport { Intent } from \"@blueprintjs/core\";\n\nimport PreferencesStore from \"./PreferencesStore\";\nimport GraphStore from \"./GraphStore\";\nimport ImportStore from \"./ImportStore\";\nimport ProjectStore from \"./ProjectStore\";\n// import { peakCSV } from \"../services/CSVUtils\";\nimport parse from \"csv-parse/lib/sync\";\nimport SearchStore from \"./SearchStore\";\nimport { runSearch } from \"../ipc/client\";\n\nimport { BACKEND_URL, SAMPLE_GRAPH_SNAPSHOTS} from \"../constants\";\nimport { toaster } from '../notifications/client';\n\nexport class AppState {\n  constructor() {\n    this.preferences = new PreferencesStore();\n    this.graph = new GraphStore();\n    this.import = new ImportStore();\n    this.search = new SearchStore();\n    this.project = new ProjectStore();\n  }\n}\n\nconst appState = new AppState();\n\nwindow.appState = appState;\n\nconst loadSnapshotFromURL = (url) => {\n  return fetch(url, {\n    method: 'GET',\n    mode: 'cors'\n  }).then(response => response.text()).catch(error => {\n    toaster.show({\n      message: 'Failed to fetch graph snapshot',\n      intent: Intent.DANGER,\n      timeout: -1\n    });\n    console.error(error);\n  });\n};\n\nconst loadSnapshotFromStrapi = (uuid) => {\n  const url = `${BACKEND_URL}/snapshots?uuid=${uuid}`;\n  return fetch(url, {\n    method: 'GET',\n    mode: 'cors'\n  }).then(response => response.json()).then(json => json[0].body).catch(error => {\n    toaster.show({\n      message: 'Failed to fetch graph snapshot',\n      intent: Intent.DANGER,\n      timeout: -1\n    });\n    console.error(error);\n  });\n};\n\nconst loadAndDisplaySnapshotFromURL = (url) => {\n  loadSnapshotFromURL(url).then(snapshotString => {\n    // use filename/last segment of URL as title in Navbar\n    appState.graph.metadata.snapshotName = url.split('/').pop() || url.split('/').pop().pop();\n    appState.graph.loadImmediateStates(snapshotString);\n  });\n};\n\nconst loadAndDisplaySnapshotFromStrapi = (uuid) => {\n  loadSnapshotFromStrapi(uuid).then(snapshotString => {\n    // TODO: use more sensible snapshot name\n    appState.graph.metadata.snapshotName = 'Shared';\n    appState.graph.loadImmediateStates(snapshotString);\n  });\n};\n\nwindow.loadAndDisplaySnapshotFromURL = loadAndDisplaySnapshotFromURL;\nwindow.loadAndDisplaySnapshotFromStrapi = loadAndDisplaySnapshotFromStrapi;\n\nwindow.loadInitialSampleGraph = async () => {\n  // default fallback url\n  let url = \"https://argo-graph-lite.s3.amazonaws.com/lesmiserables.json\";\n\n  // check url hash\n  if (window.location.hash) {\n    const hash = window.location.hash.substring(1);\n    // If the hash component begins with http.\n    if (hash.length >= 4 && hash.startsWith('http')) {\n      try {\n        url = decodeURIComponent(hash);\n      } catch (e) {\n        console.error(e);\n        alert('Provided URL is not valid.');\n      }\n    } else {\n      // If the hash component does not begin with http\n      // treat it as a uuid in strapi.\n      loadAndDisplaySnapshotFromStrapi(hash);\n      return;\n    }\n    \n  }\n  // loadAndDisplaySnapshotFromURL(url)\n  loadAndDisplaySnapshotFromStrapi(SAMPLE_GRAPH_SNAPSHOTS[0][1]);\n};\n\nwindow.saveSnapshotToString = () => {\n  const snapshotString = appState.graph.saveImmediateStates();\n  return snapshotString;\n};\n\n// Load initial sample graph when Argo Lite is ready\nwindow.addEventListener('load', (event) => {\n  window.loadInitialSampleGraph();\n});\n\nconst updateTimeout = null;\n\n// Load graph on frontend once the rawGraph has been returned from IPC\n// Once a graph has been loaded and displayed, even if nodes are all deleted, still consider it \"hasGraph\"\nautorun(() => {\n  if (!appState.graph.hasGraph && appState.graph.rawGraph.nodes.length > 0) {\n    appState.graph.hasGraph = true;\n  }\n}) \n\nautorun(() => {\n  if (appState.graph.frame) {\n    appState.graph.frame.updateGraph(appState.graph.computedGraph); //loads nodes on screen when snapshot loaded\n    appState.graph.frame.setAllNodesShapeWithOverride(appState.graph.nodes.shape, appState.graph.overrides);\n    appState.graph.frame.setLabelRelativeSize(appState.graph.nodes.labelSize);\n    appState.graph.frame.setLabelLength(appState.graph.nodes.labelLength);\n  }\n\n  //pins nodes only after nodes are loaded\n  appState.graph.pinNodes();\n});\n\nautorun(() => {\n  if (appState.graph.frame && appState.graph.positions) {\n    // If positions are saved in a snapshot, pause layout upon loading.\n    appState.graph.frame.updatePositions(appState.graph.positions);\n    appState.graph.positions = null;\n    console.log('[autorun] Positions updated.');\n\n  }\n  if (appState.graph.frame && appState.graph.initialNodesShowingLabels) {\n    appState.graph.frame.showLabels(appState.graph.initialNodesShowingLabels);\n    appState.graph.initialNodesShowingLabels = null;\n  }\n});\n\nautorun(() => {\n  const searchStr = appState.search.searchStr;\n  if (searchStr.length >= 3) {\n    runSearch(searchStr);\n  } else {\n    appState.search.panelOpen = false;\n    appState.search.candidates.splice(0, appState.search.candidates.length);\n    if (appState.graph.frame) {\n      appState.graph.frame.highlightNodeIds([], true);\n    }\n  }\n});\n\n// Argo-lite specific: extract CSV from File object and update related fields.\nautorun(() => {\n  const file = appState.import.selectedEdgeFileFromInput;\n  const hasHeader = appState.import.importConfig.edgeFile.hasColumns;\n  const delimiter = appState.import.importConfig.edgeFile.delimiter;\n\n  if (!file) {\n    return;\n  }\n  const reader = new FileReader();\n  reader.readAsText(file);\n\n  reader.onload = () => {\n    // Read entire CSV into memory as string\n    const fileAsString = reader.result;\n    // Get top 20 lines. Or if there's less than 10 line, get all the lines.\n    const lines = fileAsString.split('\\n');\n    const lineNumber = lines.length;\n    const topLinesAsString = lines.map(l => l.trim()).filter((l, i) => i < 20).join('\\n');\n    console.log(topLinesAsString);\n\n    // Parse the top lines\n    try {\n      const it = hasHeader ? parse(topLinesAsString, {\n        comment: \"#\",\n        trim: true,\n        auto_parse: true,\n        skip_empty_lines: true,\n        columns: hasHeader,\n        delimiter\n      }) : parse(topLinesAsString, {\n        comment: \"#\",\n        trim: true,\n        auto_parse: true,\n        skip_empty_lines: true,\n        columns: undefined,\n        delimiter\n      });\n      runInAction(\"preview top N lines of edge file\", () => {\n        appState.import.importConfig.edgeFile.topN = it;\n        appState.import.importConfig.edgeFile.columns = Object.keys(it[0]).map(key => `${key}`);\n        appState.import.importConfig.edgeFile.mapping.fromId = appState.import.importConfig.edgeFile.columns[0];\n        appState.import.importConfig.edgeFile.mapping.toId = appState.import.importConfig.edgeFile.columns[1];\n        appState.import.importConfig.edgeFile.ready = true;\n      });\n    } catch {\n      toaster.show({\n        message: 'Error: Fails to parse file',\n        intent: Intent.DANGER,\n        timeout: -1\n      });\n    }\n  };\n\n  reader.onerror = () => {\n    console.error(reader.error);\n    toaster.show({\n      message: 'Error: Fails to open file',\n      intent: Intent.DANGER,\n      timeout: -1\n    });\n  };\n});\n\nautorun(() => {\n  const file = appState.import.selectedNodeFileFromInput;\n  const hasHeader = appState.import.importConfig.nodeFile.hasColumns;\n  const delimiter = appState.import.importConfig.nodeFile.delimiter;\n\n  if (!file) {\n    return;\n  }\n  const reader = new FileReader();\n  reader.readAsText(file);\n\n  reader.onload = () => {\n    // Read entire CSV into memory as string\n    const fileAsString = reader.result;\n    // Get top 20 lines. Or if there's less than 10 line, get all the lines.\n    const lines = fileAsString.split('\\n');\n    const lineNumber = lines.length;\n    const topLinesAsString = lines.map(l => l.trim()).filter((l, i) => i < 20).join('\\n');\n    console.log(topLinesAsString);\n\n    // Parse the top lines\n    try {\n      const it = hasHeader ? parse(topLinesAsString, {\n        comment: \"#\",\n        trim: true,\n        auto_parse: true,\n        skip_empty_lines: true,\n        columns: hasHeader,\n        delimiter\n      }) : parse(topLinesAsString, {\n        comment: \"#\",\n        trim: true,\n        auto_parse: true,\n        skip_empty_lines: true,\n        columns: undefined,\n        delimiter\n      });\n\n      runInAction(\"preview top N lines of node file\", () => {\n        appState.import.importConfig.nodeFile.topN = it;\n        appState.import.importConfig.nodeFile.columns = Object.keys(it[0]).map(key => `${key}`);\n        appState.import.importConfig.nodeFile.mapping.id = appState.import.importConfig.nodeFile.columns[0];\n        appState.import.importConfig.nodeFile.ready = true;\n      });\n    } catch {\n      toaster.show({\n        message: 'Error: Fails to open file',\n        intent: Intent.DANGER,\n        timeout: -1\n      });\n    }\n  };\n\n  reader.onerror = () => {\n    console.error(reader.error);\n    toaster.show({\n      message: 'Error: Fails to open file',\n      intent: Intent.DANGER,\n      timeout: -1\n    });\n  };\n});\n\nexport default appState;\n","import React from \"react\";\nimport { Button, Classes, Dialog, Intent, Switch } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport { requestChangeWorkspace } from \"../ipc/client\";\n\n@observer\nclass PreferencesDialog extends React.Component {\n  render() {\n    return (\n      <Dialog\n        iconName=\"cog\"\n        className={classnames({\n          [Classes.DARK]: appState.preferences.darkMode\n        })}\n        isOpen={appState.preferences.dialogOpen}\n        onClose={() => {\n          appState.preferences.dialogOpen = false;\n        }}\n        title=\"Preferences\"\n      >\n        <div className=\"pt-dialog-body\">\n          <Switch\n            label=\"Dark Mode\"\n            checked={appState.preferences.darkMode}\n            onChange={() => {\n              appState.preferences.darkMode = !appState.preferences.darkMode;\n              appState.preferences.saveUserConfig();\n              if (appState.graph.frame) {\n                appState.graph.frame.toggleDark();\n              }\n            }}\n          />\n          \n          <Switch\n           label=\"Minimap\"\n           checked={appState.preferences.minimapShowing}\n           onChange={() => {\n            appState.preferences.minimapShowing = !appState.preferences.minimapShowing;\n            appState.preferences.saveUserConfig();\n            if (appState.graph.frame) {\n              if (appState.preferences.minimapShowing) {\n                appState.graph.frame.showMiniMap();\n              } else {\n                appState.graph.frame.hideMiniMap();\n              }\n            } else {\n              console.log(\"Frame not ready when trying to toggle minimap.\");\n            }\n           }}\n          />\n        </div>\n        <div className=\"pt-dialog-footer\">\n          <div className=\"pt-dialog-footer-actions\">\n            <Button\n              intent={Intent.PRIMARY}\n              onClick={() => {\n                appState.preferences.dialogOpen = false;\n              }}\n              text=\"Done\"\n            />\n          </div>\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nexport default PreferencesDialog;","import React from \"react\";\nimport { Button, Classes, Collapse } from \"@blueprintjs/core\";\nimport classnames from \"classnames\";\n\nexport default ({ name, isOpen, onToggle, children }) => (\n  <div>\n    <Button\n      className={classnames(Classes.LARGE, Classes.FILL, Classes.MINIMAL, \"text-align-left\")}\n      rightIconName={isOpen ? \"chevron-up\" : \"chevron-down\"}\n      onClick={onToggle}\n    >\n      {name}\n    </Button>\n    <Collapse isOpen={isOpen}>{children}</Collapse>\n  </div>\n);\n","import React from \"react\";\nimport { Classes, MenuItem } from \"@blueprintjs/core\";\n\nexport default ({ handleClick, item, isActive }) => (\n  <MenuItem\n    className={isActive ? Classes.ACTIVE : \"\"}\n    key={item}\n    onClick={handleClick}\n    text={item}\n  />\n);\n","import React from \"react\";\nimport { Button, Classes } from \"@blueprintjs/core\";\nimport { Select } from \"@blueprintjs/labs\";\nimport CommonItemRenderer from \"./CommonItemRenderer\";\n\nexport default ({ items, onSelect, value, fill = false }) => (\n  <Select\n    items={items}\n    itemRenderer={CommonItemRenderer}\n    filterable={false}\n    onItemSelect={onSelect}\n  >\n    <Button className={fill ? Classes.FILL : null} text={value} />\n  </Select>\n);\n","/* eslint-disable jsx-a11y/label-has-for */\nimport React from \"react\";\nimport {\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n  Spinner,\n  Switch,\n  FileInput\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport SimpleSelect from \"./utils/SimpleSelect\";\n\n@observer\nclass PostImportOptions extends React.Component {\n  render() {\n    return (\n      <div>\n            After import, show:\n            <SimpleSelect\n                items={Object.keys(appState.import.postImportFilteringOptions)}\n                value={appState.import.selectedPostImportFilteringOption}\n                onSelect={(selected) => {\n                    appState.import.selectedPostImportFilteringOption = selected;\n                }}\n            />\n      </div>\n    );\n  }\n}\n\nexport default PostImportOptions;","/* eslint-disable jsx-a11y/label-has-for */\nimport React from \"react\";\nimport {\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n  Spinner,\n  Switch\n} from \"@blueprintjs/core\";\nimport { Cell, Column, Table } from \"@blueprintjs/table\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport {\n  requestChooseEdgeFile,\n  requestChooseNodeFile,\n  requestImportGraphFromCSV,\n  requestCreateNewProject\n} from \"../ipc/client\";\nimport Collapsable from \"./utils/Collapsable\";\nimport SimpleSelect from \"./utils/SimpleSelect\";\nimport { NODE_AND_EDGE_FILE, ONLY_EDGE_FILE } from \"../constants/index\";\nimport PostImportOptions from './PostImportOptions';\n\n@observer\nclass PreviewTable extends React.Component {\n  render() {\n    const file = this.props.file;\n    return (\n      <Table\n        className=\"import-preview-table\"\n        numRows={file.topN.length}\n        selectedRegions={Object.values(file.mapping)\n          .map(it => file.columns.indexOf(it))\n          .map(it => ({ rows: null, cols: [it, it] }))}\n      >\n        {file.columns.map(it => (\n          <Column\n            key={it}\n            name={it}\n            renderCell={i => <Cell>{file.topN[i][it]}</Cell>}\n          />\n        ))}\n      </Table>\n    );\n  }\n}\n\n@observer\nclass ImportDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      available: ONLY_EDGE_FILE,\n      nodesOpen: true,\n      edgesOpen: true,\n      delimiter: ','\n    };\n  }\n\n  changeAvailable = targetValue => {\n    if (targetValue === ONLY_EDGE_FILE) {\n      appState.import.importConfig.edgeFile.createMissing = true;\n    }\n    this.setState({ available: targetValue });\n  };\n\n  canImport = () => {\n    if (this.state.available === NODE_AND_EDGE_FILE) {\n      return (\n        appState.import.importConfig.edgeFile.ready &&\n        appState.import.importConfig.nodeFile.ready\n      );\n    } else if (this.state.available === ONLY_EDGE_FILE) {\n      return appState.import.importConfig.edgeFile.ready;\n    }\n    return false;\n  };\n\n  renderNodesSelection = () => {\n    const nodeFile = appState.import.importConfig.nodeFile;\n    if (this.state.available === ONLY_EDGE_FILE) {\n      return null;\n    }\n    return (\n      <Collapsable\n        name=\"Nodes\"\n        isOpen={this.state.nodesOpen}\n        onToggle={() => this.setState({ nodesOpen: !this.state.nodesOpen })}\n      >\n        <div className={classnames(Classes.CONTROL_GROUP)}>\n          <div className={classnames(Classes.INPUT_GROUP, Classes.FILL)}>\n            <input\n              type=\"file\"\n              className={classnames(Classes.DISABLED)}\n              onChange={(event) => {\n                if (event.target.files.length < 1) {\n                  return;\n                }\n                appState.import.selectedNodeFileFromInput = event.target.files[0];\n              }}\n            />\n          </div>\n        </div>\n        <Switch\n          label=\"Has Headers\"\n          checked={nodeFile.hasColumns}\n          onChange={() => (nodeFile.hasColumns = !nodeFile.hasColumns)}\n        />\n        {nodeFile.ready && (\n          <div className=\"column-selection\">\n            <PreviewTable file={nodeFile} />\n            Column for Node ID:\n            <SimpleSelect\n              items={nodeFile.columns}\n              value={nodeFile.mapping.id}\n              onSelect={it => (nodeFile.mapping.id = it)}\n            />\n          </div>\n        )}\n      </Collapsable>\n    );\n  };\n\n  renderEdgesSelection = () => {\n    const edgeFile = appState.import.importConfig.edgeFile;\n    return (\n      <Collapsable\n        name=\"Edges\"\n        isOpen={this.state.edgesOpen}\n        onToggle={() => this.setState({ edgesOpen: !this.state.edgesOpen })}\n      >\n        <div className={classnames(Classes.CONTROL_GROUP)}>\n          <div className={classnames(Classes.INPUT_GROUP, Classes.FILL)}>\n            <input\n              type=\"file\"\n              className={classnames(Classes.DISABLED)}\n              onChange={(event) => {\n                if (event.target.files.length < 1) {\n                  return;\n                }\n                appState.import.selectedEdgeFileFromInput = event.target.files[0];\n              }}\n            />\n          </div>\n        </div>\n        <Switch\n          label=\"Has Headers\"\n          checked={edgeFile.hasColumns}\n          onChange={() => (edgeFile.hasColumns = !edgeFile.hasColumns)}\n        />\n        <Switch\n          label=\"Create Missing Nodes\"\n          checked={edgeFile.createMissing}\n          disabled={this.state.available === ONLY_EDGE_FILE}\n          onChange={() => (edgeFile.createMissing = !edgeFile.createMissing)}\n        />\n        {edgeFile.ready && (\n          <div className=\"column-selection\">\n            <PreviewTable file={edgeFile} />\n            Column for Source ID:\n            <SimpleSelect\n              items={edgeFile.columns}\n              value={edgeFile.mapping.fromId}\n              onSelect={it => (edgeFile.mapping.fromId = it)}\n            />{\" \"}\n            <br />\n            Column for Target ID:\n            <SimpleSelect\n              items={edgeFile.columns}\n              value={edgeFile.mapping.toId}\n              onSelect={it => (edgeFile.mapping.toId = it)}\n            />\n          </div>\n        )}\n      </Collapsable>\n    );\n  };\n\n  updateDelimiter (newDelimiter) {\n    this.setState({delimiter: newDelimiter});\n\n    if (newDelimiter == \"\\\\t\") {\n      newDelimiter = \"\\t\"\n    }\n\n    appState.import.importConfig.edgeFile.delimiter = newDelimiter\n    appState.import.importConfig.nodeFile.delimiter = newDelimiter\n  }\n\n  renderDelimiterSelection() {\n    return (\n      <div className=\"column-selection\">\n        Selected Delimiter\n        <SimpleSelect\n          items={[\",\", \"\\\\t\", \";\"]}\n          value={this.state.delimiter}\n          onSelect={it => { this.updateDelimiter(it) }}\n        />{\" \"}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <Dialog\n        iconName=\"import\"\n        className={classnames({\n          [Classes.DARK]: appState.preferences.darkMode\n        })}\n        isOpen={appState.import.dialogOpen}\n        onClose={() => {\n          appState.import.dialogOpen = false;\n        }}\n        title=\"Import CSV\"\n      >\n        {appState.import.loading ? (\n          <Spinner />\n        ) : (\n          <div>\n            <div className={classnames(Classes.DIALOG_BODY, \"import-dialog\")}>\n              I have:\n              <SimpleSelect\n                items={[ONLY_EDGE_FILE, NODE_AND_EDGE_FILE]}\n                value={this.state.available}\n                onSelect={this.changeAvailable}\n              />\n              {this.renderNodesSelection()}\n              {this.renderEdgesSelection()}\n              {this.renderDelimiterSelection()}\n              <hr />\n              <PostImportOptions />\n            </div>\n            <div className={Classes.DIALOG_FOOTER}>\n              <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                <Button\n                  className={classnames({\n                    [Classes.DISABLED]: !this.canImport()\n                  })}\n                  intent={Intent.PRIMARY}\n                  onClick={() => {\n                    // TODO: this might be unsafe, check if there's racing condition\n\n                    //active layout when new graph imported\n                    appState.graph.runActiveLayout();\n\n                    requestCreateNewProject({\n                      name: appState.project.newProjectName,\n                      createdDate: new Date().toLocaleString(),\n                    });\n                    requestImportGraphFromCSV( //edgefile.delimiter and nodefile.delimiter are the same\n                      this.state.available === NODE_AND_EDGE_FILE, appState.import.importConfig.edgeFile.delimiter, appState.project.newProjectName\n                    );\n\n                    // Importing a graph means no label would be shown by default,\n                    // thus turn off label CSSRenderer for better performance.\n                    appState.graph.frame.turnOffLabelCSSRenderer();\n                  }}\n                  text=\"Import\"\n                />\n              </div>\n            </div>\n          </div>\n        )}\n      </Dialog>\n    );\n  }\n}\n\nexport default ImportDialog;","/* eslint-disable jsx-a11y/label-has-for */\nimport React from \"react\";\nimport {\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n  Spinner,\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport {\n  requestImportGraphFromGexf\n} from \"../ipc/client\";\nimport PostImportOptions from './PostImportOptions';\n\n@observer\nclass GEXFImportDialog extends React.Component {\n\n  renderImportButton() {\n    return (\n      <div className={Classes.DIALOG_FOOTER}>\n        <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n          <Button\n            className={classnames({\n              [Classes.DISABLED]: appState.import.selectedGexfFileFromInput == null\n            })}\n            intent={Intent.PRIMARY}\n            onClick={() => {\n              // Temp\n              \n               //active layout when new graph imported\n               appState.graph.runActiveLayout();\n\n              appState.import.loading = true;\n              requestImportGraphFromGexf();\n            }}\n            text=\"Import\"\n          />\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <Dialog\n        iconName=\"import\"\n        className={classnames({\n          [Classes.DARK]: appState.preferences.darkMode\n        })}\n        isOpen={appState.import.gexfDialogOpen}\n        onClose={() => {\n          appState.import.gexfDialogOpen = false;\n          appState.import.loading = false;\n        }}\n        title=\"Import GEXF\"\n      >\n        {appState.import.loading ? (\n          <Spinner />\n        ) : (\n          <div className={classnames(Classes.DIALOG_BODY, \"import-dialog\")}>\n            <div>\n              <div className={classnames(Classes.CONTROL_GROUP)}>\n                <div className={classnames(Classes.INPUT_GROUP, Classes.FILL)}>\n                <input\n                  type=\"file\"\n                  className={classnames(Classes.DISABLED)}\n                  onChange={(event) => {\n                    if (event.target.files.length < 1) {\n                      return;\n                    }\n                    appState.import.selectedGexfFileFromInput = event.target.files[0];\n                  }}\n                />\n              </div>\n            </div>\n            <hr />\n            <PostImportOptions />\n          </div>\n            {this.renderImportButton()}\n          </div>\n        )}\n      </Dialog>\n    );\n  }\n}\n\nexport default GEXFImportDialog;","/* eslint-disable jsx-a11y/label-has-for */\n\n/**\n * [Deprecated] This dialog is only used to open SQlite-based\n * graph file and optionally along with a snapshot file.\n * \n * For Argo-lite, which only has the JSON snapshot file,\n * use OpenSnapshotDialog.\n */\nimport React from \"react\";\nimport { Button, Classes, Dialog, Intent, Spinner } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport {\n  requestChooseGraphFile,\n  requestChooseStateFile,\n  requestOpen\n} from \"../ipc/client\";\nimport SimpleSelect from \"./utils/SimpleSelect\";\nimport {\n  GRAPH_AND_STATE_FILE,\n  ONLY_EDGE_FILE,\n  ONLY_GRAPH_FILE\n} from \"../constants\";\n\n@observer\nclass OpenDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      available: ONLY_GRAPH_FILE,\n      selectedGraph: null,\n      selectedState: null\n    };\n  }\n\n  canImport = () => {\n    if (this.state.available === GRAPH_AND_STATE_FILE) {\n      return appState.import.stateFile && appState.import.graphFile;\n    } else {\n      return appState.import.graphFile;\n    }\n    return false;\n  };\n\n  changeAvailable = targetValue => {\n    if (targetValue === ONLY_EDGE_FILE) {\n      appState.import.importConfig.edgeFile.createMissing = true;\n    }\n    this.setState({ available: targetValue });\n  };\n\n  renderSelectGraph = () => {\n    return (\n      <div className={classnames(Classes.CONTROL_GROUP)}>\n        <div className={classnames(Classes.INPUT_GROUP, Classes.FILL)}>\n          <input\n            type=\"text\"\n            className={classnames(Classes.DISABLED, Classes.INPUT)}\n            placeholder=\"Select graph file\"\n            readOnly\n            value={appState.import.graphFile}\n          />\n        </div>\n        <Button intent={Intent.PRIMARY} onClick={requestChooseGraphFile}>\n          Choose File\n        </Button>\n      </div>\n    );\n  };\n\n  renderSelectState = () => {\n    return (\n      <div className={classnames(Classes.CONTROL_GROUP)}>\n        <div className={classnames(Classes.INPUT_GROUP, Classes.FILL)}>\n          <input\n            type=\"text\"\n            className={classnames(Classes.DISABLED, Classes.INPUT)}\n            placeholder=\"Select snapshot file\"\n            readOnly\n            value={appState.import.stateFile}\n          />\n        </div>\n        <Button intent={Intent.PRIMARY} onClick={requestChooseStateFile}>\n          Choose File\n        </Button>\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <Dialog\n        iconName=\"import\"\n        className={classnames({\n          [Classes.DARK]: appState.preferences.darkMode\n        })}\n        isOpen={appState.preferences.openDialogOpen}\n        onClose={() => {\n          appState.preferences.openDialogOpen = false;\n        }}\n        title=\"Open File\"\n      >\n        {appState.import.loading ? (\n          <Spinner />\n        ) : (\n          <div>\n            <div className={classnames(Classes.DIALOG_BODY, \"import-dialog\")}>\n              I have:\n              <SimpleSelect\n                items={[GRAPH_AND_STATE_FILE, ONLY_GRAPH_FILE]}\n                value={this.state.available}\n                onSelect={this.changeAvailable}\n              />\n              {this.renderSelectGraph()}\n              {this.state.available === GRAPH_AND_STATE_FILE &&\n                this.renderSelectState()}\n            </div>\n            <div className={Classes.DIALOG_FOOTER}>\n              <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                <Button\n                  className={classnames({\n                    [Classes.DISABLED]: !this.canImport()\n                  })}\n                  intent={Intent.PRIMARY}\n                  onClick={() => {\n                    appState.preferences.openDialogOpen = false;\n                    requestOpen();\n                  }}\n                  text=\"Open\"\n                />\n              </div>\n            </div>\n          </div>\n        )}\n      </Dialog>\n    );\n  }\n}\n\nexport default OpenDialog;","import React from \"react\";\nimport {\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n  Spinner,\n  Switch\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\n\n@observer\nclass NewProjectDialog extends React.Component {\n  \n  render() {\n    const isNewProjectNameDuplicate = appState.project.projects.some(p => p.name === appState.project.newProjectName);\n    const isNewProjectNameEmpty = appState.project.newProjectName.trim() === '';\n    const isValidated = !(isNewProjectNameDuplicate || isNewProjectNameEmpty);\n  \n    return (\n      <Dialog\n        iconName=\"projects\"\n        isOpen={appState.project.isNewProjectDialogOpen}\n        onClose={() => {\n          appState.project.isNewProjectDialogOpen = false;\n        }}\n        title=\"Create New Project\"\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <label className=\"pt-label .modifier\">\n            Project Name\n            <span className=\"pt-text-muted\"> (required){isNewProjectNameDuplicate && ' (This name has already been taken!)'}</span>\n            <input\n              className=\"pt-input\"\n              type=\"text\"\n              placeholder=\"New Project\"\n              dir=\"auto\"\n              value={appState.project.newProjectName}\n              onChange={event => {\n                appState.project.newProjectName = event.target.value;\n              }}\n            />\n          </label>\n        </div>\n        <div className={Classes.DIALOG_FOOTER}>\n          <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button\n              className={classnames({\n                [Classes.DISABLED]: !isValidated\n              })}\n              intent={Intent.PRIMARY}\n              onClick={() => {\n                if (isValidated) {\n                  appState.project.isNewProjectDialogOpen = false;\n                  appState.import.dialogOpen = true;\n                }\n              }}\n              text=\"Next\"\n            />\n          </div>\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nexport default NewProjectDialog;","import React from \"react\";\nimport {\n  Button,\n  Classes,\n  Card,\n  Icon,\n  Dialog,\n  Intent,\n  Spinner\n} from \"@blueprintjs/core\";\nimport { requestOpen, requestDelete } from \"../ipc/client\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\n\n@observer\nclass ProjectDetailDialog extends React.Component {\n  render() {\n    return (\n      appState.project.currentProject && (\n        <Dialog\n          iconName=\"projects\"\n          isOpen={appState.project.isProjectDetailDialogOpen}\n          onClose={() => {\n            appState.project.isProjectDetailDialogOpen = false;\n          }}\n          title={`Load ${appState.project.currentProject.name} Project`}\n        >\n          {appState.project.currentProject.hasGraphData ? (\n            <div className={Classes.DIALOG_BODY}>\n              <Card\n                interactive={true}\n                elevation={Card.ELEVATION_TWO}\n                onClick={() => {\n                  appState.import.graphFile =\n                    appState.project.currentProject.graphDataPath;\n                  appState.project.isProjectDetailDialogOpen = false;\n                  requestOpen();\n                }}\n              >\n                <Icon iconName=\"graph\" /> Start fresh from original graph\n              </Card>\n              <hr />\n              <div className=\"argo-menu-list-header\">Load recent snapshots</div>\n              <div>\n                {appState.project.currentProject.snapshotPaths.map(\n                  snapshotPath => {\n                    return (\n                      <div key={snapshotPath}>\n                        <Card\n                          interactive={false}\n                          elevation={Card.ELEVATION_TWO}\n                        >\n                          {/* <Icon iconName=\"layout\" /> */}\n                          <h5>\n                            {snapshotPath\n                              .replace(/^.*[\\\\\\/]/, \"\")\n                              .replace(/\\.[^/.]+$/, \"\")}\n                          </h5>\n                          <Button\n                            className={classnames([\n                              Classes.BUTTON,\n                              Classes.INTENT_PRIMARY\n                            ])}\n                            onClick={() => {\n                              appState.import.graphFile =\n                                appState.project.currentProject.graphDataPath;\n                              appState.import.stateFile = snapshotPath;\n                              appState.project.currentSnapshotName = snapshotPath\n                                .replace(/^.*[\\\\\\/]/, \"\")\n                                .replace(/\\.[^/.]+$/, \"\");\n                              appState.project.isProjectDetailDialogOpen = false;\n                              requestOpen();\n                            }}\n                          >\n                            Load Snapshot\n                          </Button>\n                          <Button\n                            className={classnames([Classes.BUTTON])}\n                            onClick={() => {\n                                requestDelete(snapshotPath);\n                                appState.project.currentProject.snapshotPaths = appState.project.currentProject.snapshotPaths.filter(\n                                  path => path !== snapshotPath\n                                );\n                            }}\n                          >\n                            Delete\n                          </Button>\n                        </Card>\n                      </div>\n                    );\n                  }\n                )}\n              </div>\n            </div>\n          ) : (\n            <div>\n              Error: Cannot find .argograph file in this project directory.\n            </div>\n          )}\n        </Dialog>\n      )\n    );\n  }\n}\n\nexport default ProjectDetailDialog;","/**\n * [Argo-lite Modified]\n * In electron Argo, snapshots are saved to the active project folder.\n * In Argo-lite, snapshots are saved as a file download.\n * Sometimes, it's tricky to let browser download something without a backend\n * hosting the file. Thus we also allow user to copy paste from\n * a text area containing our snapshot JSON.\n * \n * Remember to change appState.project.stringCopyOfSnapshot\n * before showing the dialog.\n */\nimport React from \"react\";\nimport {\n  Button,\n  Classes,\n  Card,\n  Icon,\n  Dialog,\n  Intent,\n  Spinner\n} from \"@blueprintjs/core\";\nimport { requestSaveSnapshot } from \"../ipc/client\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\n\n@observer\nclass SaveSnapshotDialog extends React.Component {\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     name: \"Quick Save\",\n  //   };\n  // }\n\n  render() {\n    return (\n        <Dialog\n          iconName=\"projects\"\n          isOpen={appState.project.isSaveSnapshotDialogOpen}\n          onClose={() => {\n            appState.project.isSaveSnapshotDialogOpen = false;\n          }}\n          title={`Save Snapshot`}\n        >\n          <div className={classnames(Classes.DIALOG_BODY)}>\n            {/* <label className=\"pt-label .modifier\">\n              Snapshot Name\n              <span className=\"pt-text-muted\"> (required)</span>\n              <input\n                className=\"pt-input\"\n                type=\"text\"\n                placeholder=\"My Snapshot\"\n                dir=\"auto\"\n                value={this.state.name}\n                onChange={event => this.setState({ name: event.target.value })}\n              />\n            </label> */}\n            <p>If your browser doesn't start downloading the file, you can manually copy the content below and save to a plain text file.</p>\n            <input id=\"snapshot-textarea\" type=\"textarea\" value={appState.project.stringCopyOfSnapshot} readOnly />\n            <button\n              onClick={() => {\n                document.getElementById('snapshot-textarea').select();\n                document.execCommand(\"copy\");\n              }}\n            >\n              Copy to Clipboard\n            </button>\n          </div>\n\n          <div className={Classes.DIALOG_FOOTER}>\n            <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n              <Button\n                // className={classnames({\n                //   [Classes.DISABLED]: !this.state.name\n                // })}\n                intent={Intent.PRIMARY}\n                onClick={() => {\n                  appState.project.isSaveSnapshotDialogOpen = false;\n                }}\n                text=\"Done\"\n              />\n            </div>\n          </div>\n        </Dialog>\n    );\n  }\n}\n\nexport default SaveSnapshotDialog;","import React from \"react\";\nimport {\n  Button,\n  Classes,\n  Card,\n  Icon,\n  Dialog,\n  Intent,\n  Spinner\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\n\n@observer\nclass SaveSnapshotDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n    };\n  }\n\n  render() {\n    return (\n        <Dialog\n          iconName=\"projects\"\n          isOpen={appState.project.isRenameSnapshotDialogOpen}\n          onClose={() => {\n            appState.project.isRenameSnapshotDialogOpen = false;\n          }}\n          title={`Rename Snapshot`}\n        >\n          <div className={classnames(Classes.DIALOG_BODY)}>\n            <label className=\"pt-label .modifier\">\n              Snapshot Name\n              <span className=\"pt-text-muted\"> (required)</span>\n              <input\n                className=\"pt-input\"\n                type=\"text\"\n                placeholder=\"My Snapshot\"\n                dir=\"auto\"\n                value={this.state.name}\n                onChange={event => this.setState({ name: event.target.value })}\n              />\n            </label>\n          </div>\n\n          <div className={Classes.DIALOG_FOOTER}>\n            <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n              <Button\n                className={classnames({\n                  [Classes.DISABLED]: !this.state.name\n                })}\n                intent={Intent.PRIMARY}\n                onClick={() => {\n                  appState.graph.metadata.snapshotName = this.state.name;\n                  appState.project.isRenameSnapshotDialogOpen = false;\n                }}\n                text=\"Done\"\n              />\n            </div>\n          </div>\n        </Dialog>\n    );\n  }\n}\n\nexport default SaveSnapshotDialog;","/**\n * [Argo-lite] Open the Argo-lite JSON graph snapshot file\n */\nimport React from \"react\";\nimport { Button, Classes, Dialog, Intent } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport SimpleSelect from \"./utils/SimpleSelect\";\nimport { toaster } from '../notifications/client';\n\n@observer\nclass OpenSnapshotDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        selectedFile: null\n    };\n  }\n\n  render() {\n    return (\n      <Dialog\n        iconName=\"import\"\n        className={classnames({\n          [Classes.DARK]: appState.preferences.darkMode\n        })}\n        isOpen={appState.preferences.openSnapshotDialogOpen}\n        onClose={() => {\n          appState.preferences.openSnapshotDialogOpen = false;\n        }}\n        title=\"Open File\"\n      >\n        <div>\n            <div className={classnames(Classes.DIALOG_BODY)}>\n                <div className={classnames(Classes.CONTROL_GROUP)}>\n                    <div className={classnames(Classes.INPUT_GROUP, Classes.FILL)}>\n                        <input\n                            type=\"file\"\n                            className={classnames(Classes.DISABLED)}\n                            onChange={(event) => {\n                                if (event.target.files.length < 1) {\n                                    return;\n                                }\n                                this.setState({\n                                    selectedFile: event.target.files[0]\n                                });\n                            }}\n                        />\n                    </div>\n                </div>\n            </div>\n            <div className={Classes.DIALOG_FOOTER}>\n              <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                <Button\n                  className={classnames({\n                    [Classes.DISABLED]: !this.state.selectedFile\n                  })}\n                  intent={Intent.PRIMARY}\n                  onClick={() => {\n                    // This dialog is closed when user is done selecting file\n                    appState.preferences.openSnapshotDialogOpen = false;\n\n                    // Show user a notification\n                    toaster.show({\n                        message: 'Loading Graph Snapshot. Please wait...',\n                        intent: Intent.NONE,\n                        timeout: 2000\n                    });\n                    \n                    // Read the file and load snapshot\n                    const reader = new FileReader();\n                    reader.readAsText(this.state.selectedFile);\n\n                    reader.onload = () => {\n                        const fileAsString = reader.result;\n                        appState.graph.loadImmediateStates(fileAsString);\n                    }\n                  }}\n                  text=\"Open\"\n                />\n              </div>\n            </div>\n          </div>\n      </Dialog>\n    );\n  }\n}\n\nexport default OpenSnapshotDialog;","import React from \"react\";\nimport {\n    Button,\n    Classes,\n    Card,\n    Icon,\n    Dialog,\n    Intent,\n    Spinner\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport { toaster } from '../notifications/client';\nimport * as Blueprint from \"@blueprintjs/core\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport { BACKEND_URL } from \"../constants\";\n\nconst uuidv4 = require('uuid/v4');\n\n@observer\nclass ShareDialog extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isShared: false,\n            isFetching: false,\n            sharedURL: 'Error: Sharing failed',\n            selectedContinue: false,\n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n    }\n\n\n\n\n    async handleRequest(uuid) {\n        // return await new Promise(resolve => setTimeout(resolve, 2000));\n        const backendURL = `${BACKEND_URL}/snapshots`;\n        // TODO: add better error handling\n        return await fetch(backendURL, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            referrer: 'no-referrer',\n            body: JSON.stringify({\n                uuid,\n                body: window.saveSnapshotToString()\n            }),\n        }).then(response => response.ok).catch(error => {\n            toaster.show({\n                message: 'Failed to publish to sharing server. Unexpected error.',\n                intent: Intent.DANGER,\n                timeout: -1\n            });\n        });\n    }\n\n    render() {\n\n\n\n        return (\n            <Dialog\n                iconName=\"projects\"\n                isOpen={appState.preferences.shareDialogOpen}\n                onClose={() => {\n                    appState.preferences.shareDialogOpen = false;\n                    this.setState({\n                        ...this.state,\n                        selectedContinue: false,\n                    });\n                }}\n                title={`Share Graph Snapshot`}\n                style={{ width: !this.state.selectedContinue ? 735 : 580 }}\n            >\n                <div className={classnames(Classes.DIALOG_BODY)}>\n                    {\n                        !this.state.selectedContinue && (\n                            <div>\n                                <p style={{ display: \"inline\", marginRight: \"20px\" }}>You can share your snapshot as\n                        <b> a public URL</b>, an <b> HTML iframe</b>, or a <b>Jupyter Notebook IFrame</b></p>\n                                {\n                                    !this.state.selectedContinue && (\n                                        <Button\n                                            className={classnames({\n                                                [Classes.DISABLED]: this.state.isFetching\n                                            })}\n                                            intent={Intent.PRIMARY}\n                                            onClick={async () => {\n                                                this.setState({ isFetching: true });\n                                                // Generate a random UUID\n                                                const uuid = uuidv4();\n                                                // Generate URL corresponding to the UUID\n                                                const sharedURL = `https://poloclub.github.io/argo-graph-lite/#${uuid}`;\n\n                                                // Wait for backend response\n                                                const requestSuccess = await this.handleRequest(uuid);\n                                                // Update local state\n                                                if (requestSuccess) {\n                                                    this.setState({ isFetching: false, isShared: true, sharedURL });\n                                                } else {\n                                                    // request fails, toast fires\n                                                    this.setState({ isFetching: false, isShared: false });\n                                                    toaster.show({\n                                                        message: 'Failed to publish to sharing server. Please try again later.',\n                                                        intent: Intent.DANGER,\n                                                        timeout: -1\n                                                    });\n                                                }\n                                                this.setState({\n                                                    ...this.state,\n                                                    selectedContinue: true,\n                                                });\n                                            }}\n                                            text=\"Continue\"\n                                        />\n                                    )\n                                }\n                                <hr />\n                                {/**pt-callout pt-intent-primary .modifier */}\n                                <div className=\"pt-callout pt-intent-warning\" style={{marginBottom: \"20px\",}}>\n                                    <p className=\"pt-callout-title\">This snapshot is static, like taking a photo of your visualization. This means that if your graph is changed in any ways (e.g., move nodes around) after creating a URL and you want to re-share those updates, you will need to create a new URL by selecting <b>Share Again to a new URL</b> in the next window.</p>\n                                </div>\n                                <div className=\"pt-callout pt-intent-danger\">\n                                    <p className=\"pt-callout-title \"><b>IMPORTANT!</b> This will make your graph snapshot public. If you are working with sensitive data (with custom access control), or large data (>400MB), please follow our guide on Github to easily deploy your own sharing server.</p>\n                                </div>\n                            </div>\n                        )\n                    }\n                    {\n                        this.state.isFetching && (\n                            <p style={{marginTop: \"10px\"}}><b>Sharing in progress. Please wait...</b></p>\n                        )\n                    }\n                    {\n                        this.state.selectedContinue && (\n                            <div>\n                                {/** graph URL */}\n                        Your current snapshot has been shared to\n                                <br />\n                                <input\n                                    id=\"snapshot-textarea\"\n                                    type=\"textarea\"\n                                    value={this.state.sharedURL}\n                                    readOnly\n                                    style={{\n                                        width: '400px',\n                                        marginTop: \"5px\"\n                                    }}\n                                />\n                                <button\n                                    onClick={() => {\n                                        document.getElementById('snapshot-textarea').select();\n                                        document.execCommand(\"copy\");\n                                    }}\n                                    className=\"copy-to-clipboard\"\n                                >\n                                    Copy to Clipboard\n                        </button>\n                                <br />\n                                <hr />\n\n                                {/** Embedding as HTML iframe */}\n                        Embed as an <b>HTML iframe</b>:\n                                <br />\n                                <input\n                                    id=\"iframe-html-textarea\"\n                                    type=\"textarea\"\n                                    value={`<iframe src=\"${this.state.sharedURL}\" width=\"850\" height=\"500\"></iframe>`}\n                                    style={{\n                                        width: '400px',\n                                        marginTop: \"5px\"\n                                    }}\n                                    readOnly\n                                />\n                                <button\n                                    onClick={() => {\n                                        document.getElementById('iframe-html-textarea').select();\n                                        document.execCommand(\"copy\");\n                                    }}\n                                    className=\"copy-to-clipboard\"\n                                >\n                                    Copy to Clipboard\n                        </button>\n                                <br />\n                                <hr />\n\n                                {/** Embedding as Jupyter Notebook IFrame */}\n                        Embed as a <b>Jupyter Notebook IFrame</b>:\n                                <br />\n                                <textarea\n                                    id=\"iframe-jupyter-textarea\"\n                                    rows=\"2\"\n                                    cols=\"60\"\n                                    style={{\n                                        overflow: \"hidden\",\n                                        marginTop: \"5px\",\n                                        width: \"400px\",\n                                        resize: \"none\"\n                                    }}\n                                    readonly=\"true\"\n                                    value={`from IPython.display import IFrame` + \"\\n\" + `IFrame(\"${this.state.sharedURL}\", width=700, height=350)`} />\n                                <button\n                                    onClick={() => {\n                                        document.getElementById('iframe-jupyter-textarea').select();\n                                        document.execCommand(\"copy\");\n                                    }}\n                                    className=\"copy-to-clipboard\"\n                                    style={{\n                                        position: \"absolute\",\n                                        marginTop: \"20px\",\n                                    }}\n                                >\n                                    Copy to Clipboard\n                        </button>\n                            </div>\n                        )\n                    }\n                </div>\n\n                <div className={Classes.DIALOG_FOOTER}>\n                    <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                        {\n                            this.state.selectedContinue && (\n\n\n                                <Button\n                                    className={classnames({\n                                        [Classes.DISABLED]: this.state.isFetching\n                                    })}\n                                    intent={Intent.PRIMARY}\n                                    onClick={async () => {\n                                        this.setState({ isFetching: true, isShared: false });\n                                        // Generate a random UUID\n                                        const uuid = uuidv4();\n                                        // Generate URL corresponding to the UUID\n                                        const sharedURL = `https://poloclub.github.io/argo-graph-lite/#${uuid}`;\n\n                                        // Wait for backend response\n                                        const requestSuccess = await this.handleRequest(uuid);\n                                        // Update local state\n                                        if (requestSuccess) {\n                                            this.setState({ isFetching: false, isShared: true, sharedURL });\n                                        } else {\n                                            // request fails, toast fires\n                                            this.setState({ isFetching: false, isShared: false });\n                                            toaster.show({\n                                                message: 'Failed to publish to sharing server. Please try again later.',\n                                                intent: Intent.DANGER,\n                                                timeout: -1\n                                            });\n                                        }\n\n                                    }}\n                                    text=\"Share Snapshot as New URL\"\n                                />\n                            )\n                        }\n\n                    </div>\n                </div>\n\n\n                <style dangerouslySetInnerHTML={{\n                    __html:\n                        `\n                    .copy-to-clipboard{\n                        margin-top: 5px;\n                        margin-left: 5px;\n                        border-style: solid;\n                    }\n                    \n            `}} />\n            </Dialog>\n        );\n    }\n}\n\nexport default ShareDialog;","import React from \"react\";\nimport {\n  Button,\n  Classes,\n  Card,\n  Icon,\n  Dialog,\n  Intent,\n  Spinner,\n  Switch\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\n\n@observer\nclass StatisticsDialog extends React.Component {\n//   constructor(props) {\n//     super(props);\n//   }\n\n  render() {\n    return (\n        <Dialog\n          iconName=\"projects\"\n          isOpen={appState.preferences.statisticsDialogOpen}\n          onClose={() => {\n            appState.preferences.statisticsDialogOpen = false;\n          }}\n          title={`Statistics`}\n        >\n          <div className={classnames(Classes.DIALOG_BODY)}>\n            <table className={Classes.TABLE} style={{width: '100%'}}>\n                <thead>\n                    <tr>\n                        <th>Statistics</th>\n                        <th>Value</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td># Nodes</td>\n                        <td>{appState.graph.metadata.fullNodes}</td>\n                    </tr>\n                    <tr>\n                        <td># Edges</td>\n                        <td>{appState.graph.metadata.fullEdges}</td>\n                    </tr>\n                    <tr>\n                        <td>Average Degree</td>\n                        <td>\n                          {appState.graph.hasGraph ? appState.graph.degree : 'loading graph'}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Graph Density</td>\n                        <td>\n                          {appState.graph.hasGraph ? appState.graph.density : 'loading graph'}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Graph Diameter</td>\n                        <td>\n                          {appState.graph.hasGraph ? appState.graph.diameter : 'loading graph'}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Clustering Coefficient</td>\n                        <td>{(appState.graph.hasGraph & appState.preferences.statisticsDialogOpen) ? appState.graph.averageClustering : 'loading graph'}</td>\n                    </tr>\n                    <tr>\n                        <td>Connected Component</td>\n                        <td>{(appState.graph.hasGraph & appState.preferences.statisticsDialogOpen) ? appState.graph.components : 'loading graph'}</td>\n\n                    </tr>\n                </tbody>\n            </table>\n          </div>\n\n          <div className={Classes.DIALOG_FOOTER}>\n            <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n              <Button\n                intent={Intent.PRIMARY}\n                onClick={() => {\n                  appState.preferences.statisticsDialogOpen = false;\n                }}\n                text=\"Done\"\n              />\n            </div>\n          </div>\n        </Dialog>\n    );\n  }\n}\n\nexport default StatisticsDialog;","import React from \"react\";\nimport {\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\n\n@observer\nclass HelpDialog extends React.Component {\n\n  render() {\n    return (\n        <Dialog\n          iconName=\"help\"\n          isOpen={appState.preferences.helpDialogOpen}\n          onClose={() => {\n            appState.preferences.helpDialogOpen = false;\n          }}\n          title={`Help`}\n        >\n          <div className={classnames(Classes.DIALOG_BODY)}>\n            Argo supports both mouse/trackpad and touchscreen.\n            <div className=\"argo-table-container\">\n              <table className=\"argo-table-container__table pt-table pt-bordered pt-striped\">\n                <thead>\n                  <tr>\n                    <th>Basic Operation</th>\n                    <th>Mouse</th>\n                    <th>Touchscreen</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>Zoom</td>\n                    <td>Mouse wheel</td>\n                    <td>2 finger zoom gesture</td>\n                  </tr>\n                  <tr>\n                    <td>Pan</td>\n                    <td>Drag with right mouse button down OR Move mouse with space key pressed</td>\n                    <td>Drag with 3 finger</td>\n                  </tr>\n                  <tr>\n                    <td>Select single node (view details)</td>\n                    <td>Single Click</td>\n                    <td>Tap with 1 finger</td>\n                  </tr>\n                  <tr>\n                    <td>Select multiple nodes</td>\n                    <td>Drag left mouse button from empty area</td>\n                    <td>Drag 1 finger from empty area</td>\n                  </tr>\n                  <tr>\n                    <td>Drag nodes</td>\n                    <td>Drag with left mouse button down</td>\n                    <td>Drag with 1 finger</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            \n          </div>\n\n          <div className={Classes.DIALOG_FOOTER}>\n            <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n              <Button\n                intent={Intent.PRIMARY}\n                onClick={() => {\n                  appState.preferences.helpDialogOpen = false;\n                }}\n                text=\"Done\"\n              />\n            </div>\n          </div>\n        </Dialog>\n    );\n  }\n}\n\nexport default HelpDialog;","import React from \"react\";\nimport {\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n  Switch,\n  ButtonGroup\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport SimpleSelect from \"./utils/SimpleSelect\";\n\n@observer\nclass NodeTable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sortBy: 'pagerank',\n            sortOrder: 'descending', // or 'ascending'\n        };\n    }\n\n  render() {\n    let filteredNodes = this.props.nodes;\n    \n    filteredNodes.sort((n1, n2) => {\n        const n1val = n1[this.state.sortBy];\n        const n2val = n2[this.state.sortBy];\n        if (n1val && n2val) {\n            // Check if these are numerical fields, if so sort by number.\n            const n1valAsNum = Number(n1val);\n            const n2valAsNum = Number(n2val);\n            if (!Number.isNaN(n1valAsNum) && !Number.isNaN(n2valAsNum)) {\n                // both values are numeric, compare by their value.\n                if (this.state.sortOrder === 'descending') {\n                    return n2valAsNum - n1valAsNum;\n                }\n                return n1valAsNum - n2valAsNum;\n            } else {\n                // not all values are numeric, sort by string order.\n                const n1valAsString = n1val.toString();\n                const n2valAsString = n2val.toString();\n                return (this.state.sortOrder === 'descending' ? -1 : 1) * n1valAsString.localeCompare(n2valAsString);\n            }\n        }\n        return 0;\n    });\n\n    const nodeAttributesOrig = appState.graph.allPropertiesKeyList.filter((k) => k !== 'pagerank' && k !== 'degree');\n    \n    return (\n            <div className=\"argo-table-container\">\n                Sort By {' '}\n                <SimpleSelect\n                    items={['pagerank', 'degree', ...nodeAttributesOrig]}\n                    value={this.state.sortBy}\n                    onSelect={(selected) => {\n                        this.setState({sortBy: selected});\n                    }}\n                />\n                <SimpleSelect\n                    items={['descending', 'ascending']}\n                    value={this.state.sortOrder}\n                    onSelect={(selected) => {\n                        this.setState({sortOrder: selected});\n                    }}\n                />\n                <table className=\"argo-table-container__table pt-table pt-bordered pt-striped\">\n                    <thead>\n                        <tr>\n                            <th><b>Show</b></th>\n                            <th><b>Node ID</b></th>\n                            {\n                                appState.graph.allPropertiesKeyList.map((it, i) => {\n                                    if (it !== 'id') {\n                                        return <th key={`${it}-${i}`}>{it}</th>;\n                                    }\n                                    return null;\n                                })\n                            }\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            filteredNodes.map((node) => (\n                                <tr key={node.id}>\n                                    <td>\n                                        <Switch\n                                            checked={!node.isHidden}\n                                            onChange={() => {\n                                                if (node.isHidden) {\n                                                    appState.graph.showNodes([node.id]);\n                                                } else {\n                                                    appState.graph.hideNodes([node.id]);\n                                                }\n                                            }}\n                                        />\n                                    </td>\n                                    <td>{node.id}</td>\n                                    {\n                                        appState.graph.allPropertiesKeyList.map((it, i) => {\n                                            if (it !== 'id') {\n                                                return <td key={`${it}-${i}`}>{node[it]}</td>\n                                            }\n                                        })\n                                    }\n                                </tr>\n                            ))\n                        }\n                    </tbody>\n                </table>\n            </div>\n    );\n  }\n}\n\nexport default NodeTable;","import React from \"react\";\nimport {\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n  ButtonGroup,\n  NumericInput,\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport NodeTable from './NodeTable';\nimport SimpleSelect from \"./utils/SimpleSelect\";\n\n@observer\nclass NeighborDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showMoreBy: 'pagerank',\n      showMoreNum: 5,\n    };\n  }\n\n  render() {\n    // Compare function for nodes used for sorting descendingly.\n    const compareByPageRank = (n1, n2) => {\n        if (n1[\"pagerank\"] && n2[\"pagerank\"]) {\n            return n2[\"pagerank\"] - n1[\"pagerank\"];\n        }\n        return 0;\n    };\n\n    let filteredNodes = [];\n    // When only one node is selected, show the neighbors of this selected node.\n    if (appState.graph.lastSelectedSingleNode) {\n        const selectedNodeId = appState.graph.lastSelectedSingleNode.data.ref.id.toString();\n        filteredNodes = appState.graph.getNeighborNodesFromRawGraph(selectedNodeId);\n\n        // Sort by pagerank if available.\n        filteredNodes.sort(compareByPageRank);\n    }\n\n    const showNMoreByAttribute = (numberToShow, attributeName) => {\n      const hiddenNodes = filteredNodes.filter(n => n.isHidden);\n      hiddenNodes.sort((n1, n2) => {\n        if (n1[attributeName] && n2[attributeName]) {\n            return n2[attributeName] - n1[attributeName];\n        }\n        return 0;\n      });\n      const ids = [];\n      for (let i = 0; i < numberToShow && i < hiddenNodes.length; i++) {\n          ids.push(hiddenNodes[i].id);\n      }\n      appState.graph.showNodes(ids);\n    };\n    \n    return (\n        <Dialog\n          iconName=\"graph\"\n          isOpen={appState.preferences.neighborDialogOpen}\n          onClose={() => {\n            appState.preferences.neighborDialogOpen = false;\n          }}\n          title='Neighbors'\n          style={{minWidth: '80vw'}}\n        >\n          <div className={classnames(Classes.DIALOG_BODY)}>\n\n            <ButtonGroup>\n                <Button onClick={() => {appState.graph.showNodes(filteredNodes.map(n => n.id))}}>Show All</Button>\n                <Button onClick={() => {appState.graph.hideNodes(filteredNodes.map(n => n.id))}}>Hide All</Button>\n            </ButtonGroup>\n\n            <hr />\n\n            <div>\n              <Button\n              style={{display: 'inline'}}\n              intent={Intent.PRIMARY}\n              text='Show'\n              onClick={() => {\n                showNMoreByAttribute(this.state.showMoreNum, this.state.showMoreBy);\n              }} /> <NumericInput onValueChange={(valAsNumber, valAsString) => {this.setState({showMoreNum: Number(valAsString)})}} value={this.state.showMoreNum} style={{display: 'inline-flex', width: '30px'}} /> {' '}\n              more nodes with highest <SimpleSelect items={['pagerank', 'degree']} value={this.state.showMoreBy} onSelect={(selected) => {this.setState({showMoreBy: selected})}} />\n            </div>\n\n            <hr />\n\n            <NodeTable nodes={filteredNodes} />\n          </div>\n\n          <div className={Classes.DIALOG_FOOTER}>\n            <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n              <Button\n                intent={Intent.PRIMARY}\n                onClick={() => {\n                  appState.preferences.neighborDialogOpen = false;\n                }}\n                text=\"Done\"\n              />\n            </div>\n          </div>\n        </Dialog>\n    );\n  }\n}\n\nexport default NeighborDialog;","import React from \"react\";\nimport {\n  Button,\n  Classes,\n  Dialog,\n  Intent,\n  ButtonGroup,\n  NumericInput,\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores/index\";\nimport NodeTable from './NodeTable';\nimport SimpleSelect from \"./utils/SimpleSelect\";\n\n\n@observer\nclass DataSheetDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showMoreBy: 'pagerank',\n      showMoreNum: 5,\n    };\n  }\n\n  render() {\n    let filteredNodes = [...appState.graph.rawGraph.nodes];\n\n    const showNMoreByAttribute = (numberToShow, attributeName) => {\n      const hiddenNodes = filteredNodes.filter(n => n.isHidden);\n      hiddenNodes.sort((n1, n2) => {\n        if (n1[attributeName] && n2[attributeName]) {\n            return n2[attributeName] - n1[attributeName];\n        }\n        return 0;\n      });\n      const ids = [];\n      for (let i = 0; i < numberToShow && i < hiddenNodes.length; i++) {\n          ids.push(hiddenNodes[i].id);\n      }\n      appState.graph.showNodes(ids);\n    };\n    \n    return (\n        <Dialog\n          iconName=\"database\"\n          isOpen={appState.preferences.dataSheetDialogOpen}\n          onClose={() => {\n            appState.preferences.dataSheetDialogOpen = false;\n          }}\n          title='Data Sheet'\n          style={{minWidth: '80vw'}}\n        >\n          <div className={classnames(Classes.DIALOG_BODY)}>\n\n            <ButtonGroup>\n                <Button onClick={() => {appState.graph.showNodes(filteredNodes.map(n => n.id))}}>Show All</Button>\n                <Button onClick={() => {appState.graph.hideNodes(filteredNodes.map(n => n.id))}}>Hide All</Button>\n            </ButtonGroup>\n\n            <hr />\n\n            <div>\n              <Button\n              style={{display: 'inline'}}\n              intent={Intent.PRIMARY}\n              text='Show'\n              onClick={() => {\n                showNMoreByAttribute(this.state.showMoreNum, this.state.showMoreBy);\n              }} /> <NumericInput onValueChange={(valAsNumber, valAsString) => {this.setState({showMoreNum: Number(valAsString)})}} value={this.state.showMoreNum} style={{display: 'inline-flex', width: '30px'}} /> {' '}\n              more nodes with highest <SimpleSelect items={['pagerank', 'degree']} value={this.state.showMoreBy} onSelect={(selected) => {this.setState({showMoreBy: selected})}} />\n            </div>\n\n            <hr />\n\n            <NodeTable nodes={filteredNodes} />\n          </div>\n\n          <div className={Classes.DIALOG_FOOTER}>\n            <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n              <Button\n                intent={Intent.PRIMARY}\n                onClick={() => {\n                  appState.preferences.dataSheetDialogOpen = false;\n                }}\n                text=\"Done\"\n              />\n            </div>\n          </div>\n        </Dialog>\n    );\n  }\n}\n\nexport default DataSheetDialog;","import React from \"react\";\nimport PreferencesDialog from \"./PreferencesDialog\";\nimport ImportDialog from \"./ImportDialog\";\nimport GEXFImportDialog from \"./GEXFImportDialog\"\nimport OpenDialog from \"./OpenDialog\";\nimport NewProjectDialog from \"./NewProjectDialog\";\nimport ProjectDetailDialog from \"./ProjectDetailDialog\";\nimport SaveSnapshotDialog from \"./SaveSnapshotDialog\";\nimport RenameSnapshotDialog from \"./RenameSnapshotDialog\";\nimport OpenSnapshotDialog from \"./OpenSnapshotDialog\";\nimport ShareDialog from './ShareDialog';\nimport StatisticsDialog from './StatisticsDialog';\nimport HelpDialog from './HelpDialog';\nimport NeighborDialog from './NeighborDialog';\nimport DataSheetDialog from './DataSheetDialog';\n\nexport default class Dialogs extends React.Component {\n  render() {\n    return (\n      <div style={{ display: \"none\" }}>\n        <PreferencesDialog />\n        <ImportDialog />\n        <GEXFImportDialog />\n        <OpenDialog />\n        <OpenSnapshotDialog />\n        <NewProjectDialog />\n        <ProjectDetailDialog />\n        <SaveSnapshotDialog />\n        <RenameSnapshotDialog />\n        <ShareDialog />\n        <StatisticsDialog />\n        <HelpDialog />\n        <NeighborDialog />\n        <DataSheetDialog />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport {\n  Button,\n  Callout,\n  Classes,\n  InputGroup,\n  Intent,\n  Position,\n  Tooltip,\n  Popover,\n  Menu,\n  MenuItem,\n  MenuDivider\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\n\nimport appState from \"../stores/index\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\nimport argologo_dark from '../images/new_argologo_dark.svg';\nimport argologo_light from '../images/new_argologo_light.svg';\nimport { toaster } from '../notifications/client';\nimport { LOGO_URL, GITHUB_URL, SAMPLE_GRAPH_SNAPSHOTS } from '../constants';\n\n@observer\nclass RegularNavbar extends React.Component {\n  state = {\n    eolDismissed: false\n  };\n\n  dismissEol = () => {\n    this.setState({ eolDismissed: true });\n  };\n\n  render() {\n    return (\n      <nav className={classnames([Classes.NAVBAR])}>\n        <div className={classnames([Classes.NAVBAR_GROUP, Classes.ALIGN_LEFT])}>\n          <a href={LOGO_URL} target=\"_blank\">\n            <img title=\"Argo Lite\" id=\"Argo logo\" \n            src={appState.preferences.darkMode ? argologo_dark : argologo_light}\n            height=\"28\"></img>\n          </a>\n          <div className={classnames([Classes.NAVBAR_HEADING])}></div>\n          {/* <a\n            href=\"https://poloclub.github.io/argo-graph/\"\n            target='_blank'\n            style={{\n              padding: '6px 10px 6px 10px',\n              backgroundColor: 'pink',\n              color: 'white',\n              borderRadius: '4px',\n              textDecoration: 'none'\n            }}\n          >\n            Learn more about Argo\n          </a> */}\n          <Popover\n            content={\n              <Menu>\n                <MenuItem text=\"Load Sample\" iconName=\"graph\">\n                  {\n                    SAMPLE_GRAPH_SNAPSHOTS.map((sample) => {\n                      const sampleSnapshotTitle = sample[0];\n                      const sampleSnapshotStrapiUuid = sample[1];\n\n                      return (\n                        <MenuItem\n                          key={sampleSnapshotTitle}\n                          iconName=\"graph\"\n                          text={sampleSnapshotTitle}\n                          onClick={() => {\n                            window.loadAndDisplaySnapshotFromStrapi(sampleSnapshotStrapiUuid);\n                          }}\n                        />\n                      );\n                    })\n                  }\n\n                </MenuItem>\n                <MenuDivider />\n                <MenuItem\n                  iconName=\"import\"\n                  text=\"Import from CSV...\"\n                  onClick={() => (appState.import.dialogOpen = true)}\n                />\n                <MenuItem\n                  iconName=\"import\"\n                  text=\"Import from GEXF...\"\n                  onClick={() => (appState.import.gexfDialogOpen = true)}\n                />\n                <MenuDivider />\n                <MenuItem\n                  iconName=\"pt-icon-document-open\"\n                  text=\"Open Snapshot\"\n                  onClick={() => { appState.preferences.openSnapshotDialogOpen = true }}\n                />\n                <MenuItem\n                  iconName=\"download\"\n                  text=\"Save Snapshot\"\n                  onClick={() => {\n                    appState.project.stringCopyOfSnapshot = appState.graph.saveImmediateStates();\n                    appState.project.isSaveSnapshotDialogOpen = true\n                  }}\n                />\n                <MenuItem\n                  iconName=\"pt-icon-document-share\"\n                  text=\"Publish and Share Snapshot\"\n                  onClick={() => { appState.preferences.shareDialogOpen = true }}\n                />\n              </Menu>\n            }\n            position={Position.BOTTOM}\n          >\n            <Button\n              className={classnames([Classes.BUTTON, Classes.MINIMAL])}\n              iconName=\"document\"\n            >\n              Graph\n            </Button>\n          </Popover>\n          <Popover\n            content={\n              <Menu>\n                <MenuItem\n                  text=\"Data Sheet\"\n                  iconName=\"pt-icon-database\"\n                  onClick={() => {\n                    appState.graph.frame.pauseLayout();\n                    appState.preferences.dataSheetDialogOpen = true;\n                    this.forceUpdate();\n                  }}\n                />\n                <MenuItem\n                  text=\"Statistics\"\n                  iconName=\"pt-icon-timeline-bar-chart\"\n                  onClick={() => { appState.preferences.statisticsDialogOpen = true }}\n                />\n                <MenuItem text=\"Filters\" iconName=\"graph\">\n                  <MenuItem\n                    text=\"Show All Nodes\"\n                    onClick={() => {\n                      appState.graph.showNodes(appState.graph.rawGraph.nodes.map(n => n.id));\n                    }}\n                  />\n                  <MenuItem\n                    text=\"Show only nodes with top 5 PageRank\"\n                    onClick={() => {\n                      appState.graph.hideNodes(appState.graph.rawGraph.nodes.map(n => n.id));\n                      const sortedNodeList = [...appState.graph.rawGraph.nodes];\n                      sortedNodeList.sort((n1, n2) => {\n                        if (n1[\"pagerank\"] && n2[\"pagerank\"]) {\n                          return n2[\"pagerank\"] - n1[\"pagerank\"];\n                        }\n                        return 0;\n                      });\n                      const ids = [];\n                      for (let i = 0; i < 5 && i < sortedNodeList.length; i++) {\n                        ids.push(sortedNodeList[i].id);\n                      }\n                      appState.graph.showNodes(ids);\n                    }}\n                  />\n                  <MenuItem\n                    text=\"Show only nodes with top 5 Degree\"\n                    onClick={() => {\n                      appState.graph.hideNodes(appState.graph.rawGraph.nodes.map(n => n.id));\n                      const sortedNodeList = [...appState.graph.rawGraph.nodes];\n                      sortedNodeList.sort((n1, n2) => {\n                        if (n1[\"degree\"] && n2[\"degree\"]) {\n                          return n2[\"degree\"] - n1[\"degree\"];\n                        }\n                        return 0;\n                      });\n                      const ids = [];\n                      for (let i = 0; i < 5 && i < sortedNodeList.length; i++) {\n                        ids.push(sortedNodeList[i].id);\n                      }\n                      appState.graph.showNodes(ids);\n                    }}\n                  />\n                  <MenuItem\n                    text=\"Hide All Nodes\"\n                    onClick={() => {\n                      appState.graph.hideNodes(appState.graph.rawGraph.nodes.map(n => n.id));\n                    }}\n                  />\n                </MenuItem>\n              </Menu>\n            }\n            position={Position.BOTTOM}\n          >\n            <Button\n              className={classnames([Classes.BUTTON, Classes.MINIMAL])}\n              iconName=\"pt-icon-wrench\"\n            >\n              Tools\n            </Button>\n          </Popover>\n        </div>\n        <div className={classnames([Classes.NAVBAR_GROUP, Classes.ALIGN_LEFT])}>\n          <span className={Classes.NAVBAR_DIVIDER} />\n          {appState.graph.hasGraph && appState.graph.frame && (\n            <div style={{ display: \"inline\" }}>\n              \n              {/** Smart Pause functionality: pauses graph when no interaction */}\n              {(() => {\n              let self = this;\n              setInterval(function () {\n                  let timeNow = Date.now();\n                  /**stops initial default active layout*/\n                  if(appState.graph.smartPause.defaultActive.isActive) {\n                    if(timeNow - appState.graph.smartPause.defaultActive.startTime > appState.graph.smartPause.defaultActive.duration\n                      || appState.graph.smartPause.interactingWithGraph) {\n                      appState.graph.smartPause.defaultActive.isActive = false;\n                    }\n                  } else {\n                      /**smart pausing*/\n                    if(!appState.graph.frame.paused && \n                      !appState.graph.smartPause.interactingWithGraph){\n                        appState.graph.frame.pauseLayout();\n                        appState.graph.frame.paused = true;\n                        appState.graph.smartPause.smartPaused = true;\n                        self.forceUpdate();\n                    }\n                    /**old code using lastUnpaused:*/\n                    /**\n                     * if(!appState.graph.frame.paused && \n                      appState.graph.smartPause.lastUnpaused && \n                      !appState.graph.smartPause.interactingWithGraph && timeNow - appState.graph.smartPause.lastUnpaused > 300){\n                        appState.graph.frame.pauseLayout();\n                        appState.graph.frame.paused = true;\n                        appState.graph.smartPause.smartPaused = true;\n                        self.forceUpdate();\n                    }\n                     */\n\n                    /**un-smart pausing*/\n                    if(appState.graph.smartPause.smartPaused && appState.graph.smartPause.interactingWithGraph) {\n                        appState.graph.frame.resumeLayout();\n                        appState.graph.frame.paused = false;\n                        appState.graph.smartPause.smartPaused = false;\n                        self.forceUpdate();\n                    }\n                  }\n                }, 10)})()}\n\n             {<Tooltip\n                content={(appState.graph.frame.paused) ? \"Resume Layout Algorithm\" : \"Pause Layout Algorithm\"}\n                position={Position.BOTTOM}\n              >\n                <Button\n                  className={classnames([Classes.BUTTON, Classes.MINIMAL])}\n                  iconName={(!appState.graph.smartPause.smartPaused && appState.graph.frame.paused) ? \"play\" : \"pause\"}\n                  text={(!appState.graph.smartPause.smartPaused && appState.graph.frame.paused) ? \"Resume Layout\" : \"Pause Layout\"}\n                  onClick={() => {\n                    if (appState.graph.frame.paused && !appState.graph.smartPause.smartPaused) {\n                      /**graph is going from \"pause layout\" mode to \"resume layout\"*/\n                      \n                      /** graph runs for default duration when unpaused */\n                      appState.graph.runActiveLayout();\n\n                      appState.graph.frame.resumeLayout();\n                      this.forceUpdate();\n                      /**appState.graph.smartPause.lastUnpaused = Date.now(); //old code using lastUnpaused*/\n                    } else if(appState.graph.smartPause.smartPaused) {\n                      /**graph is going from smart paused \"resume layout\" mode to \"pause layout\" mode*/\n                      appState.graph.frame.paused = true;\n                      appState.graph.smartPause.smartPaused = false;\n                    } else {\n                      /**graph is going from in \"resume layout\" mode to \"pause layout\" mode*/\n                      appState.graph.frame.pauseLayout();\n                      this.forceUpdate();\n                    }\n                  }}\n                />\n              </Tooltip>\n          }\n            </div>\n          )}\n\n        </div>\n        {!this.state.eolDismissed && (\n          <div\n            className={classnames([Classes.NAVBAR_GROUP])}\n            style={{ position: 'absolute', left: '50%', transform: 'translateX(-50%)' }}\n          >\n            <Popover\n              content={\n                <div style={{ maxWidth: 500, padding: 0 }}>\n                  <Callout\n                    iconName=\"warning-sign\"\n                    intent={Intent.WARNING}\n                    title=\"Snapshot Publishing and Sharing Feature  End-of-Life Service Notice\"\n                  >\n                    <ul style={{ margin: 0, paddingLeft: 20, lineHeight: 1.6 }}>\n                      <li>The snapshot publishing and sharing feature for Argo Scholar and Argo Lite will reach end-of-life on <strong style={{ textDecoration: 'underline' }}>March 31, 2026</strong>.</li>\n                      <li>The applications will remain accessible until this date.</li>\n                      <li><strong>Publishing, saving, or loading shared (server-hosted) snapshots may be unavailable or unreliable</strong> during this period.</li>\n                      <li>After <strong style={{ textDecoration: 'underline' }}>March 31, 2026</strong>, <strong>backend services supporting snapshot publishing and sharing will be fully shut down</strong>. Users will still be able to save and load snapshots locally, but shared or server-hosted snapshots will no longer be supported.</li>\n                      <li>If you rely on snapshot publishing or sharing for active projects or teaching, please <strong>export any important shared snapshots before <span style={{ textDecoration: 'underline' }}>March 31, 2026</span></strong>.</li>\n                      <li>For questions or concerns, please contact the Argo maintainers.</li>\n                    </ul>\n                    <div style={{ marginTop: 8 }}>\n                      <Button\n                        minimal\n                        small\n                        iconName=\"cross\"\n                        onClick={this.dismissEol}\n                      >\n                        Dismiss\n                      </Button>\n                    </div>\n                  </Callout>\n                </div>\n              }\n              position={Position.BOTTOM}\n            >\n              <Button\n                className={classnames([Classes.BUTTON, Classes.MINIMAL])}\n                iconName=\"warning-sign\"\n                intent={Intent.WARNING}\n              >\n                End-of-Life Service Notice\n              </Button>\n            </Popover>\n          </div>\n        )}\n        <div\n          className={classnames([Classes.NAVBAR_GROUP, Classes.ALIGN_RIGHT])}\n        >\n          <Button\n            className={classnames([Classes.BUTTON, Classes.MINIMAL])}\n            iconName=\"graph\"\n            onClick={() => {\n              appState.project.isRenameSnapshotDialogOpen = true;\n            }}\n          >\n            {appState.graph.metadata.snapshotName || \"Untitled Graph\"}\n          </Button>\n          <span className={Classes.NAVBAR_DIVIDER} />\n          <Button\n            className={classnames([Classes.BUTTON, Classes.MINIMAL])}\n            iconName=\"cog\"\n            onClick={() => {\n              appState.preferences.dialogOpen = true;\n            }}\n          />\n          <Button\n            className={classnames([Classes.BUTTON, Classes.MINIMAL])}\n            iconName=\"help\"\n            onClick={() => {\n              appState.preferences.helpDialogOpen = true;\n            }}\n          />\n          <Button\n            className={classnames([Classes.BUTTON, Classes.MINIMAL])}\n            iconName=\"minimize\"\n            onClick={() => {\n              appState.preferences.turnOnMinimalMode()\n            }}\n          />\n          <span className={Classes.NAVBAR_DIVIDER} />\n          <a\n            href={GITHUB_URL}\n            target='_blank'\n            style={{\n              color: appState.preferences.darkMode ? 'white' : 'black',\n              fontSize: '120%',\n              textDecoration: 'none'\n            }}\n          >\n            <FontAwesomeIcon icon={faGithub} />\n          </a>\n        </div>\n      </nav>\n    );\n  }\n}\n\n@observer\nclass MinimalNavbar extends React.Component {\n  render() {\n    return appState.graph.frame && (\n      <div>\n        <div\n          className={classnames(\"minimal-navbar-left\")}\n          style={{\n            backgroundColor: appState.preferences.darkMode ? '#30404D' : '#FFFFFF',\n          }}\n        >\n          <div className=\"pt-button-group\">\n            <a\n              className={classnames(\"pt-button pt-icon-maximize\", appState.graph.frame.paused ? \"pt-icon-play\" : \"pt-icon-pause\")}\n              role=\"button\"\n              onClick={() => {\n                if (appState.graph.frame.paused) {\n                  appState.graph.frame.resumeLayout();\n                  this.forceUpdate();\n                } else {\n                  appState.graph.frame.pauseLayout();\n                  this.forceUpdate();\n                }\n              }}\n            />\n          </div>\n        </div>\n        <div\n          className={classnames(\"minimal-navbar-right\")}\n          style={{\n            backgroundColor: appState.preferences.darkMode ? '#30404D' : '#FFFFFF',\n          }}\n        >\n          <div className=\"pt-button-group\">\n            <a className=\"pt-button pt-icon-maximize\" role=\"button\" onClick={() => appState.preferences.turnOffMinimalMode()}></a>\n            <a className=\"pt-button pt-icon-help\" role=\"button\" onClick={() => appState.preferences.helpDialogOpen = true}></a>\n            <a className=\"pt-button pt-icon-document-open\" role=\"button\" href={window.location} target=\"_blank\"></a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n@observer\nclass Navbar extends React.Component {\n  render() {\n    return appState.preferences.isNavbarInMinimalMode ? <MinimalNavbar /> : <RegularNavbar />;\n  }\n}\n\nexport default Navbar;","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport {\n  Button,\n  Icon,\n  Card,\n  Classes,\n  Spinner,\n  NonIdealState,\n  FocusStyleManager\n} from \"@blueprintjs/core\";\nimport appState from \"../stores/index\";\nimport { requestOpenWorkspaceFolder } from \"../ipc/client\";\n\n// Argo-lite: In lite, home screen is replaced by a loading screen\n// since there will always be a default graph showing.\n@observer\nclass WorkspaceView extends React.Component {\n  render() {\n    return (\n      <div className=\"workspace\">\n        {/* <Card\n          interactive={true}\n          elevation={Card.ELEVATION_TWO}\n          onClick={() => {\n            appState.project.isNewProjectDialogOpen = true;\n          }}\n        >\n          <Icon iconName=\"plus\" /> Create New Project\n        </Card>\n        <Card\n          interactive={true}\n          elevation={Card.ELEVATION_TWO}\n          onClick={() => {\n            requestOpenWorkspaceFolder();\n          }}\n        >\n          <Icon iconName=\"cog\" /> Manage Workspace\n        </Card>\n        <hr />\n        <div className=\"argo-menu-list-header\">My Projects</div>\n        <div style={{ paddingBottom: '100px' }}>\n          {appState.project.isFetching ? (\n            <div style={{ textAlign: \"center\" }}>\n              <Spinner />\n            </div>\n          ) : appState.project.projects.length > 0 ? (\n            appState.project.projects.map(project => {\n              return (\n                <div key={project.name}>\n                  <Card\n                    interactive={true}\n                    elevation={Card.ELEVATION_TWO}\n                    onClick={() => {\n                      appState.project.currentProject = project;\n                      appState.project.isProjectDetailDialogOpen = true;\n                    }}\n                  >\n                    <h5>{project.name}</h5>\n                    <p>Created: {project.createdDate || 'Unknown'}</p>\n                  </Card>\n                </div>\n              );\n            })\n          ) : (\n            <div style={{ textAlign: \"center\" }}>\n              Workspace is empty. Start by creating a new project.\n            </div>\n          )}\n        </div> */}\n        <div style={{ textAlign: \"center\", height: \"100vh\" }}>\n          <Spinner />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default WorkspaceView;","import React from \"react\";\nimport appState from \"../stores\";\n\nexport default class ThreeJSVis extends React.Component {\n  componentDidMount() {\n    appState.graph.setUpFrame();\n  }\n\n  render() {\n    return (\n      <div\n        id=\"graph-container\"\n        style={{\n          width: \"100vw\",\n          height: \"90vh\",\n          flex: \"1\",\n          position: \"absolute\"\n        }}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport { Button, Classes, RangeSlider } from \"@blueprintjs/core\";\nimport { SketchPicker } from \"react-color\";\nimport { Popover2, Select } from \"@blueprintjs/labs\";\nimport classnames from \"classnames\";\nimport { runInAction } from \"mobx\";\nimport { observer } from \"mobx-react\";\nimport pluralize from \"pluralize\";\nimport appState from \"../../stores\";\nimport { scales } from \"../../constants/index\";\nimport Collapsable from \"../utils/Collapsable\";\nimport SimpleSelect from \"../utils/SimpleSelect\";\nimport CommonItemRenderer from \"../utils/CommonItemRenderer\";\n\n@observer\nclass GlobalPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      timeOutRef: null,\n      sizeOptionOpen: false,\n      colorOptionOpen: false,\n      shapeOptionOpen: false\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        {/* Collapsable Option: Color */}\n        <Collapsable\n          name=\"Color\"\n          isOpen={this.state.colorOptionOpen}\n          onToggle={() =>\n            this.setState({\n              colorOptionOpen: !this.state.colorOptionOpen\n            })\n          }\n        >\n          <div className={classnames(Classes.CARD, \"sub-option\")}>\n            <div> \n                <p style={{display: \"inline\"}}>Color By: </p>\n                <span style={{float:\"right\"}}>\n                  <SimpleSelect  \n                    items={appState.graph.allPropertiesKeyList}\n                    onSelect={it => (appState.graph.nodes.colorBy = it)}\n                    value={appState.graph.nodes.colorBy}\n                  />\n                </span>\n              </div>\n            \n              <div style={{marginTop:\"10px\"}}> \n                <p style={{display: \"inline\"}}>Scale Type: </p>\n                <span style={{float:\"right\"}}>\n                  <SimpleSelect\n                    items={Object.keys(scales)}\n                    onSelect={it => (appState.graph.nodes.color.scale = it)}\n                    value={appState.graph.nodes.color.scale}\n                  />\n                </span>\n              </div>\n          \n            <div>\n              <div style={{marginTop:\"10px\"}}> \n                <p style={{display: \"inline\"}}>Gradient: &nbsp;</p>\n                <span style={{float:\"right\"}}>\n                    <Popover2\n                        placement=\"bottom\"\n                        modifiers={{\n                            preventOverflow: {\n                              enabled: false,\n                            },\n                          }}\n                    >\n                      <Button                  \n                        text=\"  \"\n                        style={{\n                          backgroundImage: \"inherit\",\n                          backgroundColor: appState.graph.nodes.color.from\n                        }}\n                      />\n                      <SketchPicker\n                        color={appState.graph.nodes.color.from}\n                        onChange={it => (appState.graph.nodes.color.from = it.hex)}\n                      />\n                    </Popover2>\n                    &nbsp; &#8594; &nbsp;\n                    <Popover2 \n                    placement=\"bottom\"\n                                modifiers={{\n                                    preventOverflow: {\n                                      enabled: false,\n                                    },\n                                  }}\n                                  >\n                    <Button\n                      text=\"  \"\n                      style={{\n                        backgroundImage: \"inherit\",\n                        backgroundColor: appState.graph.nodes.color.to\n                      }}\n                    />\n                    <SketchPicker\n                      color={appState.graph.nodes.color.to}\n                      onChange={it => (appState.graph.nodes.color.to = it.hex)}\n                    />\n                  </Popover2>\n                </span>\n              </div>\n            </div>\n            <div style={{marginTop:\"-1em\"}}>\n              <svg width=\"100%\" height=\"10\" className=\"gradient-preview\">\n              <defs>\n                <linearGradient\n                  x1=\"0%\"\n                  y1=\"50%\"\n                  x2=\"100%\"\n                  y2=\"50%\"\n                  id=\"theGradient\"\n                >\n                  <stop\n                    stopColor={appState.graph.nodes.color.from}\n                    stopOpacity=\"1\"\n                    offset=\"0%\"\n                  />\n                  <stop\n                    stopColor={appState.graph.nodes.color.to}\n                    stopOpacity=\"1\"\n                    offset=\"100%\"\n                  />\n                </linearGradient>\n              </defs>\n              <rect\n                x=\"0\"\n                y=\"0\"\n                width=\"100%\"\n                height=\"50\"\n                fill=\"url(#theGradient)\"\n              />\n            </svg>\n            </div>\n          </div>\n        </Collapsable>\n        \n        {/* Collapsable Option: Size */}\n        <Collapsable\n          name=\"Size\"\n          isOpen={this.state.sizeOptionOpen}\n          onToggle={() =>\n            this.setState({\n              sizeOptionOpen: !this.state.sizeOptionOpen\n            })\n          }\n        >\n         \n          <div className={classnames(Classes.CARD, \"sub-option\")}>\n            <div> \n                <p style={{display: \"inline\"}}>Scale By:</p>\n                <span style={{float:\"right\"}}>\n                  <Select\n                    items={appState.graph.allPropertiesKeyList}\n                    itemRenderer={CommonItemRenderer}\n                    filterable={false}\n                    onItemSelect={it => (appState.graph.nodes.sizeBy = it)}\n                  >\n                    <Button text={appState.graph.nodes.sizeBy} />\n                  </Select>\n                </span>\n              \n            </div>\n            <div style={{marginTop:\"10px\"}}> \n                <p style={{display: \"inline\"}}>Scale Type:</p>\n                <span style={{float:\"right\"}}>\n                  <Select\n                  items={Object.keys(scales)}\n                  itemRenderer={CommonItemRenderer}\n                  filterable={false}\n                  onItemSelect={it => (appState.graph.nodes.size.scale = it)}\n                  >\n                    <Button text={appState.graph.nodes.size.scale} />\n                  </Select>\n                </span>\n            </div>\n         \n            <div style={{marginTop:\"10px\"}}> \n              <p style={{display: \"inline\"}}>Size Range:</p>\n            <br />\n            <RangeSlider\n              min={1}\n              max={20}\n              stepSize={0.1}\n              labelStepSize={5}\n              onChange={([a, b]) => {\n                runInAction(\"update scale\", () => {\n                  appState.graph.nodes.size.min = a;\n                  appState.graph.nodes.size.max = b;\n                });\n              }}\n              value={[\n                appState.graph.nodes.size.min,\n                appState.graph.nodes.size.max\n              ]}\n            />\n            </div>\n          </div>\n        </Collapsable>\n        \n        {/* Collapsable Option: Shape */}\n        <Collapsable\n          name=\"Shape\"\n          isOpen={this.state.shapeOptionOpen}\n          onToggle={() =>\n            this.setState({\n              shapeOptionOpen: !this.state.shapeOptionOpen\n            })\n          }\n        >\n          <div className={classnames(Classes.CARD, \"sub-option\")}>\n          <div>\n          <p style={{display: \"inline\"}}>Node Shape:</p>\n          <span style={{float:\"right\"}}>\n            <Select\n                items={[\n                  \"circle\",\n                  \"square\",\n                  \"triangle\",\n                  \"pentagon\",\n                  \"hexagon\",\n                  \"octagon\"\n                ]}\n                itemRenderer={CommonItemRenderer}\n                filterable={false}\n                onItemSelect={it => (appState.graph.nodes.shape = it)}\n              >\n                <Button  text={appState.graph.nodes.shape} />\n              </Select>\n              </span>\n            </div>        \n          </div>\n        </Collapsable>\n        <br/>\n        <small>\n          \n          {pluralize(\"node\", appState.graph.overrides.size, true)}<span> </span>\n          have override styles.  &nbsp;  \n          <Button className={\"pt-small\"} text=\"Clear\" onClick={() => (appState.graph.overrides = new Map())} />\n        </small>\n      </div>\n    );\n  }\n}\n\nexport default GlobalPanel;","import React from \"react\";\nimport { Classes, Collapse, Switch } from \"@blueprintjs/core\";\n\nexport default ({ name, isOpen, onToggle, children }) => (\n  <div>\n    <Switch\n      label={name}\n      checked={isOpen}\n      onChange={onToggle}\n      className={Classes.ALIGN_RIGHT}\n    />\n    <Collapse isOpen={isOpen}>{children}</Collapse>\n  </div>\n);\n","import React from \"react\";\nimport { Button, Classes, Slider } from \"@blueprintjs/core\";\nimport { SketchPicker } from \"react-color\";\nimport { Popover2, Select } from \"@blueprintjs/labs\";\nimport classnames from \"classnames\";\nimport { runInAction } from \"mobx\";\nimport { observer } from \"mobx-react\";\nimport appState from \"../../stores\";\nimport SwitchCollapsable from \"../utils/SwitchCollapsable\";\nimport CommonItemRenderer from \"../utils/CommonItemRenderer\";\n\n@observer\nclass SelectionPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shapeOptionOpen: false,\n      sizeOptionOpen: false,\n      colorOptionOpen: false,\n      labelOptionOpen: false\n    };\n  }\n\n  twoLayerUpdate = (nodeId, key, value) => {\n    if (!appState.graph.overrides.has(nodeId)) {\n      appState.graph.overrides.set(nodeId, new Map());\n    }\n    const nodeAttrs = appState.graph.overrides.get(nodeId);\n    if (value !== null) {\n      nodeAttrs.set(key, value);\n    } else {\n      nodeAttrs.delete(key);\n      if (nodeAttrs.size === 0) {\n        appState.graph.overrides.delete(nodeId);\n      }\n    }\n  };\n\n  batchTwoLayerUpdate = (nodes, key, value) => {\n    runInAction(\"update entire selection\", () => {\n      nodes.forEach(n => this.twoLayerUpdate(n.data.ref.id, key, value));\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <br/>\n        <SwitchCollapsable\n          name=\"Override Size\"\n          isOpen={this.state.sizeOptionOpen}\n          onToggle={() => {\n            if (this.state.sizeOptionOpen) {\n              this.setState(\n                {\n                  sizeOptionOpen: false\n                },\n                () =>\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"size\",\n                    null\n                  )\n              );\n            } else {\n              this.setState(\n                {\n                  sizeOptionOpen: true\n                },\n                () =>\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"size\",\n                    appState.graph.overrideConfig.size\n                  )\n              );\n            }\n          }}\n        >\n          <div className={classnames(Classes.CARD, \"sub-option\")}>\n            <Slider\n              min={1}\n              max={20}\n              stepSize={0.1}\n              labelStepSize={5}\n              onChange={it => {\n                appState.graph.overrideConfig.size = it;\n                this.batchTwoLayerUpdate(\n                  appState.graph.selectedNodes,\n                  \"size\",\n                  it\n                );\n              }}\n              value={appState.graph.overrideConfig.size}\n            />\n          </div>\n        </SwitchCollapsable>\n        <br/>\n        <SwitchCollapsable\n          name=\"Override Color\"\n          isOpen={this.state.colorOptionOpen}\n          onToggle={() => {\n            if (this.state.colorOptionOpen) {\n              this.setState(\n                {\n                  colorOptionOpen: false\n                },\n                () =>\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"color\",\n                    null\n                  )\n              );\n            } else {\n              this.setState(\n                {\n                  colorOptionOpen: true\n                },\n                () =>\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"color\",\n                    appState.graph.overrideConfig.color\n                  )\n              );\n            }\n          }}\n        >\n          <div className={classnames(Classes.CARD, \"sub-option\")}>\n            <div>\n              <p style={{display: \"inline\"}}>Choose Color:</p>\n              <span style={{float:\"right\"}}>\n            <Popover2\n              placement=\"bottom\"\n              modifiers={{\n                preventOverflow: {\n                  enabled: false,\n                },\n              }}>\n              <Button\n                text=\"  \"\n                style={{\n                  backgroundImage: \"inherit\",\n                  backgroundColor: appState.graph.overrideConfig.color\n                }}\n              />\n              <SketchPicker\n                color={appState.graph.overrideConfig.color}\n                onChange={it => {\n                  appState.graph.overrideConfig.color = it.hex;\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"color\",\n                    it.hex\n                  );\n                }}\n              />\n            </Popover2>\n            </span>\n            </div>\n          </div>\n        </SwitchCollapsable>\n        <br/>\n        <SwitchCollapsable\n          name=\"Override Label\"\n          isOpen={this.state.labelOptionOpen}\n          onToggle={() => {\n            if (this.state.labelOptionOpen) {\n              this.setState(\n                {\n                  labelOptionOpen: false\n                },\n                () =>\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"label\",\n                    null\n                  )\n              );\n            } else {\n              this.setState(\n                {\n                  labelOptionOpen: true\n                },\n                () =>\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"label\",\n                    appState.graph.overrideConfig.label\n                  )\n              );\n            }\n          }}\n        >\n          <div className={classnames(Classes.CARD, \"sub-option\")}>\n            <p style={{display: \"inline\"}}>Custom Label:</p>\n            <input\n              value={appState.graph.overrideConfig.label}\n              onChange={it => {\n                appState.graph.overrideConfig.label = it.target.value;\n                this.batchTwoLayerUpdate(\n                  appState.graph.selectedNodes,\n                  \"label\",\n                  it.target.value\n                );\n              }}\n            />\n          </div>\n        </SwitchCollapsable>\n        <br/>\n        <SwitchCollapsable\n          name=\"Override Shape\"\n          isOpen={this.state.shapeOptionOpen}\n          onToggle={() => {\n            if (this.state.shapeOptionOpen) {\n              this.setState(\n                {\n                  shapeOptionOpen: false\n                },\n                () =>\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"shape\",\n                    null\n                  )\n              );\n            } else {\n              this.setState(\n                {\n                  shapeOptionOpen: true\n                },\n                () =>\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"shape\",\n                    appState.graph.overrideConfig.shape\n                  )\n              );\n            }\n          }}\n        >\n          <div className={classnames(Classes.CARD, \"sub-option\")}>\n            <div> \n              <p style={{display: \"inline\"}}>Node Shape:</p>\n              <span style={{float:\"right\"}}>\n                <Select\n                items={[\n                  \"circle\",\n                  \"square\",\n                  \"triangle\",\n                  \"pentagon\",\n                  \"hexagon\",\n                  \"octagon\"\n                ]}\n                itemRenderer={CommonItemRenderer}\n                filterable={false}\n                onItemSelect={it => {\n                  appState.graph.overrideConfig.shape = it;\n                  this.batchTwoLayerUpdate(\n                    appState.graph.selectedNodes,\n                    \"shape\",\n                    it\n                  );\n                }}\n              >\n                <Button text={appState.graph.overrideConfig.shape} />\n              </Select>\n              </span>        \n            </div>\n          </div>\n        </SwitchCollapsable>\n      </div>\n    );\n  }\n}\n\nexport default SelectionPanel;","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport pluralize from \"pluralize\";\nimport appState from \"../../stores\";\nimport GlobalPanel from \"./GlobalPanel\";\nimport SelectionPanel from \"./SelectionPanel\";\n\n@observer\nclass NodesPanel extends React.Component {\n  getRenderedNodes = () => {\n    if (appState.graph.selectedNodes.length === 0) {\n      return (\n        <div>\n          <p>Modifying All Nodes</p>\n        </div>\n      );\n    }\n    return (\n      <p>{`Modifying ${pluralize(\n        \"Node\",\n        appState.graph.selectedNodes.length,\n        true\n      )}`}</p>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        {this.getRenderedNodes()}\n        {appState.graph.selectedNodes.length === 0 ? (\n          <GlobalPanel />\n        ) : (\n          <SelectionPanel />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default NodesPanel;","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport appState from \"../../stores\";\nimport { Button, Checkbox, Classes, RangeSlider } from \"@blueprintjs/core\";\nimport { SketchPicker } from \"react-color\";\nimport { Popover2, Select } from \"@blueprintjs/labs\";\nimport classnames from \"classnames\";\nimport Collapsable from \"../utils/Collapsable\";\nimport SimpleSelect from \"../utils/SimpleSelect\";\nimport mouse from \"../../graph-frontend/src/select\";\n\n@observer\nclass EdgesPanel extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n          timeOutRef: null,\n        //   sizeOptionOpen: false,\n          colorOptionOpen:false,\n          directionOptionOpen:false,\n        //   colorOptionOpen:false,\n        //   thicknessOptionOpen: false,\n        };\n      }\n\n    render() {\n        let graph = appState.graph.graph;\n        return (\n            <div>\n                <p>{`Modifying All Edges`}</p>\n\n\n                {/* Collapsable Option: Color */}\n                <Collapsable\n                    name=\"Color\"\n                    isOpen={this.state.colorOptionOpen}\n                    onToggle={() =>\n                        this.setState({\n                        colorOptionOpen: !this.state.colorOptionOpen\n                        })\n                    }\n                    >\n                    <div className={classnames(Classes.CARD, \"sub-option\")}>\n                        <div> \n                            <p style={{display: \"inline\"}}>Select Edge Color: </p>\n                            <span style={{float:\"right\"}}>\n                                <Popover2 \n                                placement=\"bottom\"\n                                modifiers={{\n                                    preventOverflow: {\n                                      enabled: false,\n                                    },\n                                  }}>\n                                    <Button\n                                    text=\"  \"\n                                    style={{\n                                        backgroundImage: \"inherit\",\n                                        backgroundColor: appState.graph.edges.color\n                                    }}\n                                    />\n                                    <SketchPicker\n                                    color={appState.graph.edges.color}\n                                    onChange={(it) => {\n                                        appState.graph.process.graph.forEachNode(n => {\n                                             \n                                             let red = new THREE.Color(appState.graph.edges.color).r;\n                                             let blue = new THREE.Color(appState.graph.edges.color).g;\n                                             let green = new THREE.Color(appState.graph.edges.color).b;\n                                             n.renderData.linecolor.r = red;\n                                             n.renderData.linecolor.g = blue;\n                                             n.renderData.linecolor.b = green;\n                                           });\n                                        (appState.graph.edges.color = it.hex);\n                                        /**update edge color in real time*/\n                                        appState.graph.process.onHover(); \n                                    }}\n                                    />\n                                </Popover2>\n                            </span>\n                            </div>\n                        \n                    </div>\n                </Collapsable>\n            \n                <Collapsable\n                    name=\"Direction\"\n                    isOpen={this.state.directionOptionOpen}\n                    onToggle={() =>\n                        this.setState({\n                        directionOptionOpen: !this.state.directionOptionOpen\n                        })\n                    }\n                    >\n                    <div className={classnames(Classes.CARD, \"sub-option\")}>\n                        <div> \n                            <p style={{display: \"inline\"}}>Show Edge Direction: </p>\n                            <span style={{float:\"right\"}}>\n                            <label class=\".pt-large\">\n                            <input \n                                 type=\"checkbox\"\n                                 onChange={it => {\n                                     console.log(appState.graph.directedOrNot);\n                                     appState.graph.directedOrNot = !appState.graph.directedOrNot;\n                                 }\n                                 }\n                               />\n                            </label>\n                            </span>\n                            </div>\n                        \n                    </div>\n                </Collapsable>\n{/* \n                <div>\n                     <section style = {{marginTop: \"15px\"}}>\n                         <p style={{display: \"inline\"}}>Show Edge Direction: </p>\n                         <div style={{display: \"inline\", float: \"right\"}}>\n                               <input \n                                 type=\"checkbox\"\n                                 onChange={it => {\n                                     console.log(appState.graph.directedOrNot);\n                                     appState.graph.directedOrNot = !appState.graph.directedOrNot;\n                                 }\n                                 }\n                               />\n                         </div>\n                     </section>\n                 </div> */}\n\n                {/* Collapsable Option: Thickness */}\n                {/* <Collapsable\n                    name=\"Thickness\"\n                    isOpen={this.state.thicknessOptionOpen}\n                    onToggle={() =>\n                        this.setState({\n                            thicknessOptionOpen: !this.state.thicknessOptionOpen\n                        })\n                    }\n                    >\n                    <div className={classnames(Classes.CARD, \"sub-option\")}>\n                        <section>\n                            <p>Select Edge Thickness: </p>\n                            <div style={{display: \"inline\", float: \"right\"}}>\n                               \n                            </div>\n                        </section>\n                    </div>\n                </Collapsable> */}\n            </div>\n        );\n    }\n}\n\nexport default EdgesPanel;","import React from \"react\";\nimport { Button, Classes, Slider } from \"@blueprintjs/core\";\nimport { Select } from \"@blueprintjs/labs\";\nimport { observer } from \"mobx-react\";\nimport appState from \"../../stores\";\nimport CommonItemRenderer from \"../utils/CommonItemRenderer\";\n\n@observer\nclass LabelsPanel extends React.Component {\n  render() {\n    return (\n      <div>\n        <span style={{display: \"inline-block\"}}>\n        <Button\n          style={{width:\"100px\"}}\n          id=\"hideAll\"\n          iconName=\"eye-off\"\n          className={Classes.FILL}\n          onClick={() => appState.graph.frame.hideAllLabels()}\n        >\n          Hide All\n        </Button>\n        <Button\n          style={{width:\"100px\",display:\"none\"}}\n          id=\"showAll\"\n          iconName=\"eye-on\"\n          className={Classes.FILL}\n          onClick={() => appState.graph.frame.showAllLabels()}\n        >\n          Show All\n        </Button>\n        <Button\n          style={{width:\"140px\",marginLeft:\"10px\"}}\n          id=\"hideSelected\"\n          iconName=\"eye-off\"\n          className={Classes.FILL}\n          onClick={() => appState.graph.frame.hideSelectedLabels()}\n        >\n          Hide Selected\n        </Button>\n        <Button\n          style={{width:\"140px\",marginLeft:\"10px\",display:\"none\"}}\n          id=\"showSelected\"\n          iconName=\"eye-on\"\n          className={Classes.FILL}\n          onClick={() => appState.graph.frame.showSelectedLabels()}\n        >\n          Show Selected\n        </Button>\n        </span>\n        <div style={{height: '20px'}} />\n        <h6>Label Size</h6>\n        <Slider\n          min={0.5}\n          max={3}\n          stepSize={0.1}\n          onChange={value => {\n            appState.graph.nodes.labelSize = value;\n          }}\n          value={appState.graph.nodes.labelSize}\n        />\n        <div style={{height: '20px'}} />\n        <h6>Label Length</h6>\n        <Slider\n          min={1}\n          max={32}\n          stepSize={0.1}\n          labelStepSize={5}\n          onChange={value => {\n            appState.graph.nodes.labelLength = value;\n          }}\n          value={appState.graph.nodes.labelLength}\n        />\n        <div style={{height: '20px'}} />\n        <h6>Label By</h6> \n        <Select\n          items={appState.graph.allPropertiesKeyList}\n          itemRenderer={CommonItemRenderer}\n          filterable={false}\n          onItemSelect={it => (appState.graph.nodes.labelBy = it)}\n        >\n          <Button text={appState.graph.nodes.labelBy} />\n        </Select>\n      </div>\n    );\n  }\n}\n\nexport default LabelsPanel;","import React from \"react\";\nimport classnames from \"classnames\";\nimport uniq from \"lodash/uniq\";\nimport { Classes } from \"@blueprintjs/core\";\nimport appState from \"../../stores\";\nimport { observer } from \"mobx-react/index\";\n\n@observer\nclass NodeDetail extends React.Component {\n  render() {\n    // If input is number,\n    // currently format number between 0-1 (eg. pagerank)\n    // to show no more than 3 significant digits.\n    const formatLongFloat = (nodeAttributeValue) => {\n      const num = Number(nodeAttributeValue);\n      if (Number.isNaN(num) || num > 1 || num < 0) {\n        // Do not format just return original\n        return nodeAttributeValue;\n      }\n      // Format to no more than 3 significant digit.\n      return Number.parseFloat(num).toPrecision(3);\n    };\n\n    return (\n      <div\n        className={classnames(\n          // 'overlay-card',\n          \"right-overlay-card\",\n          \"transparent-frame\"\n        )}\n      >\n        <div className={classnames(Classes.CARD, \"node-details-table\")}>\n          <table\n            className={classnames(Classes.TABLE, Classes.TABLE_STRIPED)}\n            style={{\n              width: \"100%\",\n              padding: '0',\n            }}\n          >\n            \n            <thead>\n              <tr>\n                <th>Property</th>\n                <th>Value</th>\n              </tr>\n            </thead>\n            <tbody>\n              {appState.graph.allPropertiesKeyList.map((it, i) => (\n                <tr key={`${it}-${i}`}>\n                  <td style={{ padding: '5px 10px' }}>{it}</td>\n                  <td style={{ padding: '5px 10px', whiteSpace: 'normal' }}>{formatLongFloat(this.props.node[it])}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NodeDetail;","import React from \"react\";\n\nimport { format } from \"d3-format\";\nimport { LegendLinear, LegendSize } from \"@vx/vx\";\nimport appState from \"../stores\";\nimport { observer } from \"mobx-react\";\n\nfunction Legends() {\n  return (\n    <div className=\"legends\" style={{visibility: appState.preferences.isLegendShowing ? 'visible' : 'hidden'}}>\n      <LegendSize\n        className=\"scale-legend\"\n        direction=\"row\"\n        itemDirection=\"column\"\n        itemMargin=\"0\"\n        shapeMargin=\"5px 0\"\n        labelFormat={format(\".4f\")}\n        scale={appState.graph.nodeSizeScale}\n        shape={props => {\n          const { size } = props;\n          return (\n            <svg width={size} height={size}>\n              <circle {...props} r={size / 2} cx={size / 2} cy={size / 2} />\n            </svg>\n          );\n        }}\n      />\n      <LegendLinear\n        direction=\"row\"\n        itemDirection=\"column\"\n        shape=\"circle\"\n        scale={appState.graph.nodeColorScale}\n        labelFormat={format(\".4f\")}\n      />\n    </div>\n  );\n}\n\nexport default observer(Legends);\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport appState from \"../stores\";\n\n@observer\nclass StatusBar extends React.Component {\n    render() {\n        return (\n            <div\n                className={classnames(\"bottom-status-bar\")}\n                style={{\n                    backgroundColor: appState.preferences.darkMode ? '#30404D' : '#FFFFFF',\n                    visibility: appState.preferences.isStatusBarShowing? \"visible\" : \"hidden\"\n                }}\n            >\n                <div className={classnames(\"bottom-status-bar__left\")}>{appState.graph.metadata.fullNodes && appState.graph.metadata.fullEdges && `Total Nodes: ${appState.graph.metadata.fullNodes}, Total Edges: ${appState.graph.metadata.fullEdges},`} Hidden Nodes: {appState.graph.numHiddenNodes}</div>\n                <div className={classnames(\"bottom-status-bar__right\")}>Color by: {appState.graph.nodes.colorBy} ({appState.graph.nodes.color.scale}), Size by: {appState.graph.nodes.sizeBy} ({appState.graph.nodes.size.scale})</div>\n            </div>\n        );\n    }\n}\n\nexport default StatusBar;","import React from \"react\";\nimport { Button, Classes, Tooltip, Intent, Position } from \"@blueprintjs/core\";\nimport classnames from \"classnames\";\nimport { observer } from \"mobx-react\";\nimport appState from \"../../stores\";\n\n@observer\nclass SelectionActionPanel extends React.Component {\n  render() {\n      // Only relevant when there's exact 1 node selected.\n      // To display number of hidden nodes if exists\n      let numHiddenNeighbor = 0;\n      if (appState.graph.selectedNodes.length === 1) {\n        if (appState.graph.lastSelectedSingleNode) {\n            const selectedNodeId = appState.graph.lastSelectedSingleNode.data.ref.id.toString();\n            numHiddenNeighbor = appState.graph.getNeighborNodesFromRawGraph(selectedNodeId).filter(n => n.isHidden).length;\n        }\n      }\n\n      return (\n        <div\n            className=\"argo-selection-action-panel\"\n            style={{\n                backgroundColor: appState.preferences.darkMode ? '#30404D' : '#FFFFFF',\n            }}\n        >\n            <Tooltip\n                content=\"Pin Selected Nodes\"\n                position={Position.BOTTOM}\n            >\n                <Button\n                    className={classnames([\n                    Classes.BUTTON,\n                    Classes.MINIMAL\n                    ])}\n                    iconName=\"pin\"\n                    text=\"Pin\"\n                    intent={Intent.PRIMARY}\n                    onClick={() => {\n                    appState.graph.frame.pinSelectedNodes();\n                    this.forceUpdate();\n                    }}\n                />\n            </Tooltip>\n            <Tooltip\n                content=\"Unpin Selected Nodes\"\n                position={Position.BOTTOM}\n            >\n                <Button\n                    className={classnames([\n                    Classes.BUTTON,\n                    Classes.MINIMAL\n                    ])}\n                    iconName=\"unpin\"\n                    text=\"Unpin\"\n                    intent={Intent.WARNING}\n                    onClick={() => {\n                    appState.graph.frame.unpinSelectedNodes();\n                    this.forceUpdate();\n                    }}\n                />\n            </Tooltip>\n            <Tooltip\n                content=\"Hide Selected Nodes\"\n                position={Position.BOTTOM}\n            >\n                <Button\n                    className={classnames([\n                    Classes.BUTTON,\n                    Classes.MINIMAL\n                    ])}\n                    iconName=\"delete\"\n                    text=\"Hide\"\n                    intent={Intent.DANGER}\n                    onClick={() => {\n                    appState.graph.hideNodes(\n                        appState.graph.frame.getSelectedIds()\n                    );\n                    this.forceUpdate();\n                    }}\n                />\n            </Tooltip>\n            {// This menu only shows when there's exactly 1 node selected\n              appState.graph.selectedNodes.length === 1 && (\n                <div style={{ display: \"inline\" }}>\n                  <Tooltip\n                    content=\"Open Neighbor Dialog\"\n                    position={Position.BOTTOM}\n                  >\n                    <Button\n                      className={classnames([\n                        Classes.BUTTON,\n                        Classes.MINIMAL\n                      ])}\n                      iconName=\"graph\"\n                      text={`Neighbors (${numHiddenNeighbor} hidden)`}\n                      intent={Intent.PRIMARY}\n                      onClick={() => {\n                        appState.graph.frame.pauseLayout();\n                        appState.preferences.neighborDialogOpen = true;\n                        this.forceUpdate();\n                      }}\n                    />\n                  </Tooltip>\n                </div>\n            )}\n        </div>\n      );\n  }\n}\n\nexport default SelectionActionPanel;","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport {\n  Button,\n  Classes,\n  InputGroup,\n  Intent,\n  Position,\n  Tooltip,\n  Popover,\n  Menu,\n  MenuItem,\n  MenuDivider\n} from \"@blueprintjs/core\";\nimport pluralize from \"pluralize\";\nimport appState from \"../../stores\";\nimport GlobalPanel from \"./GlobalPanel\";\nimport SelectionPanel from \"./SelectionPanel\";\nimport uniq from \"lodash/uniq\";\nimport { averageClusteringCoefficient } from \"../../services/AlgorithmUtils\";\n\n\n@observer\nclass ZoomPanel extends React.Component {\n  render() {\n    return (\n      <div className={classnames(\n        \"zoom-buttons\"\n      )}>\n          <Button\n            style={{marginBottom: \"5px\"}}\n            className={classnames([Classes.BUTTON])} \n            iconName=\"plus\"\n            onClick={() => {\n              let controls = appState.controls\n              controls.dollyIn(1.5)\n            }}\n            ></Button>\n            \n            \n            <br></br>\n            \n            \n            <Button \n            style={{marginBottom: \"5px\"}}\n            className={classnames([Classes.BUTTON])} \n            iconName=\"minus\"\n            onClick={() => {\n              let controls = appState.controls\n              controls.dollyIn(0.5)\n            }}></Button>\n\n\n            <br></br>\n            \n            \n            <Button\n            style={{marginBottom: \"5px\"}} \n            className={classnames([Classes.BUTTON])} \n            iconName=\"home\"\n            onClick={() => {\n              let controls = appState.controls\n              controls.reset()\n\n              //reset to center of graph code:\n              // let xVal = 0\n              // let yVal = 0\n              // let pos = appState.graph.frame.getPositions();\n              // for(let n in pos) {\n              //   xVal = pos[n][0]\n              //   yVal = pos[n][1]\n              // }\n              // let len = Object.keys(pos).length\n              // appState.panToMousePosition(xVal,yVal);\n            }}></Button>\n      </div>\n    );\n  }\n}\n\nexport default ZoomPanel;","import React from \"react\";\nimport { Classes, Tab2, Tabs2 } from \"@blueprintjs/core\";\nimport classnames from \"classnames\";\nimport { observer } from \"mobx-react\";\nimport appState from \"../stores\";\nimport SimpleSelect from \"./utils/SimpleSelect\";\nimport { addNode } from \"../ipc/client\";\nimport NodesPanel from \"./panels/NodesPanel\";\nimport EdgesPanel from \"./panels/EdgesPanel\";\nimport LabelsPanel from \"./panels/LabelsPanel\";\nimport NodeDetail from \"./panels/NodeDetailPanel\";\nimport Legends from \"./Legends\";\nimport StatusBar from './StatusBar';\nimport SelectionActionPanel from \"./panels/SelectionActionPanel\";\nimport ZoomPanel from \"./panels/ZoomPanel\";\n\n// TODO: migrate to simple select\n\n@observer\nclass RenderOptionsCard extends React.Component {\n  render() {\n    return (\n      <div>\n        <h4>Graph Options</h4>\n        <Tabs2 animate id=\"graph-options\">\n          <Tab2 id=\"nodes\" title=\"Nodes\" panel={<NodesPanel />} />\n          <Tab2 id=\"edges\" title=\"Edges\" panel={<EdgesPanel />} />\n          <Tab2 id=\"labels\" title=\"Labels\" panel={<LabelsPanel />} />\n          {/* <Tab2 id=\"layout\" title=\"Layout\" panel={<LayoutPanel />} /> */}\n          <Tabs2.Expander />\n        </Tabs2>\n      </div>\n    );\n  }\n}\n\n//\n\n@observer\nclass FloatingCards extends React.Component {\n  optionsVisible = {\n    left: '0em'\n  }\n  optionsInvisible = {\n    left: '-22em'\n  }\n  sideButtonVis = {\n    marginLeft: '50px'\n  }\n  sideButtonInv = {\n    marginLeft: '-15px'\n  }\n  toggleOptions = () => {\n    appState.preferences.isRenderOptionsCardHidden = !appState.preferences.isRenderOptionsCardHidden;\n  };\n  render() {\n    return (\n      <div className=\"floating-overlay\">\n        <div className=\"left-cards\">\n          {appState.search.panelOpen && (\n            <div\n              className={classnames(\n                Classes.CARD,\n                Classes.ELEVATION_2,\n                \"overlay-card\",\n                \"left-overlay-card\"\n              )}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"left\",\n                  alignItems: \"left\"\n                }}\n              >\n                <h4 style={{ width: 140 }}>\n                  {appState.search.numCandidates} results\n                </h4>\n                <div style={{ width: 20 }} />\n                <h4>Order</h4>\n                <div style={{ width: 5 }} />\n                <SimpleSelect\n                  style={{ \"margin-bottom\": 10 }}\n                  items={[...appState.graph.metadata.nodeComputed, \"node_id\"]}\n                  onSelect={it => (appState.graph.searchOrder = it)}\n                  value={appState.graph.searchOrder}\n                />\n              </div>\n              <table\n                className={classnames(\n                  Classes.TABLE,\n                  Classes.TABLE_STRIPED,\n                  Classes.INTERACTIVE\n                )}\n                style={{\n                  width: \"100%\",\n                  userSelect: \"none\"\n                }}\n              >\n                <tbody>\n                  {appState.search.candidates.map((node, i) => (\n                    <tr\n                      key={i}\n                      onMouseOver={() =>\n                        appState.graph.frame.highlightNodeIds(\n                          [node.node_id],\n                          true\n                        )\n                      }\n                      onMouseDown={() => addNode(node.node_id)}\n                      onMouseLeave={() =>\n                        appState.graph.frame.highlightNodeIds(\n                          [node.node_id],\n                          false\n                        )\n                      }\n                    >\n                      <td>{node[appState.graph.nodes.labelBy]}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              <center>\n                <a\n                  onMouseDown={() => {\n                    if (appState.search.pageNum > 0) {\n                      appState.search.pageNum -= 1;\n                      appState.search.candidates = appState.search.allCands.slice(\n                        appState.search.pageNum * appState.search.nPerPage,\n                        (appState.search.pageNum + 1) * appState.search.nPerPage\n                      );\n                    }\n                  }}\n                >\n                  Prev&nbsp;\n                </a>\n                &nbsp;\n                {appState.search.pageNum !== 0 ? (\n                  <a\n                    onMouseDown={() => {\n                      appState.search.pageNum = 0;\n                      appState.search.candidates = appState.search.allCands.slice(\n                        appState.search.pageNum * appState.search.nPerPage,\n                        (appState.search.pageNum + 1) * appState.search.nPerPage\n                      );\n                    }}\n                  >\n                    1&nbsp;\n                  </a>\n                ) : (\n                    <a\n                      style={{\n                        color: \"#111111\",\n                        pointerEvents: \"none\",\n                        cursor: \"default\"\n                      }}\n                    >\n                      {appState.search.pageNum + 1}&nbsp;\n                    </a>\n                  )}\n                ...<b>&nbsp;</b>\n                {appState.search.pages.map(i => {\n                  if (\n                    i != 0 &&\n                    i != appState.search.maxPage &&\n                    i == appState.search.pageNum\n                  ) {\n                    return (\n                      <a\n                        key={i}\n                        style={{\n                          color: \"#111111\",\n                          pointerEvents: \"none\",\n                          cursor: \"default\"\n                        }}\n                      >\n                        {appState.search.pageNum + 1}&nbsp;\n                      </a>\n                    );\n                  } else if (\n                    i != 0 &&\n                    i != appState.search.maxPage &&\n                    ((i > appState.search.pageNum - 4 &&\n                      i < appState.search.pageNum + 4) ||\n                      (appState.search.pageNum < 4 && i < 8) ||\n                      (appState.search.pageNum > appState.search.maxPage - 4 &&\n                        i > appState.search.maxPage - 8))\n                  ) {\n                    return (\n                      <a\n                        key={i}\n                        onMouseDown={() => {\n                          appState.search.pageNum = i;\n                          appState.search.candidates = appState.search.allCands.slice(\n                            appState.search.pageNum * appState.search.nPerPage,\n                            (appState.search.pageNum + 1) *\n                            appState.search.nPerPage\n                          );\n                        }}\n                      >\n                        {i + 1}&nbsp;\n                      </a>\n                    );\n                  }\n                })}\n                ...&nbsp;\n                {appState.search.pageNum !== appState.search.maxPage ? (\n                  <a\n                    onMouseDown={() => {\n                      appState.search.pageNum = appState.search.maxPage;\n                      appState.search.candidates = appState.search.allCands.slice(\n                        appState.search.pageNum * appState.search.nPerPage,\n                        (appState.search.pageNum + 1) * appState.search.nPerPage\n                      );\n                    }}\n                  >\n                    {appState.search.maxPage + 1}&nbsp;\n                  </a>\n                ) : (\n                    <a\n                      style={{\n                        color: \"#111111\",\n                        pointerEvents: \"none\",\n                        cursor: \"default\"\n                      }}\n                    >\n                      {appState.search.pageNum + 1}\n                    </a>\n                  )}\n                &nbsp;\n                <a\n                  onMouseDown={() => {\n                    if (appState.search.pageNum < appState.search.maxPage) {\n                      appState.search.pageNum += 1;\n                      appState.search.candidates = appState.search.allCands.slice(\n                        appState.search.pageNum * appState.search.nPerPage,\n                        (appState.search.pageNum + 1) * appState.search.nPerPage\n                      );\n                    }\n                  }}\n                >\n                  Next\n                </a>\n                <br />\n                <br />\n                <h5>Page {appState.search.pageNum + 1}</h5>\n              </center>\n            </div>\n          )}\n          <div\n            className={classnames(\n              Classes.CARD,\n              Classes.ELEVATION_2,\n              \"overlay-card\",\n              \"left-overlay-card\",\n              \"transparent-frame\",\n              \"left-cards\"\n            )}\n            style={appState.preferences.isRenderOptionsCardHidden ? this.optionsInvisible : this.optionsVisible}\n          >\n            <button className=\"openbtn2\" onClick={this.toggleOptions}> &#8249;\n            </button>\n            <br />\n            <RenderOptionsCard />\n          </div>\n          <div className={classnames(Classes.CARD, Classes.ELEVATION_2, \"overlay-card\",\n            \"transparent-frame\")} style={{ width: \"1em\", paddingTop: \"1em\", paddingRight: \"0.7em\", paddingBottom: \"0.5em\", marginLeft: \"-5.4em\" }}>\n            <button className=\"openbtn\" onClick={this.toggleOptions} style={appState.preferences.isRenderOptionsCardHidden ? this.sideButtonVis : this.sideButtonInv}>\n              &#9776;\n              </button>\n          </div>\n        </div>\n        {appState.graph.selectedNodes.length === 1 && (\n          <NodeDetail node={appState.graph.selectedNodes[0].data.ref} />\n        )}\n\n        {appState.graph.selectedNodes.length !== 1 && appState.graph.currentlyHovered && (\n          <NodeDetail node={appState.graph.currentlyHovered.data.ref} />\n        )}\n\n       \n\n        <Legends />\n        <StatusBar />\n        {// This menu only shows when there are nodes selected\n          appState.graph.selectedNodes.length > 0 && !appState.preferences.isNavbarInMinimalMode && <SelectionActionPanel />\n        }\n\n        <ZoomPanel/>\n      </div>\n    );\n  }\n}\n\n\nexport default FloatingCards;","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport {\n  Button,\n  Classes,\n  FocusStyleManager,\n  NonIdealState\n} from \"@blueprintjs/core\";\nimport Dialogs from \"./components/Dialogs\";\nimport Navbar from \"./components/Navbar\";\nimport WorkspaceView from \"./components/WorkspaceView\";\nimport appState from \"./stores/index\";\nimport ThreeJSVis from \"./visualizers/ThreeJSVis\";\nimport FloatingCards from \"./components/FloatingCards\";\nimport registerIPC from \"./ipc/client\";\nimport { fetchWorkspaceProjects } from \"./ipc/client\";\nimport { MOBILE_WIDTH_CUTOFF, MOBILE_HEIGHT_CUTOFF } from \"./constants\";\n\nimport keydown, { Keys } from \"react-keydown\";\n\nregisterIPC();\nFocusStyleManager.onlyShowFocusOnTabs();\n\nfetchWorkspaceProjects();\n\nappState.preferences.loadUserConfig();\n\nconst { DELETE, BACKSPACE, P, U } = Keys;\n\n// Respond to window resize, also triggered after frame is loaded.\nfunction respondToResize() {\n  if (!appState.graph.frame) {\n    window.setTimeout(respondToResize, 1000);\n    return;\n  }\n  if (window.innerWidth < MOBILE_WIDTH_CUTOFF || window.innerHeight < MOBILE_HEIGHT_CUTOFF) {\n    appState.preferences.turnOnMinimalMode();\n  }\n}\n\nrespondToResize();\n\nwindow.addEventListener('resize', respondToResize);\n\n@keydown\n@observer\nclass App extends React.Component {\n  componentWillReceiveProps({ keydown }) {\n    if (keydown.event) {\n      if (keydown.event.which === DELETE || keydown.event.which === BACKSPACE) {\n        if (appState && appState.graph && appState.graph.frame) {\n          appState.graph.hideNodes(appState.graph.frame.getSelectedIds());\n          this.forceUpdate();\n        }\n      } else if (keydown.event.which === P) {\n        if (appState && appState.graph && appState.graph.frame) {\n          appState.graph.frame.pinSelectedNodes();\n        }\n      } else if (keydown.event.which === U) {\n        if (appState && appState.graph && appState.graph.frame) {\n          appState.graph.frame.unpinSelectedNodes();\n        }\n      }\n    }\n  }\n  render() {\n    return (\n      <div\n        className={classnames({\n          \"app-wrapper\": true,\n          [Classes.DARK]: appState.preferences.darkMode\n        })}>\n        <Navbar />\n        <main className=\"main\">\n          {appState.graph.hasGraph ? (\n            <ThreeJSVis />\n          ) : (\n              <WorkspaceView />\n            )}\n        </main>\n        {appState.graph.hasGraph && <FloatingCards />}\n        <Dialogs />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\n\nimport 'normalize.css/normalize.css';\nimport '@blueprintjs/core/dist/blueprint.css';\nimport '@blueprintjs/table/dist/table.css';\nimport './styles/index.css';\n\nconst render = () => {\n    ReactDOM.render(<App/>, document.getElementById('root'));\n};\n\nrender();","const jsnx = require('jsnetworkx');\nconst jsgraphs = require('js-graph-algorithms');\n\n/**\n * Convert Argo-lite snapshot for use in the JSNetworkX library.\n * @param {*} snapshot Argo-lite Snapshot Object exported by GraphStore\n */\nexport function convertToJsnx(snapshot) {\n    const jsnxGraph = new jsnx.Graph();\n    jsnxGraph.addNodesFrom(snapshot.rawGraph.nodes.map(n => [n.id, n]));\n    jsnxGraph.addEdgesFrom(snapshot.rawGraph.edges.map(e => [e.source_id, e.target_id]));\n    return jsnxGraph;\n}\n\n/**\n * Convert Argo-lite snapshot for use in the ngraph library.\n * @param {*} snapshot Argo-lite Snapshot Object exported by GraphStore\n */\nexport function convertToNGraph(snapshot) {\n    return null;\n}\n\n/**\n * Convert Argo-lite snapshot for use in the js-graph-algorithms library.\n * @param {*} snapshot Argo-lite Snapshot Object exported by GraphStore\n */\nexport function convertToJSGraph(snapshot) {\n    var idDict = {};\n    var i;\n    for (i = 0; i < snapshot.rawGraph.nodes.length; i++) {\n        idDict[snapshot.rawGraph.nodes[i].id] = i;\n    }\n    var g = new jsgraphs.Graph(snapshot.rawGraph.nodes.length);\n    snapshot.rawGraph.edges.forEach(e => {\n        g.addEdge(idDict[e.source_id], idDict[e.target_id]);\n    });\n    return [g, idDict];\n}\n\n/**\n * Convert Argo-lite snapshot for use in the js-graph-algorithms library (Weighted).\n * @param {*} snapshot Argo-lite Snapshot Object exported by GraphStore\n */\nexport function convertToJSGraphWeightedDi(snapshot) {\n    var idDict = {};\n    var i;\n    for (i = 0; i < snapshot.rawGraph.nodes.length; i++) {\n        idDict[snapshot.rawGraph.nodes[i].id] = i;\n    }\n    var g = new jsgraphs.WeightedDiGraph(snapshot.rawGraph.nodes.length);\n    snapshot.rawGraph.edges.forEach(e => {\n        g.addEdge(new jsgraphs.Edge(idDict[e.source_id], idDict[e.target_id], 1.0));\n    });\n    return [g, idDict];\n}\n\n/**\n * Convert Argo-lite snapshot to the GEXF format.\n * @param {*} snapshot Argo-lite Snapshot Object exported by GraphStore\n */\nexport function convertToGexf(snapshot) {\n    return null;\n}\n\n/**\n * Calculate the average clustering coefficient of the (undirected unweighted) graph.\n * @param {*} snapshot Argo-lite Snapshot Object exported by GraphStore\n */\nexport function averageClusteringCoefficient(snapshot) {\n    const jsnxGraph = convertToJsnx(snapshot);\n    const result = jsnx.averageClustering(jsnxGraph);\n    console.log('Computing Clustering Coefficient');\n    return result;\n}\n\n/**\n * Calculate the number of connected components in a graph\n * @param {*} rawGraph the rawGraph inside appState\n */\nexport function connectedComponents(snapshot) {\n    var cc = new jsgraphs.ConnectedComponents(convertToJSGraph(snapshot)[0]);\n    return cc.componentCount();\n}\n\n/**\n * Calculate the density of a graph\n * @param {*} rawGraph the rawGraph inside appState\n */\nexport function graphDensity(snapshot) {\n    const nodeCount = snapshot.rawGraph.nodes.length;\n    const edgeCount = snapshot.rawGraph.edges.length / 2;\n    return (2 * edgeCount) / ((nodeCount) * (nodeCount - 1));\n}\n\n/**\n * Calculate the average degree of a graph\n * @param {*} rawGraph the rawGraph inside appState\n */\nexport function averageDegree(snapshot) {\n    let sum = 0;\n    snapshot.rawGraph.nodes.forEach(e => {\n            sum += e.degree;\n        }\n    )\n    return sum / snapshot.rawGraph.nodes.length;\n}\n\n/**\n * Calculate the diameter of a graph\n * @param {*} rawGraph the rawGraph inside appState\n */\nexport function exactGraphDiameter(snapshot) {\n    let temp = convertToJSGraphWeightedDi(snapshot);\n    let jsg = temp[0];\n    let idDict = temp[1]\n    let dia = -1;\n    snapshot.rawGraph.nodes.forEach(e => {\n        let dijkstra = new jsgraphs.Dijkstra(jsg, idDict[e.id]);\n        snapshot.rawGraph.nodes.forEach(f => {\n            if(dijkstra.hasPathTo(idDict[f.id])){\n                let pathLength = dijkstra.pathTo(idDict[f.id]).length;\n                dia = Math.max(dia, pathLength);\n            }\n        })\n    });\n    return dia;\n}\n ","import * as scale from \"d3-scale\";\n\n// Argo-lite Iframe widget mode\n// Build the app separately and host it on a different URL\n// If set to true, the app will begin in widget mode\n// hiding certain panels, logo, and minimap\n// and show a minimalist Navbar.\nexport const IS_IFRAME_WIDGET = window.location !== window.parent.location;\n\nexport const FRONTEND_URL = \"https://poloclub.github.io/argo-graph-lite\";\nexport const LOGO_URL = \"https://github.com/poloclub/argo-graph-lite\";\nexport const GITHUB_URL = \"https://github.com/poloclub/argo-graph-lite\";\n// Argo-lite Graph Sharing backend Strapi Server:\nexport const BACKEND_URL = \"https://argo-share.herokuapp.com\"; // for production\n// export const BACKEND_URL = \"https://sleepy-brushlands-57948.herokuapp.com\"; // for free heroku\n// export const BACKEND_URL = \"http://localhost:1337\"; // for local strapi development\nexport const SAMPLE_GRAPH_SNAPSHOTS = [\n  [\"Les Miserables\", \"31d8fb5a-b540-4db6-a2df-9c0158e152f0\"],\n  [\"CORD-19 Citation Graph 06-02\", \"4bf882d3-8966-4f41-a590-acafeb998d2a\"]\n];\n\n// When resizing window or running on mobile,\n// used to determine whether screen\n// is considered small.\nexport const MOBILE_WIDTH_CUTOFF = 800;\nexport const MOBILE_HEIGHT_CUTOFF = 480;\n\nexport const SCALE_LINEAR = \"Linear Scale\";\nexport const SCALE_LOG = \"Log Scale\";\n\nexport const scales = {\n  [SCALE_LINEAR]: scale.scaleLinear,\n  [SCALE_LOG]: scale.scaleLog\n};\n\nexport const LOAD_USER_CONFIG = \"load-user-config\";\nexport const LOADED_USER_CONFIG = \"loaded-user-config\";\nexport const SAVE_USER_CONFIG = \"save-user-config\";\nexport const SAVED_USER_CONFIG = \"saved-user-config\";\n\nexport const FETCH_WORKSPACE_PROJECTS = \"fetch-workspace-projects\";\nexport const FETCHED_WORKSPACE_PROJECTS = \"fetched-workspace-projects\";\nexport const MENU_NEW_PROJECT = \"menu-new-project\";\nexport const CREATE_NEW_PROJECT = \"create-new-project\";\nexport const CREATED_NEW_PROJECT = \"created-new-project\";\n\nexport const DELETE_FILE = \"delete-file\";\nexport const RENAME_FILE = \"rename-file\";\n\nexport const LOAD_GRAPH_JSON = \"load-graph-json\";\nexport const LOAD_GRAPH_SQLITE = \"load-graph-sqlite\";\nexport const LOADED_GRAPH_JSON = \"loaded-graph-json\";\nexport const LOAD_TOAST_KEY = \"load-toast-key\";\n\nexport const SAVE_GRAPH_JSON = \"save-graph-json\";\nexport const SAVE_GRAPH_SQLITE = \"save-graph-sqlite\";\nexport const SAVED_GRAPH_JSON = \"saved-graph-json\";\nexport const SAVE_TOAST_KEY = \"save-const-key\";\n\nexport const MENU_LOAD = \"menu-load\";\nexport const MENU_IMPORT_CSV = \"menu-import-csv\";\nexport const MENU_SAVE_GRAPH_STATE = \"menu-save-graph-state\";\nexport const MENU_SAVE_GRAPH_STATE_TO_PROJECT =\n  \"menu-save-graph-state-to-project\";\nexport const MENU_SAVE_GRAPH_SQLITE = \"menu-save-graph-sqlite\";\nexport const SAVE_GRAPH_STATE = \"save-graph-state\";\nexport const SAVED_GRAPH_STATE = \"saved-graph-state\";\nexport const SAVE_GRAPH_STATE_TO_PROJECT = \"save-graph-state-to-project\";\nexport const SAVED_GRAPH_STATE_TO_PROJECT = \"saved-graph-state-to-project\";\nexport const LOAD_GRAPH_STATE = \"load-graph-state\";\nexport const LOADED_GRAPH_STATE = \"loaded-graph-state\";\n\nexport const SHOW_ITEM_IN_FOLDER = \"show-item-in-folder\";\nexport const SHOW_WORKSPACE_FOLDER = 'show-workspace-folder';\nexport const CHANGE_WORKSPACE_FOLDER = 'change-workspace-folder';\nexport const CHANGED_WORKSPACE_FOLDER = 'changed-workspace-folder';\n\nexport const CHOOSE_EDGE_FILE = \"choose-edge-file\";\nexport const CHOSEN_EDGE_FILE = \"chosen-edge-file\";\nexport const CHOOSE_NODE_FILE = \"choose-node-file\";\nexport const PEAKED_NODE_FILE = \"peaked-node-file\";\nexport const CHOSEN_NODE_FILE = \"chosen-node-file\";\n\nexport const CHOOSE_GRAPH_FILE = \"choose-graph-file\";\nexport const CHOSEN_GRAPH_FILE = \"chosen-graph-file\";\nexport const CHOOSE_STATE_FILE = \"choose-state-file\";\nexport const CHOSEN_STATE_FILE = \"chosen-state-file\";\n\nexport const NODE_AND_EDGE_FILE = \"both nodes and edges file\";\nexport const ONLY_EDGE_FILE = \"only edges file\";\n\nexport const GRAPH_AND_STATE_FILE = \"both graph and snapshot file\";\nexport const ONLY_GRAPH_FILE = \"only graph file\";\nexport const IMPORT_GRAPH = \"import-graph\";\nexport const IMPORTED_GRAPH = \"imported-graph\";\nexport const OPEN_GRAPH = \"open-graph\";\nexport const OPENED_GRAPH = \"opened-graph\";\n\nexport const SEARCH_REQUEST = \"search-request\";\nexport const SEARCH_RESPONSE = \"search-response\";\n\nexport const ADD_NODES = \"add-nodes\";\nexport const ADD_SELECT_NODE = \"add-select-node\";\nexport const ADD_NODE = \"add-node\";\nexport const GET_NEIGHBORS = \"get-neighbors\";\n","import { runInAction, toJS } from 'mobx';\nimport { Intent } from '@blueprintjs/core';\nimport { demapify } from 'es6-mapify';\n\nimport appState from '../stores/index';\nimport {\n  ADD_NODE,\n  ADD_NODES,\n  ADD_SELECT_NODE,\n  CHOOSE_EDGE_FILE,\n  CHOOSE_GRAPH_FILE,\n  CHOOSE_NODE_FILE,\n  CHOOSE_STATE_FILE,\n  CHOSEN_EDGE_FILE,\n  CHOSEN_GRAPH_FILE,\n  CHOSEN_NODE_FILE,\n  CHOSEN_STATE_FILE,\n  GET_NEIGHBORS,\n  IMPORT_GRAPH,\n  IMPORTED_GRAPH,\n  LOAD_GRAPH_SQLITE,\n  LOADED_GRAPH_SQLITE,\n  LOADED_GRAPH_STATE,\n  MENU_IMPORT_CSV,\n  MENU_LOAD,\n  MENU_NEW_PROJECT,\n  MENU_SAVE_GRAPH_SQLITE,\n  MENU_SAVE_GRAPH_STATE,\n  CREATE_NEW_PROJECT,\n  CREATED_NEW_PROJECT,\n  OPEN_GRAPH,\n  OPENED_GRAPH,\n  FETCH_WORKSPACE_PROJECTS,\n  FETCHED_WORKSPACE_PROJECTS,\n  SAVE_GRAPH_SQLITE,\n  SAVE_GRAPH_STATE,\n  SAVED_GRAPH_JSON,\n  SAVED_GRAPH_STATE,\n  SEARCH_REQUEST,\n  SEARCH_RESPONSE,\n  SHOW_ITEM_IN_FOLDER,\n  SAVED_GRAPH_STATE_TO_PROJECT,\n  MENU_SAVE_GRAPH_STATE_TO_PROJECT,\n  SAVE_GRAPH_STATE_TO_PROJECT,\n  DELETE_FILE,\n  RENAME_FILE,\n  SHOW_WORKSPACE_FOLDER,\n  LOAD_USER_CONFIG,\n  LOADED_USER_CONFIG,\n  SAVED_USER_CONFIG,\n  SAVE_USER_CONFIG,\n  CHANGE_WORKSPACE_FOLDER,\n  CHANGED_WORKSPACE_FOLDER,\n} from '../constants/index';\nimport { toaster } from '../notifications/client';\n\nimport createGraph from 'ngraph.graph';\nimport pageRank from 'ngraph.pagerank';\nimport parse from \"csv-parse/lib/sync\";\n// import worker from './worker';\n\n// TODO: Register web worker used by Argo-lite.\n\n// Argo-lite replacement for electron ipc.\nconst ipcRenderer = {\n  send: (eventString) => {\n    console.log(`ipcRenderer.send(${eventString}, ...)`);\n  }\n}\n\nexport default function registerIPC() {\n  // ipcRenderer.on(LOADED_USER_CONFIG, (event, loadedObject) => {\n  //   // Overwrite PreferenceStore values according to user config values,\n  //   // if present.\n  //   if (loadedObject.darkMode) {\n  //     appState.preferences.darkMode = true;\n  //   }\n  //   if (loadedObject.workspace && loadedObject.workspace != '') {\n  //     appState.preferences.workspacePath = loadedObject.workspace;\n  //   }\n  // });\n\n  // ipcRenderer.on(SAVED_USER_CONFIG, (event) => {\n  //   toaster.show({\n  //     message: \"User configuration saved\",\n  //     intent: Intent.SUCCESS,\n  //     iconName: 'saved',\n  //   });\n  // });\n\n  // ipcRenderer.on(LOADED_GRAPH_SQLITE, (event, loadedObject) => {\n  //   runInAction('load saved graph', () => {\n  //     appState.graph.rawGraph = loadedObject.rawGraph;\n  //     appState.graph.metadata = loadedObject.metadata;\n  //   });\n  // });\n\n  // ipcRenderer.on(OPENED_GRAPH, (event, loadedObject) => {\n  //   runInAction('load saved graph and state', () => {\n  //     console.log(loadedObject);\n  //     appState.graph.rawGraph = loadedObject.rawGraph;\n  //     appState.graph.metadata = loadedObject.metadata;\n  //     if (loadedObject.state) {\n  //       appState.graph.loadImmediateStates(loadedObject.state);\n  //     }\n  //   });\n  // });\n\n  // ipcRenderer.on(LOADED_GRAPH_STATE, (event, loadedObject) => {\n  //   appState.graph.loadImmediateStates(loadedObject);\n  // });\n\n  // ipcRenderer.on(SAVED_GRAPH_STATE, (event, savedFilePath) => {\n  //   toaster.show({\n  //     message: `Saved graph snapshot file to ${savedFilePath}`,\n  //     intent: Intent.SUCCESS,\n  //     iconName: 'saved',\n  //     action: {\n  //       onClick: () => ipcRenderer.send(SHOW_ITEM_IN_FOLDER, savedFilePath),\n  //       text: 'Show in Folder',\n  //     },\n  //   });\n  // });\n\n  // ipcRenderer.on(SAVED_GRAPH_STATE_TO_PROJECT, (event, snapshotName) => {\n  //   toaster.show({\n  //     message: `Saved to snapshot ${snapshotName}`,\n  //     intent: Intent.SUCCESS,\n  //     iconName: 'saved',\n  //   });\n  // });\n\n  // ipcRenderer.on(SAVED_GRAPH_JSON, (event, savedFilePath) => {\n  //   toaster.show({\n  //     message: `Saved graph file to ${savedFilePath}`,\n  //     intent: Intent.SUCCESS,\n  //     iconName: 'saved',\n  //     action: {\n  //       onClick: () => ipcRenderer.send(SHOW_ITEM_IN_FOLDER, savedFilePath),\n  //       text: 'Show in Folder',\n  //     },\n  //   });\n  // });\n\n  // ipcRenderer.on(CHOSEN_NODE_FILE, (event, path) => {\n  //   appState.import.importConfig.nodeFile.path = path;\n  // });\n\n  // ipcRenderer.on(CHOSEN_EDGE_FILE, (event, path) => {\n  //   appState.import.importConfig.edgeFile.path = path;\n  // });\n\n  // ipcRenderer.on(CHOSEN_GRAPH_FILE, (event, path) => {\n  //   appState.import.graphFile = path;\n  // });\n\n  // ipcRenderer.on(CHOSEN_STATE_FILE, (event, path) => {\n  //   appState.import.stateFile = path;\n  // });\n\n  // ipcRenderer.on(IMPORTED_GRAPH, (event) => {\n  //   appState.import.loading = false;\n  //   appState.import.dialogOpen = false;\n  //   appState.project.isFetching = true;\n  //   fetchWorkspaceProjects();\n  // });\n\n  // ipcRenderer.on(ADD_NODES, (event, toAdd) => {\n  //   runInAction('add nodes and edges to graph', () => {\n  //     appState.graph.rawGraph.nodes = appState.graph.rawGraph.nodes.concat(\n  //       toAdd.nodes,\n  //     );\n  //     appState.graph.rawGraph.edges = appState.graph.rawGraph.edges.concat(\n  //       toAdd.edges,\n  //     );\n  //   });\n  // });\n\n  // ipcRenderer.on(ADD_SELECT_NODE, (event, toAdd) => {\n  //   runInAction('add nodes and edges to graph', () => {\n  //     appState.graph.rawGraph.nodes = appState.graph.rawGraph.nodes.concat(\n  //       toAdd.nodes,\n  //     );\n  //     appState.graph.rawGraph.edges = appState.graph.rawGraph.edges.concat(\n  //       toAdd.edges,\n  //     );\n  //   });\n\n  //   appState.graph.frame.setLastNode(toAdd.nodes[0].node_id);\n  //   appState.graph.frame.dragLastNode();\n  // });\n\n  // ipcRenderer.on(SEARCH_RESPONSE, (event, candidates) => {\n  //   var cands = JSON.parse(candidates);\n  //   var ckeys = cands.map(x => x.node_id);\n  //   appState.search.allCands = Object.values(cands);\n  //   appState.search.pageNum = 0;\n  //   appState.search.nPerPage = 10;\n  //   appState.search.numCandidates = appState.search.allCands.length;\n  //   appState.search.maxPage = parseInt(\n  //     appState.search.allCands.length / appState.search.nPerPage,\n  //   );\n  //   appState.search.pages = [...Array(appState.search.maxPage).keys()];\n  //   appState.search.candidates = appState.search.allCands.slice(0, 10);\n  //   appState.search.panelOpen = true;\n  //   if (appState.graph.frame) {\n  //     appState.graph.frame.highlightNodeIds(ckeys, true);\n  //   }\n  // });\n\n  // ipcRenderer.on(LOADED_GRAPH_STATE, (event, stateStr) => {\n  //   appState.graph.loadImmediateStates(stateStr);\n  // });\n\n  // ipcRenderer.on(CREATED_NEW_PROJECT, () => {\n  //   fetchWorkspaceProjects();\n  // });\n\n  // ipcRenderer.on(FETCHED_WORKSPACE_PROJECTS, (event, projects) => {\n  //   appState.project.isFetching = false;\n  //   appState.project.projects = projects;\n  //   // Update mobx state on projects, useful for updating the components after deleting/renaming etc.\n  //   if (appState.project.currentProject !== null) {\n  //     // There is a project currently selected (showing in a ProjectDetailDialog etc.)\n  //     // This fetch needs to update the dialog also\n  //     const temp = appState.project.projects.filter((project) => {\n  //       return project.projectPath === appState.project.currentProject.projectPath;\n  //     });\n  //     if (temp.length === 1) {\n  //       appState.project.currentProject = temp[0];\n  //     } else {\n  //       appState.project.currentProject = null;\n  //     }\n      \n  //   }\n  // });\n\n  // ipcRenderer.on(CHANGED_WORKSPACE_FOLDER, (events, newWorkspaceDirectory) => {\n  //   appState.preferences.workspacePath = newWorkspaceDirectory;\n  //   appState.preferences.saveUserConfig();\n  // });\n\n  // ipcRenderer.on(MENU_NEW_PROJECT, () => {\n  //   appState.project.isNewProjectDialogOpen = true;\n  // });\n\n  // ipcRenderer.on(MENU_LOAD, () => {\n  //   appState.preferences.openDialogOpen = true;\n  // });\n\n  // ipcRenderer.on(MENU_IMPORT_CSV, () => {\n  //   appState.import.dialogOpen = true;\n  // });\n\n  // ipcRenderer.on(MENU_SAVE_GRAPH_STATE, () => {\n  //   // Original implementation for opening a traditional system-level save file dialog\n  //   // ipcRenderer.send(SAVE_GRAPH_STATE, appState.graph.saveImmediateStates());\n    \n  //   // New implementation opening a dialog that saves snapshot to project\n  //   appState.project.isSaveSnapshotDialogOpen = true;\n  // });\n\n  // ipcRenderer.on(MENU_SAVE_GRAPH_STATE_TO_PROJECT, () => {\n  //   requestSaveSnapshot();\n  // });\n\n  // ipcRenderer.on(MENU_SAVE_GRAPH_SQLITE, requestSaveSQLite);\n}\n\nexport function requestLoadSQLite() {\n  ipcRenderer.send(LOAD_GRAPH_SQLITE);\n}\n\nexport function addNode(node_id) {\n  ipcRenderer.send(ADD_NODE, node_id);\n}\n\nexport function requestNeighbors(\n  node_id,\n  attr = 'degree',\n  num = '10',\n  order = 'desc',\n) {\n  ipcRenderer.send(GET_NEIGHBORS, node_id, attr, num, order);\n}\n\nfunction requestSaveSQLite() {\n  ipcRenderer.send(\n    SAVE_GRAPH_SQLITE,\n    JSON.stringify({\n      graph: toJS(appState.graph.rawGraph),\n      metadata: toJS(appState.graph.metadata),\n      nodes: toJS(appState.graph.nodes),\n      overrides: toJS(demapify(appState.graph.overrides)),\n      nodePositions: appState.graph.frame.getPositions(),\n    }),\n  );\n}\n\nexport function requestChooseNodeFile(hasHeader) {\n  ipcRenderer.send(CHOOSE_NODE_FILE, hasHeader);\n}\n\nexport function requestChooseEdgeFile(hasHeader) {\n  ipcRenderer.send(CHOOSE_EDGE_FILE, hasHeader);\n}\n\nexport function requestChooseGraphFile() {\n  ipcRenderer.send(CHOOSE_GRAPH_FILE);\n}\n\nexport function requestChooseStateFile() {\n  ipcRenderer.send(CHOOSE_STATE_FILE);\n}\n\nexport function requestOpen() {\n  ipcRenderer.send(\n    OPEN_GRAPH,\n    appState.import.graphFile,\n    appState.import.stateFile,\n  );\n}\n\n// Request to delete a file specified at filePath\nexport function requestDelete(filePath) {\n  ipcRenderer.send(DELETE_FILE, filePath);\n}\n\n/**\n * Request to rename a file specified at filePath\n * @param filePath where the file to be renamed is located\n * @param newName new file name with extension\n */\nexport function requestRename(filePath, newName) {\n  ipcRenderer.send(RENAME_FILE, filePath, newName);\n}\n\nexport function requestSaveSnapshot(snapshotName) {\n  if (!snapshotName) {\n    // Default: Use the currently opened snapshot name (if no snapshot opened, the default name in the ProjectStore will be used)\n    ipcRenderer.send(SAVE_GRAPH_STATE_TO_PROJECT, appState.graph.saveImmediateStates(), appState.project.currentProject.projectPath, appState.project.currentSnapshotName);\n  } else {\n    ipcRenderer.send(SAVE_GRAPH_STATE_TO_PROJECT, appState.graph.saveImmediateStates(), appState.project.currentProject.projectPath, snapshotName);\n  }\n}\n\nexport function requestImportGraphFromCSV(hasNodeFile, delimiter, newProjectName) {\n  if (!newProjectName) {\n    newProjectName = 'Test Project';\n  }\n  appState.import.loading = true;\n  const importConfig = {\n    hasNodeFile,\n    nodes: {\n      path: appState.import.importConfig.nodeFile.path,\n      hasColumns: appState.import.importConfig.nodeFile.hasColumns,\n      columns: toJS(appState.import.importConfig.nodeFile.columns),\n      mapping: toJS(appState.import.importConfig.nodeFile.mapping),\n    },\n    edges: {\n      path: appState.import.importConfig.edgeFile.path,\n      hasColumns: appState.import.importConfig.edgeFile.hasColumns,\n      columns: toJS(appState.import.importConfig.edgeFile.columns),\n      mapping: toJS(appState.import.importConfig.edgeFile.mapping),\n      createMissing: appState.import.importConfig.edgeFile.createMissing,\n    },\n    delimiter,\n    newProjectName\n  };\n  ipcRenderer.send(IMPORT_GRAPH, importConfig);\n\n  // TODO: Potentially separate this out to web worker.\n  importGraphFromCSV(importConfig).then(graph => {\n    // Run post import filters\n    appState.import.postImportFilter(graph.rawGraph);\n\n    runInAction('load imported graph', () => {\n      appState.graph.rawGraph = graph.rawGraph;\n      appState.graph.metadata = graph.metadata;\n      appState.graph.setUpFrame();\n    });\n    // Reinitialize global configs\n    appState.graph.nodes = appState.graph.initialGlobalConfig.nodes;\n    appState.graph.overrides = new Map();\n    appState.import.loading = false;\n    appState.import.dialogOpen = false;\n    // Sync preference store with graph-frontend frame\n    if (!appState.preferences.darkMode) { // assume frame defaults to dark\n      appState.graph.frame.toggleDark();\n    }\n    if (appState.preferences.minimapShowing) {\n      appState.graph.frame.showMiniMap();\n    } else {\n      appState.graph.frame.hideMiniMap();\n    }\n    // Newly imported graph shouldn't have label showing\n    appState.graph.frame.turnOffLabelCSSRenderer();\n  });\n}\n\nexport function requestImportGraphFromGexf() {\n  importGraphFromGexf().then(graph => {\n    // Run post import filters\n    appState.import.postImportFilter(graph.rawGraph);\n\n    runInAction('load imported graph', () => {\n      appState.graph.rawGraph = graph.rawGraph;\n      appState.graph.metadata = graph.metadata;\n      appState.graph.setUpFrame();\n    });\n    // Reinitialize global configs\n    appState.graph.nodes = appState.graph.initialGlobalConfig.nodes;\n    appState.graph.overrides = new Map();\n    appState.import.loading = false;\n    appState.import.gexfDialogOpen = false;\n    // Sync preference store with graph-frontend frame\n    if (!appState.preferences.darkMode) { // assume frame defaults to dark\n      appState.graph.frame.toggleDark();\n    }\n    if (appState.preferences.minimapShowing) {\n      appState.graph.frame.showMiniMap();\n    } else {\n      appState.graph.frame.hideMiniMap();\n    }\n    // Newly imported graph shouldn't have label showing\n    appState.graph.frame.turnOffLabelCSSRenderer();\n  });\n}\n\nasync function readCSV(fileObject, hasHeader, delimiter) {\n  const file = fileObject;\n  const reader = new FileReader();\n  reader.readAsText(file);\n  return new Promise((resolve, reject) => {\n    reader.onload = () => {\n      const content = reader.result;\n      try {\n        if (hasHeader) {\n          resolve(parse(content, {\n            comment: \"#\",\n            trim: true,\n            auto_parse: true,\n            skip_empty_lines: true,\n            columns: hasHeader,\n            delimiter\n          }));\n        }\n        resolve(parse(content, {\n          comment: \"#\",\n          trim: true,\n          auto_parse: true,\n          skip_empty_lines: true,\n          columns: undefined,\n          delimiter\n        }));\n      } catch(err) {\n        let msg =  err.message\n        let mismatch = msg.indexOf(\"Invalid Record Length:\") == 0\n        if (mismatch) {\n          msg = msg.replace(\"is\", \"set to\")\n          msg = msg.replace(\"got\", \"but detected\")\n        } \n        toaster.show({\n          message: \"Error: \" + msg,\n          intent: Intent.DANGER,\n          timeout: -1\n      });\n        appState.import.loading = false;\n      }\n    }\n  });\n}\n\nasync function parseGEXF(content) {\n  const parser = new DOMParser();\n      const xmlDoc = parser.parseFromString(content,\"text/xml\");\n      const xmlEdges = xmlDoc.getElementsByTagName('edge');\n      const xmlNodes = xmlDoc.getElementsByTagName('node');\n      const xmlAttri = xmlDoc.getElementsByTagName('attributes')\n      \n      let nodeAttri = [];\n      let edgeAttri = [];\n      const edgesArr = [];\n      const nodesArr = [];\n      const nodeAttriOrdered = {};\n      \n      for (let i = 0, l = xmlAttri.length; i < l; i++) {\n        const curr = xmlAttri[i];\n        if (curr.getAttribute('class') === 'node') {\n          nodeAttri = curr.getElementsByTagName('attribute');\n        }\n        else if (curr.getAttribute('class') === 'edge') {\n          edgeAttri = curr.getElementsByTagName('attribute');\n        }\n      }\n      \n      for (let i = 0, l = nodeAttri.length; i < l; i++) {\n        const curr = nodeAttri[i];\n        nodeAttriOrdered[curr.getAttribute(\"id\")] = curr.getAttribute(\"title\");\n      }\n\n      for (let i = 0, l = xmlEdges.length; i < l; i++) {\n        const currEdge = xmlEdges[i];\n        const s = currEdge.getAttribute('source').toString();\n        const t = currEdge.getAttribute('target').toString();\n        edgesArr.push({\n          source_id: s,\n          target_id: t,\n        });\n      }\n      for (let i = 0, l = xmlNodes.length; i < l; i++) {\n        const currNode = xmlNodes[i];\n        const id = currNode.getAttribute('id').toString();\n        const nodeAttvalues = currNode.getElementsByTagName(\"attvalues\");\n        const nodeAttvalue = [];\n        if (nodeAttvalues.length != 0) {\n          nodeAttvalue = nodeAttvalues[0].getElementsByTagName(\"attvalue\");\n        }\n        let node = { id: id, degree: 0, pagerank: 0, node_id: id};\n        for (let j = 0; j < nodeAttvalue.length; j++){\n          const value = nodeAttvalue[j].attributes[\"value\"].value;\n          const attributeIdElementAttribute = nodeAttvalue[j].attributes[\"for\"] || nodeAttvalue[j].attributes[\"id\"];\n          const attributeId = attributeIdElementAttribute.value;\n          node[nodeAttriOrdered[attributeId]] = value;\n        }\n        for (let j = 0; j < currNode.attributes.length; j++) {\n          const currAttri = currNode.attributes[j];\n            node[currAttri.name] = currAttri.value;\n        }\n        node[\"id\"] = id;\n        node[\"node_id\"] = id;\n        nodesArr.push(node);\n      }\n      return [nodesArr, edgesArr];\n}\n\nasync function readGEXF(fileObject) {\n  const file = fileObject;\n  const reader = new FileReader();\n  reader.readAsText(file);\n  \n  return new Promise((resolve, reject) => {\n      reader.onload = () => {\n      const content = reader.result;\n      resolve(parseGEXF(content));\n    }\n  });\n}\n\nasync function importGraphFromCSV(config) {\n  // Since the CSV lib we use uses int index when there's not header/column names specified\n  // but the frontend selector always convert int to string values, we need to\n  // manually convert the user-selected fromId and toId values back to int.\n  // Note that this should only be done when there's no header provided on the CSV (hasColumns == false).\n  const fromId = config.nodes.hasColumns ? config.edges.mapping.fromId : parseInt(config.edges.mapping.fromId);\n  const toId = config.nodes.hasColumns ? config.edges.mapping.toId : parseInt(config.edges.mapping.toId);\n\n  // Create temporary data structures.\n  let nodesArr = [];\n  const graph = createGraph();\n  const degreeDict = {};\n  if (config.hasNodeFile) {\n    nodesArr = await readCSV(appState.import.selectedNodeFileFromInput, config.nodes.hasColumns, config.delimiter);\n    nodesArr.forEach(node => graph.addNode(node[config.nodes.mapping.id].toString(),\n      { id: node[config.nodes.mapping.id].toString(), degree: 0, ...node }));\n    nodesArr =\n      nodesArr.map(\n        n => ({ ...n, id: n[config.nodes.mapping.id].toString(), degree: 0, pagerank: 0 }));\n    nodesArr.forEach(n => degreeDict[n.id] = 0);\n  }\n  const edges = await readCSV(appState.import.selectedEdgeFileFromInput, config.edges.hasColumns, config.delimiter);\n  if (config.edges.createMissing) {\n    edges.forEach((it) => {\n      const from = it[fromId].toString();\n      const to = it[toId].toString();\n      if (!graph.hasNode(from)) {\n        graph.addNode(from, { id: from, degree: 0 });\n        nodesArr.push({ id: from, degree: 0, pagerank: 0 });\n        degreeDict[from] = 0;\n      }\n      if (!graph.hasNode(to)) {\n        graph.addNode(to, { id: to, degree: 0 });\n        nodesArr.push({ id: to, degree: 0, pagerank: 0 });\n        degreeDict[to] = 0;\n      }\n    });\n  }\n\n  const edgesSet = new Set();\n  \n  const edgesArr = [];\n\n  const addEdge = (from, to) => {\n    const edgeKey = `${from}${to}`;\n    if (edgesSet.has(edgeKey)) {\n      return;\n    }\n    edgesSet.add(edgeKey);\n    graph.addLink(from, to);\n    degreeDict[from] += 1;\n    degreeDict[to] += 1;\n    edgesArr.push({\n      source_id: from,\n      target_id: to,\n    });\n  };\n  \n  edges.forEach(it => {\n    const from = it[fromId].toString();\n    const to = it[toId].toString();\n    // Argo currently works with undirected graph\n    addEdge(from, to);\n    // addEdge(to, from);\n  });\n\n  const rank = pageRank(graph);\n  nodesArr = nodesArr.map(n => ({ ...n, node_id: n.id, pagerank: rank[n.id], degree: degreeDict[n.id] }));\n  return {\n    rawGraph: { nodes: nodesArr, edges: edgesArr },\n    metadata: {\n      snapshotName: 'Untitled Graph',\n      fullNodes: nodesArr.length,\n      fullEdges: edgesArr.length, //Math.floor(edgesArr.length / 2), // Counting undirected edges\n      nodeProperties: Object.keys(nodesArr[0]),\n      nodeComputed: ['pagerank', 'degree'],\n      edgeProperties: ['source_id', 'target_id'],\n    },\n  }\n}\n\nexport async function importGraphFromGexf() {\n  const gexfParsed = await readGEXF(appState.import.selectedGexfFileFromInput);\n  let nodesArr = gexfParsed[0];\n  const edges = gexfParsed[1];\n  const graph = createGraph();\n  const degreeDict = {};\n\n  nodesArr.forEach((it) => {\n    const currNode = it[\"id\"].toString();\n    if (!graph.hasNode(currNode)) {\n      graph.addNode(currNode, it);\n      degreeDict[currNode] = 0;\n    }\n  });\n\n  const edgesSet = new Set();\n  \n  const edgesArr = [];\n\n  const addEdge = (from, to) => {\n    const edgeKey = `${from}${to}`;\n    if (edgesSet.has(edgeKey)) {\n      return;\n    }\n    edgesSet.add(edgeKey);\n    graph.addLink(from, to);\n    degreeDict[from] += 1;\n    degreeDict[to] += 1;\n    edgesArr.push({\n      source_id: from,\n      target_id: to,\n    });\n  };\n  \n  edges.forEach(it => {\n    const from = it[\"source_id\"].toString();\n    const to = it[\"target_id\"].toString();\n\n    // Argo currently works with undirected graph\n    addEdge(from, to);\n    // addEdge(to, from);\n  });\n\n  const rank = pageRank(graph);\n  nodesArr = nodesArr.map(n => ({ ...n, node_id: n.id, pagerank: rank[n.id], degree: degreeDict[n.id] }));\n  return {\n    rawGraph: { nodes: nodesArr, edges: edgesArr },\n    metadata: {\n      snapshotName: 'Untitled Graph',\n      fullNodes: nodesArr.length,\n      fullEdges: edgesArr.length, //Math.floor(edgesArr.length / 2), // Counting undirected edges\n      nodeProperties: Object.keys(nodesArr[0]),\n      nodeComputed: ['pagerank', 'degree'],\n      edgeProperties: ['source_id', 'target_id'],\n    },\n  }\n}\n\nexport function runSearch(searchStr) {\n  ipcRenderer.send(SEARCH_REQUEST, searchStr, appState.graph.searchOrder);\n}\n\nexport function fetchWorkspaceProjects() {\n  ipcRenderer.send(FETCH_WORKSPACE_PROJECTS);\n}\n\nexport function requestCreateNewProject(projectMetadata) {\n  ipcRenderer.send(CREATE_NEW_PROJECT, projectMetadata);\n}\n\nexport function requestOpenWorkspaceFolder() {\n  ipcRenderer.send(SHOW_WORKSPACE_FOLDER);\n}\n\nexport function requestLoadUserConfig() {\n  ipcRenderer.send(LOAD_USER_CONFIG);\n}\n\nexport function requestSaveUserConfig(userConfig) {\n  ipcRenderer.send(SAVE_USER_CONFIG, userConfig);\n}\n\nexport function requestChangeWorkspace() {\n  ipcRenderer.send(CHANGE_WORKSPACE_FOLDER);\n}","var $ = require(\"jquery\");\nfunction Edge(source, target) {\n  this.source = source;\n  this.target = target;\n  this.renderData = {};\n}\n\nfunction Node(id, size = 0.5) {\n  this.id = id;\n  this.index = id;\n  this.in = [];\n  this.out = [];\n  this.size = size;\n  this.renderData = {};\n  this.domainData = {};\n  this.x = 1;\n  this.y = 1;\n  this.vx = 1;\n  this.vy = 1;\n\n  /**\n   * Tells if a node is connected to a node of a certain id\n   */\n  this.connectedTo = function(id) {\n    outNodeIds = this.out.map(function(outNode) {\n      return outNode.id;\n    });\n    return $.inArray(id, outNodeIds) >= 0;\n  };\n}\n\nNode.prototype.connectNode = function(node) {\n  if (!this.connectedTo(node.id)) {\n    this.out.push(node);\n    return true;\n  }\n  return false;\n};\n\nexports.Edge = Edge;\nexports.Node = Node;\n","var THREE = require(\"three\");\n\nTHREE.MeshLine = function() {\n  this.positions = [];\n\n  this.previous = [];\n  this.next = [];\n  this.side = [];\n  this.width = [];\n  this.indices_array = [];\n  this.uvs = [];\n  this.counters = [];\n  this.geometry = new THREE.BufferGeometry();\n\n  this.widthCallback = null;\n};\n\nTHREE.MeshLine.prototype.setGeometry = function(g, c) {\n  this.widthCallback = c;\n\n  this.positions = [];\n  this.counters = [];\n\n  if (g instanceof THREE.Geometry) {\n    for (var j = 0; j < g.vertices.length; j++) {\n      var v = g.vertices[j];\n      var c = j / g.vertices.length;\n      this.positions.push(v.x, v.y, v.z);\n      this.positions.push(v.x, v.y, v.z);\n      this.counters.push(c);\n      this.counters.push(c);\n    }\n  }\n\n  if (g instanceof THREE.BufferGeometry) {\n    // read attribute positions ?\n  }\n\n  if (g instanceof Float32Array || g instanceof Array) {\n    for (var j = 0; j < g.length; j += 3) {\n      var c = j / g.length;\n      this.positions.push(g[j], g[j + 1], g[j + 2]);\n      this.positions.push(g[j], g[j + 1], g[j + 2]);\n      this.counters.push(c);\n      this.counters.push(c);\n    }\n  }\n\n  this.process();\n};\n\nTHREE.MeshLine.prototype.compareV3 = function(a, b) {\n  var aa = a * 6;\n  var ab = b * 6;\n  return (\n    this.positions[aa] === this.positions[ab] &&\n    this.positions[aa + 1] === this.positions[ab + 1] &&\n    this.positions[aa + 2] === this.positions[ab + 2]\n  );\n};\n\nTHREE.MeshLine.prototype.copyV3 = function(a) {\n  var aa = a * 6;\n  return [this.positions[aa], this.positions[aa + 1], this.positions[aa + 2]];\n};\n\nTHREE.MeshLine.prototype.process = function() {\n  var l = this.positions.length / 6;\n\n  this.previous = [];\n  this.next = [];\n  this.side = [];\n  this.width = [];\n  this.indices_array = [];\n  this.uvs = [];\n\n  for (var j = 0; j < l; j++) {\n    this.side.push(1);\n    this.side.push(-1);\n  }\n\n  var w;\n  for (var j = 0; j < l; j++) {\n    if (this.widthCallback) w = this.widthCallback(j / (l - 1));\n    else w = 1;\n    this.width.push(w);\n    this.width.push(w);\n  }\n\n  for (var j = 0; j < l; j++) {\n    this.uvs.push(j / (l - 1), 0);\n    this.uvs.push(j / (l - 1), 1);\n  }\n\n  var v;\n\n  if (this.compareV3(0, l - 1)) {\n    v = this.copyV3(l - 2);\n  } else {\n    v = this.copyV3(0);\n  }\n  this.previous.push(v[0], v[1], v[2]);\n  this.previous.push(v[0], v[1], v[2]);\n  for (var j = 0; j < l - 1; j++) {\n    v = this.copyV3(j);\n    this.previous.push(v[0], v[1], v[2]);\n    this.previous.push(v[0], v[1], v[2]);\n  }\n\n  for (var j = 1; j < l; j++) {\n    v = this.copyV3(j);\n    this.next.push(v[0], v[1], v[2]);\n    this.next.push(v[0], v[1], v[2]);\n  }\n\n  if (this.compareV3(l - 1, 0)) {\n    v = this.copyV3(1);\n  } else {\n    v = this.copyV3(l - 1);\n  }\n  this.next.push(v[0], v[1], v[2]);\n  this.next.push(v[0], v[1], v[2]);\n\n  for (var j = 0; j < l - 1; j++) {\n    var n = j * 2;\n    this.indices_array.push(n, n + 1, n + 2);\n    this.indices_array.push(n + 2, n + 1, n + 3);\n  }\n\n  if (!this.attributes) {\n    this.attributes = {\n      position: new THREE.BufferAttribute(new Float32Array(this.positions), 3),\n      previous: new THREE.BufferAttribute(new Float32Array(this.previous), 3),\n      next: new THREE.BufferAttribute(new Float32Array(this.next), 3),\n      side: new THREE.BufferAttribute(new Float32Array(this.side), 1),\n      width: new THREE.BufferAttribute(new Float32Array(this.width), 1),\n      uv: new THREE.BufferAttribute(new Float32Array(this.uvs), 2),\n      index: new THREE.BufferAttribute(new Uint16Array(this.indices_array), 1),\n      counters: new THREE.BufferAttribute(new Float32Array(this.counters), 1)\n    };\n  } else {\n    this.attributes.position.copyArray(new Float32Array(this.positions));\n    this.attributes.position.needsUpdate = true;\n    this.attributes.previous.copyArray(new Float32Array(this.previous));\n    this.attributes.previous.needsUpdate = true;\n    this.attributes.next.copyArray(new Float32Array(this.next));\n    this.attributes.next.needsUpdate = true;\n    this.attributes.side.copyArray(new Float32Array(this.side));\n    this.attributes.side.needsUpdate = true;\n    this.attributes.width.copyArray(new Float32Array(this.width));\n    this.attributes.width.needsUpdate = true;\n    this.attributes.uv.copyArray(new Float32Array(this.uvs));\n    this.attributes.uv.needsUpdate = true;\n    this.attributes.index.copyArray(new Uint16Array(this.indices_array));\n    this.attributes.index.needsUpdate = true;\n  }\n\n  this.geometry.addAttribute(\"position\", this.attributes.position);\n  this.geometry.addAttribute(\"previous\", this.attributes.previous);\n  this.geometry.addAttribute(\"next\", this.attributes.next);\n  this.geometry.addAttribute(\"side\", this.attributes.side);\n  this.geometry.addAttribute(\"width\", this.attributes.width);\n  this.geometry.addAttribute(\"uv\", this.attributes.uv);\n  this.geometry.addAttribute(\"counters\", this.attributes.counters);\n\n  this.geometry.setIndex(this.attributes.index);\n};\n\nfunction memcpy(src, srcOffset, dst, dstOffset, length) {\n  var i;\n\n  src = src.subarray || src.slice ? src : src.buffer;\n  dst = dst.subarray || dst.slice ? dst : dst.buffer;\n\n  src = srcOffset\n    ? src.subarray\n      ? src.subarray(srcOffset, length && srcOffset + length)\n      : src.slice(srcOffset, length && srcOffset + length)\n    : src;\n\n  if (dst.set) {\n    dst.set(src, dstOffset);\n  } else {\n    for (i = 0; i < src.length; i++) {\n      dst[i + dstOffset] = src[i];\n    }\n  }\n\n  return dst;\n}\n\n/**\n * Fast method to advance the line by one position.  The oldest position is removed.\n * @param position\n */\nTHREE.MeshLine.prototype.advance = function(position) {\n  var positions = this.attributes.position.array;\n  var previous = this.attributes.previous.array;\n  var next = this.attributes.next.array;\n  var l = positions.length;\n\n  // PREVIOUS\n  memcpy(positions, 0, previous, 0, l);\n\n  // POSITIONS\n  memcpy(positions, 6, positions, 0, l - 6);\n\n  positions[l - 6] = position.x;\n  positions[l - 5] = position.y;\n  positions[l - 4] = position.z;\n  positions[l - 3] = position.x;\n  positions[l - 2] = position.y;\n  positions[l - 1] = position.z;\n\n  // NEXT\n  memcpy(positions, 6, next, 0, l - 6);\n\n  next[l - 6] = position.x;\n  next[l - 5] = position.y;\n  next[l - 4] = position.z;\n  next[l - 3] = position.x;\n  next[l - 2] = position.y;\n  next[l - 1] = position.z;\n\n  this.attributes.position.needsUpdate = true;\n  this.attributes.previous.needsUpdate = true;\n  this.attributes.next.needsUpdate = true;\n};\n\nTHREE.MeshLineMaterial = function(parameters) {\n  var vertexShaderSource = [\n    \"precision highp float;\",\n    \"\",\n    \"attribute vec3 position;\",\n    \"attribute vec3 previous;\",\n    \"attribute vec3 next;\",\n    \"attribute float side;\",\n    \"attribute float width;\",\n    \"attribute vec2 uv;\",\n    \"attribute float counters;\",\n    \"\",\n    \"uniform mat4 projectionMatrix;\",\n    \"uniform mat4 modelViewMatrix;\",\n    \"uniform vec2 resolution;\",\n    \"uniform float lineWidth;\",\n    \"uniform vec3 color;\",\n    \"uniform float opacity;\",\n    \"uniform float near;\",\n    \"uniform float far;\",\n    \"uniform float sizeAttenuation;\",\n    \"\",\n    \"varying vec2 vUV;\",\n    \"varying vec4 vColor;\",\n    \"varying vec3 vPosition;\",\n    \"varying float vCounters;\",\n    \"\",\n    \"vec2 fix( vec4 i, float aspect ) {\",\n    \"\",\n    \"    vec2 res = i.xy / i.w;\",\n    \"    res.x *= aspect;\",\n    \"\t vCounters = counters;\",\n    \"    return res;\",\n    \"\",\n    \"}\",\n    \"\",\n    \"void main() {\",\n    \"\",\n    \"    float aspect = resolution.x / resolution.y;\",\n    \"\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);\",\n    \"\",\n    \"    vColor = vec4( color, opacity );\",\n    \"    vUV = uv;\",\n    \"\",\n    \"    mat4 m = projectionMatrix * modelViewMatrix;\",\n    \"    vec4 finalPosition = m * vec4( position, 1.0 );\",\n    \"    vec4 prevPos = m * vec4( previous, 1.0 );\",\n    \"    vec4 nextPos = m * vec4( next, 1.0 );\",\n    \"\",\n    \"    vec2 currentP = fix( finalPosition, aspect );\",\n    \"    vec2 prevP = fix( prevPos, aspect );\",\n    \"    vec2 nextP = fix( nextPos, aspect );\",\n    \"\",\n    \"\t float pixelWidth = finalPosition.w * pixelWidthRatio;\",\n    \"    float w = 1.8 * pixelWidth * lineWidth * width;\",\n    \"\",\n    \"    if( sizeAttenuation == 1. ) {\",\n    \"        w = 1.8 * lineWidth * width;\",\n    \"    }\",\n    \"\",\n    \"    vec2 dir;\",\n    \"    if( nextP == currentP ) dir = normalize( currentP - prevP );\",\n    \"    else if( prevP == currentP ) dir = normalize( nextP - currentP );\",\n    \"    else {\",\n    \"        vec2 dir1 = normalize( currentP - prevP );\",\n    \"        vec2 dir2 = normalize( nextP - currentP );\",\n    \"        dir = normalize( dir1 + dir2 );\",\n    \"\",\n    \"        vec2 perp = vec2( -dir1.y, dir1.x );\",\n    \"        vec2 miter = vec2( -dir.y, dir.x );\",\n    \"        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );\",\n    \"\",\n    \"    }\",\n    \"\",\n    \"    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;\",\n    \"    vec2 normal = vec2( -dir.y, dir.x );\",\n    \"    normal.x /= aspect;\",\n    \"    normal *= .5 * w;\",\n    \"\",\n    \"    vec4 offset = vec4( normal * side, 0.0, 1.0 );\",\n    \"    finalPosition.xy += offset.xy;\",\n    \"\",\n    \"\t vPosition = ( modelViewMatrix * vec4( position, 1. ) ).xyz;\",\n    \"    gl_Position = finalPosition;\",\n    \"\",\n    \"}\"\n  ];\n\n  var fragmentShaderSource = [\n    \"#extension GL_OES_standard_derivatives : enable\",\n    \"precision mediump float;\",\n    \"\",\n    \"uniform sampler2D map;\",\n    \"uniform float useMap;\",\n    \"uniform float useDash;\",\n    \"uniform vec2 dashArray;\",\n    \"uniform float visibility;\",\n    \"uniform float alphaTest;\",\n    \"\",\n    \"varying vec2 vUV;\",\n    \"varying vec4 vColor;\",\n    \"varying vec3 vPosition;\",\n    \"varying float vCounters;\",\n    \"\",\n    \"void main() {\",\n    \"\",\n    \"    vec4 c = vColor;\",\n    \"\t if( c.a < alphaTest ) discard;\",\n    \"    if( useMap == 1. ) c *= texture2D( map, vUV );\",\n    \"\t if( useDash == 1. ){\",\n    \"\t \t \",\n    \"\t }\",\n    \"    gl_FragColor = c;\",\n    \"\t gl_FragColor.a *= step(vCounters,visibility);\",\n    \"}\"\n  ];\n\n  function check(v, d) {\n    if (v === undefined) return d;\n    return v;\n  }\n\n  THREE.Material.call(this);\n\n  parameters = parameters || {};\n\n  this.lineWidth = check(parameters.lineWidth, 1);\n  this.map = check(parameters.map, null);\n  this.useMap = check(parameters.useMap, 0);\n  this.color = check(parameters.color, new THREE.Color(0xffffff));\n  this.opacity = check(parameters.opacity, 1);\n  this.resolution = check(parameters.resolution, new THREE.Vector2(1, 1));\n  this.sizeAttenuation = check(parameters.sizeAttenuation, 1);\n  this.near = check(parameters.near, 1);\n  this.far = check(parameters.far, 1);\n  this.dashArray = check(parameters.dashArray, []);\n  this.useDash = this.dashArray !== [] ? 1 : 0;\n  this.visibility = check(parameters.visibility, 1);\n  this.alphaTest = check(parameters.alphaTest, 0);\n\n  var material = new THREE.RawShaderMaterial({\n    uniforms: {\n      lineWidth: { type: \"f\", value: this.lineWidth },\n      map: { type: \"t\", value: this.map },\n      useMap: { type: \"f\", value: this.useMap },\n      color: { type: \"c\", value: this.color },\n      opacity: { type: \"f\", value: this.opacity },\n      resolution: { type: \"v2\", value: this.resolution },\n      sizeAttenuation: { type: \"f\", value: this.sizeAttenuation },\n      near: { type: \"f\", value: this.near },\n      far: { type: \"f\", value: this.far },\n      dashArray: {\n        type: \"v2\",\n        value: new THREE.Vector2(this.dashArray[0], this.dashArray[1])\n      },\n      useDash: { type: \"f\", value: this.useDash },\n      visibility: { type: \"f\", value: this.visibility },\n      alphaTest: { type: \"f\", value: this.alphaTest }\n    },\n    vertexShader: vertexShaderSource.join(\"\\r\\n\"),\n    fragmentShader: fragmentShaderSource.join(\"\\r\\n\")\n  });\n\n  delete parameters.lineWidth;\n  delete parameters.map;\n  delete parameters.useMap;\n  delete parameters.color;\n  delete parameters.opacity;\n  delete parameters.resolution;\n  delete parameters.sizeAttenuation;\n  delete parameters.near;\n  delete parameters.far;\n  delete parameters.dashArray;\n  delete parameters.visibility;\n  delete parameters.alphaTest;\n\n  material.type = \"MeshLineMaterial\";\n\n  material.setValues(parameters);\n\n  return material;\n};\n\nTHREE.MeshLineMaterial.prototype = Object.create(THREE.Material.prototype);\nTHREE.MeshLineMaterial.prototype.constructor = THREE.MeshLineMaterial;\n\nTHREE.MeshLineMaterial.prototype.copy = function(source) {\n  THREE.Material.prototype.copy.call(this, source);\n\n  this.lineWidth = source.lineWidth;\n  this.map = source.map;\n  this.useMap = source.useMap;\n  this.color.copy(source.color);\n  this.opacity = source.opacity;\n  this.resolution.copy(source.resolution);\n  this.sizeAttenuation = source.sizeAttenuation;\n  this.near = source.near;\n  this.far = source.far;\n\n  return this;\n};\n\nexports.MeshLine = THREE.MeshLine;\nexports.MeshLineMaterial = THREE.MeshLineMaterial;\n","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\nvar $ = require(\"jquery\");\n\nmodule.exports = function(self) {\n  self.selectNode = function(node) {\n    self.dragging = node;\n    self.selection = [node];\n    node.renderData.isSelected = true;\n    self.updateSelection(self.mouseX, self.mouseY);\n  };\n\n  /**\n   * Deselect nodes in selection list\n   */\n  self.clearSelection = function() {\n    for (var i = 0; i < self.selection.length; i++) {\n      self.selection[i].renderData.isSelected = false;\n      if (!def.NODE_NO_HIGHLIGHT) {\n        self.selection[i].renderData.draw_object.children[0].visible = false;\n      } else {\n        self.selection[i].renderData.draw_object.material.color.set(\n          new THREE.Color(self.selection[i].renderData.color)\n        );\n      }\n      self.selection[i].renderData.textHolder.children[0].element.hideme = true;\n    }\n    self.selection = [];\n  };\n\n  /**\n   *  Update positions of all objects in self.selection\n   *  based on diff between mouse position and self.dragging position\n   */\n  self.updateSelection = function(mouseX, mouseY, selection) {\n    if (self.dragging) {\n      var diffx = mouseX - self.dragging.x;\n      var diffy = mouseY - self.dragging.y;\n    }\n\n    //'selection' only passed if a single node is double clicked\n    let clickedNode = selection;\n    //if not already pinned, then pin the node upon double-click\n    if(clickedNode && !clickedNode.pinnedx) {\n      clickedNode.pinnedx = true;\n      clickedNode.pinnedy = true;\n    } else if (clickedNode && clickedNode.pinnedx) {\n      //if already pinned, then unpin upon double-click\n      clickedNode.pinnedx = false;\n      clickedNode.pinnedy = false;\n    }\n    \n    for (var i = 0; i < self.selection.length; i++) {\n      if (self.dragging) {\n        self.selection[i].x += diffx;\n        self.selection[i].y += diffy;\n        self.selection[i].fx = self.selection[i].x;\n        self.selection[i].fy = self.selection[i].y;\n        //pins multiple nodes when dragging\n        if(!clickedNode) {\n          self.selection[i].pinnedx = true;\n          self.selection[i].pinnedy = true;\n        }\n      }\n      if (!def.NODE_NO_HIGHLIGHT) {\n        self.selection[i].renderData.draw_object.children[0].visible = true;\n      } else {\n        self.selection[i].renderData.draw_object.material.color.set(\n          new THREE.Color(self.selection[i].renderData.hcolor)\n        );\n      }\n      self.selection[\n        i\n      ].renderData.textHolder.children[0].element.hideme = false;\n    }\n  };\n\n  /**\n   *  Find any objects within the current box selection and add it to self.selection\n   */\n  self.checkSelection = function(mouseX, mouseY) {\n    if (!self.dragging) {\n      self.mouseEnd = new THREE.Vector3(mouseX, mouseY, 0);\n      if (self.mouseStart.x < self.mouseEnd.x) {\n        var left = self.mouseStart;\n        var right = self.mouseEnd;\n      } else {\n        var left = self.mouseEnd;\n        var right = self.mouseStart;\n      }\n\n      self.graph.forEachNode(function(node) {\n        let npos;\n        if (self.options.layout == \"ngraph\") {\n          npos = self.force.getNodePosition(node.id);\n        } else if (self.options.layout == \"d3\") {\n          npos = node;\n        }\n        if (self.insideBox(left, right, npos.x, npos.y)) {\n          self.selection.push(node);\n          //indicates nodes were in selection box \n          //when mouse is lifted\n          //self.multNodesHighlighted = true;\n        }\n      });\n    }\n  };\n\n  /**\n   *  returns true if pos is in box with top left l and bottom right r\n   */\n  self.insideBox = function(l, r, posx, posy) {\n    return (\n      posx < r.x &&\n      posx > l.x &&\n      ((posy > r.y && posy < l.y) || (posy < r.y && posy > l.y))\n    );\n  };\n};","var Frame = require(\"./src/process\").Frame;\n\nexports.Frame = Frame;\n\nvar graph = require(\"ngraph.generators\").balancedBinTree(5);\n\nexports.graph = graph;\n\nif (window) {\n  window.Argo = exports;\n}\n","module.exports = __webpack_public_path__ + \"static/media/new_argologo_dark.e4370730.svg\";","module.exports = __webpack_public_path__ + \"static/media/new_argologo_light.9cbe3f92.svg\";","import { Position, Toaster } from \"@blueprintjs/core\";\n\nexport const toaster = Toaster.create({\n  position: Position.TOP\n});\n\nexport default toaster;\n","var THREE = require(\"three\");\nvar STATS = require(\"stats.js\");\nwindow.THREE = THREE;\nrequire(\"../include/QuickHull\");\nrequire(\"../include/ConvexGeometry\");\nrequire(\"../include/CSS3DRenderer\");\nvar Edge = require(\"./structure/node\").Edge;\nvar Node = require(\"./structure/node\").Node;\nvar OrbitControls = require(\"../include/OrbitControls\")(THREE); //'three-orbit-controls')(THREE);\nTHREE.MeshLine = require(\"../include/THREE.MeshLine\").MeshLine;\nTHREE.MeshLineMaterial = require(\"../include/THREE.MeshLine\").MeshLineMaterial;\nvar d3 = require(\"d3\");\nvar ee = require(\"event-emitter\");\nvar IS_IFRAME_WIDGET = require(\"../../constants\").IS_IFRAME_WIDGET;\n\nexports.default = {\n  THREE: THREE,\n  STATS: STATS, // stats.js panel for showing fps and other stats.\n  STATS_SHOW: false,\n  Edge: Edge,\n  Node: Node,\n  OrbitControls: OrbitControls,\n  d3: d3,\n  ee: ee,\n  NODE_COLOR: 0x0055aa,\n  NODE_HIGHLIGHT: 0x3498db,\n  ADJACENT_HIGHLIGHT: 0x95a5a6,\n  SEARCH_HIGHLIGHT: 0xe67e22,\n  NODE_HTEXTURE: \"http://i.imgur.com/xzkxSIw.png\",\n  NODE_TEXTURE: \"http://i.imgur.com/reTXqiM.png\",\n  NODE_NO_HTEX: true,\n  NODE_NO_TEX: true,\n  NODE_NO_HCOLOR: false,\n  NODE_NO_COLOR: false,\n  NODE_NO_HIGHLIGHT: false,\n  NODE_NEIGHBOR_HIGHLIGHT: true,\n  NODE_SHAPE: \"square\",\n  NODE_HSHAPE: \"square\",\n  NODE_SIZE: 5,\n  HIGHLIGHT_SIZE: 1.0,\n  LAYOUT: \"d3\",\n  LINES: \"notfancy\",\n  MAP: !IS_IFRAME_WIDGET,\n  MAP_RENDER_PER_NUMBER_OF_FRAME: 10,\n  TEXT_SCALE: true,\n  TEXT_SIZE: 0.07,\n  TEXT_X_OFFSET: 0.52,\n  TEXT_Y_OFFSET: 0.35,\n  TEXT_BACK_COLOR: \"rgba(100, 100, 200, 0)\",\n  TEXT_OPACITY: \"1\",\n  TEXT_WIREFRAME: false,\n  PIN_COLOR: 0xffffff\n};\n","var def = require(\"./imports\").default;\nconst spawn = require(\"threads\").spawn;\nvar THREE = def.THREE;\nvar STATS = def.STATS;\nvar STATS_SHOW = def.STATS_SHOW;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\n\nvar Frame = function(graph, options) {\n  // Needed to reference \"this\" in functions\n  var self = this;\n  appState.graph.process = this;\n  // Options\n  this.inGraph = graph;\n  this.options = options || {\n    layout: def.LAYOUT\n  };\n  this.layout_options = this.options.graphLayout || {};\n\n  this.lineObjects = [];\n  this.lineIndices = [];\n  this.MAX_LINES = 100000;\n  this.textureLoader = new THREE.TextureLoader();\n  this.textureLoader.crossOrigin = true;\n  this.oldIntersect = -1;\n  this.selection = [];\n  this.fov = 60;\n  this.near = 1;\n  this.far = 5000;\n  this.mouseStart = new THREE.Vector3(0, 0, 0);\n  this.mouseEnd = new THREE.Vector3(0, 0, 0);\n  this.dragging = null;\n  this.showBox = false;\n  this.renderWidth = 1000;\n  this.renderHeight = 1000;\n  this.maxZoom = 1000;\n  this.paused = false;\n  this.mouseDown = false;\n  this.ee = ee({});\n  this.layoutInit = true;\n  this.labelSize = 6;\n  this.relativeFontSize = 1;\n  this.mapShowing = def.MAP;\n  this.mapRenderPerNumberOfFrame = def.MAP_RENDER_PER_NUMBER_OF_FRAME;\n  this.darkMode = true;\n  this.lastNode = null;\n  this.rightClickedNode = null;\n  this.doHighlightNeighbors = def.NODE_NEIGHBOR_HIGHLIGHT;\n  this.prevHighlights = [];\n  this.hull = null;\n\n  require(\"./utils/utils\")(this);\n  require(\"./setup\")(this);\n  require(\"./addremove\")(this);\n  require(\"./highlighting\")(this);\n  require(\"./select\")(this);\n  require(\"./mouse\")(this);\n  require(\"./modify\")(this);\n  require(\"./draw\")(this);\n  require(\"./api\")(this);\n  require(\"./update\")(this);\n\n  /**\n   *  Starting point, run once to create scene\n   */\n  let stats = new STATS();\n  this.display = function() {\n    if (STATS_SHOW) {\n      stats.showPanel(0); // show fps panel\n      document.body.appendChild(stats.dom);\n    }\n    this.animate();\n  };\n\n  /**\n   *  Creates loop called on every animation frame\n   */\n  \n  let fps = 30;\n  // let now;\n  // let then = Date.now();\n  // let interval = 1000 / fps;\n  // let delta;\n  this.animate = function() {\n    if (STATS_SHOW) {\n      stats.begin(); // Begin stats.js panel timing\n    }\n    \n    self.controls.update();\n    self.render();\n\n    if (STATS_SHOW) {\n      stats.end(); // End stats.js panel timing\n    }\n    \n    // now = Date.now();\n    // delta = now - then;\n    // if (delta > interval) {\n    //   then = now;\n    //   self.controls.update();\n    //   self.render();\n    // }\n    requestAnimationFrame(self.animate);\n  };\n\n  /**\n   *  Set initial properties\n   */\n  this.init = function(aa = true) {\n    self.renderer = new THREE.WebGLRenderer({\n      alpha: true,\n      antialias: aa,\n      preserveDrawingBuffer: true,\n    });\n    self.minimapRenderer = new THREE.WebGLRenderer({\n      alpha: true,\n      antialias: aa,\n      preserveDrawingBuffer: true,\n    });\n    //self.renderer.setPixelRatio(window.devicePixelRatio);\n    //self.renderer.setPixelRatio(0.1);\n    self.setDisplayParams();\n    self.setRendererParams();\n\n    self.setupCamera();\n    self.setupMinimap();\n    self.setupGeometry();\n    self.setupSelect();\n\n    // Make sure to clear children before setting up new frame.\n    self.element.innerHTML = \"\";\n    self.element.appendChild(self.renderer.domElement);\n    self.element.appendChild(self.cssRenderer.domElement);\n    self.element.appendChild(self.minimapRenderer.domElement);\n\n    self.setupLayout();\n\n    self.setupGraph();\n\n    window.addEventListener(\n      \"resize\",\n      function(e) {\n        e.preventDefault();\n        self.onWindowResize();\n      },\n      false\n    );\n  };\n\n  /**\n   * Change camera on window resize\n   */\n  self.onWindowResize = function() {\n    self.clientRect = self.element.getBoundingClientRect();\n    self.width = self.clientRect.width;\n    self.height = self.clientRect.height;\n    self.minimap.width = 0.2 * self.height;\n    self.minimap.height = 0.2 * self.height;\n    self.aspect = self.width / self.height;\n    self.ccamera.aspect = self.aspect;\n    self.ccamera.updateProjectionMatrix();\n\n    self.renderer.setSize(self.width, self.height);\n    self.cssRenderer.setSize(self.width, self.height);\n    self.minimapRenderer.setSize(0.2 * self.height, 0.2 * self.height);\n  };\n\n  /**\n   *  Draws graphics\n   */\n  var stage = 0;\n  var numberOfFrameSinceMiniMapRerender = 1;\n  this.render = function() {\n    self.updateCamera();\n    self.updateNodes();\n    if (stage == 1) {\n      self.updateLabels();\n      self.updateEdges();\n      stage = 0;\n    }\n    stage += 1;\n    numberOfFrameSinceMiniMapRerender += 1;\n    if (self.options.layout == \"d3\") {\n      if (self.layoutInit == true) {\n        var nodes = [];\n        self.graph.forEachNode(function(node) {\n          nodes.push(node);\n        });\n        self.force.nodes(nodes);\n        self.force.force(\"link\", d3.forceLink(self.lineIndices));\n        self.force.restart();\n        self.force.stop();\n        if (self.tickToStatic && !self.paused) {\n          // We don't tick and pause for now\n          for (\n            var i = 0,\n              n = Math.ceil(\n                Math.log(self.force.alphaMin()) /\n                  Math.log(1 - self.force.alphaDecay())\n              );\n            i < n;\n            ++i\n          ) {\n            self.force.tick();\n          }\n          //self.pauseLayout();\n        }\n        self.layoutInit = false;\n      }\n    }\n    self.renderer.setViewport(0, 0, self.width, self.height);\n    self.renderer.setScissor(0, 0, self.width, self.height);\n    self.renderer.setScissorTest(true);\n    self.renderer.render(self.scene, self.ccamera);\n    self.cssRenderer.render(self.scene, self.ccamera);\n\n    // Render MiniMap at a lower framerate.\n    if (numberOfFrameSinceMiniMapRerender >= this.mapRenderPerNumberOfFrame) {\n      numberOfFrameSinceMiniMapRerender = 0;\n\n      if (self.mapShowing) {\n        self.minimap.width = 0.2 * self.height;\n        self.minimap.height = 0.2 * self.height;\n        self.minimapRenderer.setViewport(0, 0, self.minimap.width, self.minimap.height);\n        self.minimapRenderer.setScissor(0, 0, self.minimap.width, self.minimap.height);\n        self.minimapRenderer.setScissorTest(true);\n        self.minimapRenderer.render(self.scene, self.minimap.camera);\n      }\n    }\n  };\n};\n\nexports.Frame = Frame;\n","/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ported from: https://github.com/maurizzzio/quickhull3d/ by Mauricio Poppe (https://github.com/maurizzzio)\n *\n */\n\n(function() {\n  var Visible = 0;\n  var Deleted = 1;\n\n  function QuickHull() {\n    this.tolerance = -1;\n\n    this.faces = []; // the generated faces of the convex hull\n    this.newFaces = []; // this array holds the faces that are generated within a single iteration\n\n    // the vertex lists work as follows:\n    //\n    // let 'a' and 'b' be 'Face' instances\n    // let 'v' be points wrapped as instance of 'Vertex'\n    //\n    //     [v, v, ..., v, v, v, ...]\n    //      ^             ^\n    //      |             |\n    //  a.outside     b.outside\n    //\n    this.assigned = new VertexList();\n    this.unassigned = new VertexList();\n\n    this.vertices = []; // vertices of the hull (internal representation of given geometry data)\n  }\n\n  Object.assign(QuickHull.prototype, {\n    setFromPoints: function(points) {\n      if (Array.isArray(points) !== true) {\n        console.error(\"THREE.QuickHull: Points parameter is not an array.\");\n      }\n\n      if (points.length < 4) {\n        console.error(\n          \"THREE.QuickHull: The algorithm needs at least four points.\"\n        );\n      }\n\n      this.makeEmpty();\n\n      for (var i = 0, l = points.length; i < l; i++) {\n        this.vertices.push(new VertexNode(points[i]));\n      }\n\n      this.compute();\n\n      return this;\n    },\n\n    setFromObject: function(object) {\n      var points = [];\n\n      object.updateMatrixWorld(true);\n\n      object.traverse(function(node) {\n        var i, l, point;\n\n        var geometry = node.geometry;\n\n        if (geometry !== undefined) {\n          if (geometry.isGeometry) {\n            var vertices = geometry.vertices;\n\n            for (i = 0, l = vertices.length; i < l; i++) {\n              point = vertices[i].clone();\n              point.applyMatrix4(node.matrixWorld);\n\n              points.push(point);\n            }\n          } else if (geometry.isBufferGeometry) {\n            var attribute = geometry.attributes.position;\n\n            if (attribute !== undefined) {\n              for (i = 0, l = attribute.count; i < l; i++) {\n                point = new THREE.Vector3();\n\n                point\n                  .fromBufferAttribute(attribute, i)\n                  .applyMatrix4(node.matrixWorld);\n\n                points.push(point);\n              }\n            }\n          }\n        }\n      });\n\n      return this.setFromPoints(points);\n    },\n\n    makeEmpty: function() {\n      this.faces = [];\n      this.vertices = [];\n\n      return this;\n    },\n\n    // Adds a vertex to the 'assigned' list of vertices and assigns it to the given face\n\n    addVertexToFace: function(vertex, face) {\n      vertex.face = face;\n\n      if (face.outside === null) {\n        this.assigned.append(vertex);\n      } else {\n        this.assigned.insertBefore(face.outside, vertex);\n      }\n\n      face.outside = vertex;\n\n      return this;\n    },\n\n    // Removes a vertex from the 'assigned' list of vertices and from the given face\n\n    removeVertexFromFace: function(vertex, face) {\n      if (vertex === face.outside) {\n        // fix face.outside link\n\n        if (vertex.next !== null && vertex.next.face === face) {\n          // face has at least 2 outside vertices, move the 'outside' reference\n\n          face.outside = vertex.next;\n        } else {\n          // vertex was the only outside vertex that face had\n\n          face.outside = null;\n        }\n      }\n\n      this.assigned.remove(vertex);\n\n      return this;\n    },\n\n    // Removes all the visible vertices that a given face is able to see which are stored in the 'assigned' vertext list\n\n    removeAllVerticesFromFace: function(face) {\n      if (face.outside !== null) {\n        // reference to the first and last vertex of this face\n\n        var start = face.outside;\n        var end = face.outside;\n\n        while (end.next !== null && end.next.face === face) {\n          end = end.next;\n        }\n\n        this.assigned.removeSubList(start, end);\n\n        // fix references\n\n        start.prev = end.next = null;\n        face.outside = null;\n\n        return start;\n      }\n    },\n\n    // Removes all the visible vertices that 'face' is able to see\n\n    deleteFaceVertices: function(face, absorbingFace) {\n      var faceVertices = this.removeAllVerticesFromFace(face);\n\n      if (faceVertices !== undefined) {\n        if (absorbingFace === undefined) {\n          // mark the vertices to be reassigned to some other face\n\n          this.unassigned.appendChain(faceVertices);\n        } else {\n          // if there's an absorbing face try to assign as many vertices as possible to it\n\n          var vertex = faceVertices;\n\n          do {\n            // we need to buffer the subsequent vertex at this point because the 'vertex.next' reference\n            // will be changed by upcoming method calls\n\n            var nextVertex = vertex.next;\n\n            var distance = absorbingFace.distanceToPoint(vertex.point);\n\n            // check if 'vertex' is able to see 'absorbingFace'\n\n            if (distance > this.tolerance) {\n              this.addVertexToFace(vertex, absorbingFace);\n            } else {\n              this.unassigned.append(vertex);\n            }\n\n            // now assign next vertex\n\n            vertex = nextVertex;\n          } while (vertex !== null);\n        }\n      }\n\n      return this;\n    },\n\n    // Reassigns as many vertices as possible from the unassigned list to the new faces\n\n    resolveUnassignedPoints: function(newFaces) {\n      if (this.unassigned.isEmpty() === false) {\n        var vertex = this.unassigned.first();\n\n        do {\n          // buffer 'next' reference, see .deleteFaceVertices()\n\n          var nextVertex = vertex.next;\n\n          var maxDistance = this.tolerance;\n\n          var maxFace = null;\n\n          for (var i = 0; i < newFaces.length; i++) {\n            var face = newFaces[i];\n\n            if (face.mark === Visible) {\n              var distance = face.distanceToPoint(vertex.point);\n\n              if (distance > maxDistance) {\n                maxDistance = distance;\n                maxFace = face;\n              }\n\n              if (maxDistance > 1000 * this.tolerance) break;\n            }\n          }\n\n          // 'maxFace' can be null e.g. if there are identical vertices\n\n          if (maxFace !== null) {\n            this.addVertexToFace(vertex, maxFace);\n          }\n\n          vertex = nextVertex;\n        } while (vertex !== null);\n      }\n\n      return this;\n    },\n\n    // Computes the extremes of a simplex which will be the initial hull\n\n    computeExtremes: function() {\n      var min = new THREE.Vector3();\n      var max = new THREE.Vector3();\n\n      var minVertices = [];\n      var maxVertices = [];\n\n      var i, l, j;\n\n      // initially assume that the first vertex is the min/max\n\n      for (i = 0; i < 3; i++) {\n        minVertices[i] = maxVertices[i] = this.vertices[0];\n      }\n\n      min.copy(this.vertices[0].point);\n      max.copy(this.vertices[0].point);\n\n      // compute the min/max vertex on all six directions\n\n      for (i = 0, l = this.vertices.length; i < l; i++) {\n        var vertex = this.vertices[i];\n        var point = vertex.point;\n\n        // update the min coordinates\n\n        for (j = 0; j < 3; j++) {\n          if (point.getComponent(j) < min.getComponent(j)) {\n            min.setComponent(j, point.getComponent(j));\n            minVertices[j] = vertex;\n          }\n        }\n\n        // update the max coordinates\n\n        for (j = 0; j < 3; j++) {\n          if (point.getComponent(j) > max.getComponent(j)) {\n            max.setComponent(j, point.getComponent(j));\n            maxVertices[j] = vertex;\n          }\n        }\n      }\n\n      // use min/max vectors to compute an optimal epsilon\n\n      this.tolerance =\n        3 *\n        Number.EPSILON *\n        (Math.max(Math.abs(min.x), Math.abs(max.x)) +\n          Math.max(Math.abs(min.y), Math.abs(max.y)) +\n          Math.max(Math.abs(min.z), Math.abs(max.z)));\n\n      return { min: minVertices, max: maxVertices };\n    },\n\n    // Computes the initial simplex assigning to its faces all the points\n    // that are candidates to form part of the hull\n\n    computeInitialHull: (function() {\n      var line3, plane, closestPoint;\n\n      return function computeInitialHull() {\n        if (line3 === undefined) {\n          line3 = new THREE.Line3();\n          plane = new THREE.Plane();\n          closestPoint = new THREE.Vector3();\n        }\n\n        var vertex,\n          vertices = this.vertices;\n        var extremes = this.computeExtremes();\n        var min = extremes.min;\n        var max = extremes.max;\n\n        var v0, v1, v2, v3;\n        var i, l, j;\n\n        // 1. Find the two vertices 'v0' and 'v1' with the greatest 1d separation\n        // (max.x - min.x)\n        // (max.y - min.y)\n        // (max.z - min.z)\n\n        var distance,\n          maxDistance = 0;\n        var index = 0;\n\n        for (i = 0; i < 3; i++) {\n          distance =\n            max[i].point.getComponent(i) - min[i].point.getComponent(i);\n\n          if (distance > maxDistance) {\n            maxDistance = distance;\n            index = i;\n          }\n        }\n\n        v0 = min[index];\n        v1 = max[index];\n\n        // 2. The next vertex 'v2' is the one farthest to the line formed by 'v0' and 'v1'\n\n        maxDistance = 0;\n        line3.set(v0.point, v1.point);\n\n        for (i = 0, l = this.vertices.length; i < l; i++) {\n          vertex = vertices[i];\n\n          if (vertex !== v0 && vertex !== v1) {\n            line3.closestPointToPoint(vertex.point, true, closestPoint);\n\n            distance = closestPoint.distanceToSquared(vertex.point);\n\n            if (distance > maxDistance) {\n              maxDistance = distance;\n              v2 = vertex;\n            }\n          }\n        }\n\n        // 3. The next vertex 'v3' is the one farthest to the plane 'v0', 'v1', 'v2'\n\n        maxDistance = 0;\n        plane.setFromCoplanarPoints(v0.point, v1.point, v2.point);\n\n        for (i = 0, l = this.vertices.length; i < l; i++) {\n          vertex = vertices[i];\n\n          if (vertex !== v0 && vertex !== v1 && vertex !== v2) {\n            distance = Math.abs(plane.distanceToPoint(vertex.point));\n\n            if (distance > maxDistance) {\n              maxDistance = distance;\n              v3 = vertex;\n            }\n          }\n        }\n\n        var faces = [];\n\n        if (plane.distanceToPoint(v3.point) < 0) {\n          // the face is not able to see the point so 'plane.normal' is pointing outside the tetrahedron\n\n          faces.push(\n            Face.create(v0, v1, v2),\n            Face.create(v3, v1, v0),\n            Face.create(v3, v2, v1),\n            Face.create(v3, v0, v2)\n          );\n\n          // set the twin edge\n\n          for (i = 0; i < 3; i++) {\n            j = (i + 1) % 3;\n\n            // join face[ i ] i > 0, with the first face\n\n            faces[i + 1].getEdge(2).setTwin(faces[0].getEdge(j));\n\n            // join face[ i ] with face[ i + 1 ], 1 <= i <= 3\n\n            faces[i + 1].getEdge(1).setTwin(faces[j + 1].getEdge(0));\n          }\n        } else {\n          // the face is able to see the point so 'plane.normal' is pointing inside the tetrahedron\n\n          faces.push(\n            Face.create(v0, v2, v1),\n            Face.create(v3, v0, v1),\n            Face.create(v3, v1, v2),\n            Face.create(v3, v2, v0)\n          );\n\n          // set the twin edge\n\n          for (i = 0; i < 3; i++) {\n            j = (i + 1) % 3;\n\n            // join face[ i ] i > 0, with the first face\n\n            faces[i + 1].getEdge(2).setTwin(faces[0].getEdge((3 - i) % 3));\n\n            // join face[ i ] with face[ i + 1 ]\n\n            faces[i + 1].getEdge(0).setTwin(faces[j + 1].getEdge(1));\n          }\n        }\n\n        // the initial hull is the tetrahedron\n\n        for (i = 0; i < 4; i++) {\n          this.faces.push(faces[i]);\n        }\n\n        // initial assignment of vertices to the faces of the tetrahedron\n\n        for (i = 0, l = vertices.length; i < l; i++) {\n          vertex = vertices[i];\n\n          if (\n            vertex !== v0 &&\n            vertex !== v1 &&\n            vertex !== v2 &&\n            vertex !== v3\n          ) {\n            maxDistance = this.tolerance;\n            var maxFace = null;\n\n            for (j = 0; j < 4; j++) {\n              distance = this.faces[j].distanceToPoint(vertex.point);\n\n              if (distance > maxDistance) {\n                maxDistance = distance;\n                maxFace = this.faces[j];\n              }\n            }\n\n            if (maxFace !== null) {\n              this.addVertexToFace(vertex, maxFace);\n            }\n          }\n        }\n\n        return this;\n      };\n    })(),\n\n    // Removes inactive faces\n\n    reindexFaces: function() {\n      var activeFaces = [];\n\n      for (var i = 0; i < this.faces.length; i++) {\n        var face = this.faces[i];\n\n        if (face.mark === Visible) {\n          activeFaces.push(face);\n        }\n      }\n\n      this.faces = activeFaces;\n\n      return this;\n    },\n\n    // Finds the next vertex to create faces with the current hull\n\n    nextVertexToAdd: function() {\n      // if the 'assigned' list of vertices is empty, no vertices are left. return with 'undefined'\n\n      if (this.assigned.isEmpty() === false) {\n        var eyeVertex,\n          maxDistance = 0;\n\n        // grap the first available face and start with the first visible vertex of that face\n\n        var eyeFace = this.assigned.first().face;\n        var vertex = eyeFace.outside;\n\n        // now calculate the farthest vertex that face can see\n\n        do {\n          var distance = eyeFace.distanceToPoint(vertex.point);\n\n          if (distance > maxDistance) {\n            maxDistance = distance;\n            eyeVertex = vertex;\n          }\n\n          vertex = vertex.next;\n        } while (vertex !== null && vertex.face === eyeFace);\n\n        return eyeVertex;\n      }\n    },\n\n    // Computes a chain of half edges in CCW order called the 'horizon'.\n    // For an edge to be part of the horizon it must join a face that can see\n    // 'eyePoint' and a face that cannot see 'eyePoint'.\n\n    computeHorizon: function(eyePoint, crossEdge, face, horizon) {\n      // moves face's vertices to the 'unassigned' vertex list\n\n      this.deleteFaceVertices(face);\n\n      face.mark = Deleted;\n\n      var edge;\n\n      if (crossEdge === null) {\n        edge = crossEdge = face.getEdge(0);\n      } else {\n        // start from the next edge since 'crossEdge' was already analyzed\n        // (actually 'crossEdge.twin' was the edge who called this method recursively)\n\n        edge = crossEdge.next;\n      }\n\n      do {\n        var twinEdge = edge.twin;\n        var oppositeFace = twinEdge.face;\n\n        if (oppositeFace.mark === Visible) {\n          if (oppositeFace.distanceToPoint(eyePoint) > this.tolerance) {\n            // the opposite face can see the vertex, so proceed with next edge\n\n            this.computeHorizon(eyePoint, twinEdge, oppositeFace, horizon);\n          } else {\n            // the opposite face can't see the vertex, so this edge is part of the horizon\n\n            horizon.push(edge);\n          }\n        }\n\n        edge = edge.next;\n      } while (edge !== crossEdge);\n\n      return this;\n    },\n\n    // Creates a face with the vertices 'eyeVertex.point', 'horizonEdge.tail' and 'horizonEdge.head' in CCW order\n\n    addAdjoiningFace: function(eyeVertex, horizonEdge) {\n      // all the half edges are created in ccw order thus the face is always pointing outside the hull\n\n      var face = Face.create(eyeVertex, horizonEdge.tail(), horizonEdge.head());\n\n      this.faces.push(face);\n\n      // join face.getEdge( - 1 ) with the horizon's opposite edge face.getEdge( - 1 ) = face.getEdge( 2 )\n\n      face.getEdge(-1).setTwin(horizonEdge.twin);\n\n      return face.getEdge(0); // the half edge whose vertex is the eyeVertex\n    },\n\n    //  Adds 'horizon.length' faces to the hull, each face will be linked with the\n    //  horizon opposite face and the face on the left/right\n\n    addNewFaces: function(eyeVertex, horizon) {\n      this.newFaces = [];\n\n      var firstSideEdge = null;\n      var previousSideEdge = null;\n\n      for (var i = 0; i < horizon.length; i++) {\n        var horizonEdge = horizon[i];\n\n        // returns the right side edge\n\n        var sideEdge = this.addAdjoiningFace(eyeVertex, horizonEdge);\n\n        if (firstSideEdge === null) {\n          firstSideEdge = sideEdge;\n        } else {\n          // joins face.getEdge( 1 ) with previousFace.getEdge( 0 )\n\n          sideEdge.next.setTwin(previousSideEdge);\n        }\n\n        this.newFaces.push(sideEdge.face);\n        previousSideEdge = sideEdge;\n      }\n\n      // perform final join of new faces\n\n      firstSideEdge.next.setTwin(previousSideEdge);\n\n      return this;\n    },\n\n    // Adds a vertex to the hull\n\n    addVertexToHull: function(eyeVertex) {\n      var horizon = [];\n      var i, face;\n\n      this.unassigned.clear();\n\n      // remove 'eyeVertex' from 'eyeVertex.face' so that it can't be added to the 'unassigned' vertex list\n\n      this.removeVertexFromFace(eyeVertex, eyeVertex.face);\n\n      this.computeHorizon(eyeVertex.point, null, eyeVertex.face, horizon);\n\n      this.addNewFaces(eyeVertex, horizon);\n\n      // reassign 'unassigned' vertices to the new faces\n\n      this.resolveUnassignedPoints(this.newFaces);\n\n      return this;\n    },\n\n    cleanup: function() {\n      this.assigned.clear();\n      this.unassigned.clear();\n      this.newFaces = [];\n\n      return this;\n    },\n\n    compute: function() {\n      var vertex;\n\n      this.computeInitialHull();\n\n      // add all available vertices gradually to the hull\n\n      while ((vertex = this.nextVertexToAdd()) !== undefined) {\n        this.addVertexToHull(vertex);\n      }\n\n      this.reindexFaces();\n\n      this.cleanup();\n\n      return this;\n    }\n  });\n\n  //\n\n  function Face() {\n    this.normal = new THREE.Vector3();\n    this.midpoint = new THREE.Vector3();\n    this.area = 0;\n\n    this.constant = 0; // signed distance from face to the origin\n    this.outside = null; // reference to a vertex in a vertex list this face can see\n    this.mark = Visible;\n    this.edge = null;\n  }\n\n  Object.assign(Face, {\n    create: function(a, b, c) {\n      var face = new Face();\n\n      var e0 = new HalfEdge(a, face);\n      var e1 = new HalfEdge(b, face);\n      var e2 = new HalfEdge(c, face);\n\n      // join edges\n\n      e0.next = e2.prev = e1;\n      e1.next = e0.prev = e2;\n      e2.next = e1.prev = e0;\n\n      // main half edge reference\n\n      face.edge = e0;\n\n      return face.compute();\n    }\n  });\n\n  Object.assign(Face.prototype, {\n    getEdge: function(i) {\n      var edge = this.edge;\n\n      while (i > 0) {\n        edge = edge.next;\n        i--;\n      }\n\n      while (i < 0) {\n        edge = edge.prev;\n        i++;\n      }\n\n      return edge;\n    },\n\n    compute: (function() {\n      var triangle;\n\n      return function compute() {\n        if (triangle === undefined) triangle = new THREE.Triangle();\n\n        var a = this.edge.tail();\n        var b = this.edge.head();\n        var c = this.edge.next.head();\n\n        triangle.set(a.point, b.point, c.point);\n\n        triangle.normal(this.normal);\n        triangle.midpoint(this.midpoint);\n        this.area = triangle.area();\n\n        this.constant = this.normal.dot(this.midpoint);\n\n        return this;\n      };\n    })(),\n\n    distanceToPoint: function(point) {\n      return this.normal.dot(point) - this.constant;\n    }\n  });\n\n  // Entity for a Doubly-Connected Edge List (DCEL).\n\n  function HalfEdge(vertex, face) {\n    this.vertex = vertex;\n    this.prev = null;\n    this.next = null;\n    this.twin = null;\n    this.face = face;\n  }\n\n  Object.assign(HalfEdge.prototype, {\n    head: function() {\n      return this.vertex;\n    },\n\n    tail: function() {\n      return this.prev ? this.prev.vertex : null;\n    },\n\n    length: function() {\n      var head = this.head();\n      var tail = this.tail();\n\n      if (tail !== null) {\n        return tail.point.distanceTo(head.point);\n      }\n\n      return -1;\n    },\n\n    lengthSquared: function() {\n      var head = this.head();\n      var tail = this.tail();\n\n      if (tail !== null) {\n        return tail.point.distanceToSquared(head.point);\n      }\n\n      return -1;\n    },\n\n    setTwin: function(edge) {\n      this.twin = edge;\n      edge.twin = this;\n\n      return this;\n    }\n  });\n\n  // A vertex as a double linked list node.\n\n  function VertexNode(point) {\n    this.point = point;\n    this.prev = null;\n    this.next = null;\n    this.face = null; // the face that is able to see this vertex\n  }\n\n  // A double linked list that contains vertex nodes.\n\n  function VertexList() {\n    this.head = null;\n    this.tail = null;\n  }\n\n  Object.assign(VertexList.prototype, {\n    first: function() {\n      return this.head;\n    },\n\n    last: function() {\n      return this.tail;\n    },\n\n    clear: function() {\n      this.head = this.tail = null;\n\n      return this;\n    },\n\n    // Inserts a vertex before the target vertex\n\n    insertBefore: function(target, vertex) {\n      vertex.prev = target.prev;\n      vertex.next = target;\n\n      if (vertex.prev === null) {\n        this.head = vertex;\n      } else {\n        vertex.prev.next = vertex;\n      }\n\n      target.prev = vertex;\n\n      return this;\n    },\n\n    // Inserts a vertex after the target vertex\n\n    insertAfter: function(target, vertex) {\n      vertex.prev = target;\n      vertex.next = target.next;\n\n      if (vertex.next === null) {\n        this.tail = vertex;\n      } else {\n        vertex.next.prev = vertex;\n      }\n\n      target.next = vertex;\n\n      return this;\n    },\n\n    // Appends a vertex to the end of the linked list\n\n    append: function(vertex) {\n      if (this.head === null) {\n        this.head = vertex;\n      } else {\n        this.tail.next = vertex;\n      }\n\n      vertex.prev = this.tail;\n      vertex.next = null; // the tail has no subsequent vertex\n\n      this.tail = vertex;\n\n      return this;\n    },\n\n    // Appends a chain of vertices where 'vertex' is the head.\n\n    appendChain: function(vertex) {\n      if (this.head === null) {\n        this.head = vertex;\n      } else {\n        this.tail.next = vertex;\n      }\n\n      vertex.prev = this.tail;\n\n      // ensure that the 'tail' reference points to the last vertex of the chain\n\n      while (vertex.next !== null) {\n        vertex = vertex.next;\n      }\n\n      this.tail = vertex;\n\n      return this;\n    },\n\n    // Removes a vertex from the linked list\n\n    remove: function(vertex) {\n      if (vertex.prev === null) {\n        this.head = vertex.next;\n      } else {\n        vertex.prev.next = vertex.next;\n      }\n\n      if (vertex.next === null) {\n        this.tail = vertex.prev;\n      } else {\n        vertex.next.prev = vertex.prev;\n      }\n\n      return this;\n    },\n\n    // Removes a list of vertices whose 'head' is 'a' and whose 'tail' is b\n\n    removeSubList: function(a, b) {\n      if (a.prev === null) {\n        this.head = b.next;\n      } else {\n        a.prev.next = b.next;\n      }\n\n      if (b.next === null) {\n        this.tail = a.prev;\n      } else {\n        b.next.prev = a.prev;\n      }\n\n      return this;\n    },\n\n    isEmpty: function() {\n      return this.head === null;\n    }\n  });\n\n  // export\n\n  THREE.QuickHull = QuickHull;\n})();\n","/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n(function() {\n  // ConvexGeometry\n\n  function ConvexGeometry(points) {\n    THREE.Geometry.call(this);\n\n    this.type = \"ConvexGeometry\";\n\n    this.fromBufferGeometry(new ConvexBufferGeometry(points));\n    this.mergeVertices();\n  }\n\n  ConvexGeometry.prototype = Object.create(THREE.Geometry.prototype);\n  ConvexGeometry.prototype.constructor = ConvexGeometry;\n\n  // ConvexBufferGeometry\n\n  function ConvexBufferGeometry(points) {\n    THREE.BufferGeometry.call(this);\n\n    this.type = \"ConvexBufferGeometry\";\n\n    // buffers\n\n    var vertices = [];\n    var normals = [];\n\n    // execute QuickHull\n\n    if (THREE.QuickHull === undefined) {\n      console.error(\n        \"THREE.ConvexBufferGeometry: ConvexBufferGeometry relies on THREE.QuickHull\"\n      );\n    }\n\n    var quickHull = new THREE.QuickHull().setFromPoints(points);\n\n    // generate vertices and normals\n\n    var faces = quickHull.faces;\n\n    for (var i = 0; i < faces.length; i++) {\n      var face = faces[i];\n      var edge = face.edge;\n\n      // we move along a doubly-connected edge list to access all face points (see HalfEdge docs)\n\n      do {\n        var point = edge.head().point;\n\n        vertices.push(point.x, point.y, point.z);\n        normals.push(face.normal.x, face.normal.y, face.normal.z);\n\n        edge = edge.next;\n      } while (edge !== face.edge);\n    }\n\n    // build geometry\n\n    this.addAttribute(\n      \"position\",\n      new THREE.Float32BufferAttribute(vertices, 3)\n    );\n    this.addAttribute(\"normal\", new THREE.Float32BufferAttribute(normals, 3));\n  }\n\n  ConvexBufferGeometry.prototype = Object.create(\n    THREE.BufferGeometry.prototype\n  );\n  ConvexBufferGeometry.prototype.constructor = ConvexBufferGeometry;\n\n  // export\n\n  THREE.ConvexGeometry = ConvexGeometry;\n  THREE.ConvexBufferGeometry = ConvexBufferGeometry;\n})();\n","/**\n * Based on http://www.emagix.net/academic/mscs-project/item/camera-sync-with-css3-and-webgl-threejs\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar THREE = require(\"three\");\n\nTHREE.CSS3DObject = function(element) {\n  THREE.Object3D.call(this);\n\n  this.element = element;\n  this.element.style.position = \"absolute\";\n\n  this.addEventListener(\"removed\", function() {\n    if (this.element.parentNode !== null) {\n      this.element.parentNode.removeChild(this.element);\n    }\n  });\n};\n\nTHREE.CSS3DObject.prototype = Object.create(THREE.Object3D.prototype);\nTHREE.CSS3DObject.prototype.constructor = THREE.CSS3DObject;\n\nTHREE.CSS3DSprite = function(element) {\n  THREE.CSS3DObject.call(this, element);\n};\n\nTHREE.CSS3DSprite.prototype = Object.create(THREE.CSS3DObject.prototype);\nTHREE.CSS3DSprite.prototype.constructor = THREE.CSS3DSprite;\n\n//\n\nTHREE.CSS3DRenderer = function() {\n  console.log(\"THREE.CSS3DRenderer\", THREE.REVISION);\n\n  var _width, _height;\n\n  var matrix = new THREE.Matrix4();\n\n  var cache = {\n    camera: { fov: 0, style: \"\" },\n    objects: {}\n  };\n\n  var domElement = document.createElement(\"div\");\n  domElement.style.overflow = \"hidden\";\n\n  domElement.style.WebkitTransformStyle = \"preserve-3d\";\n  domElement.style.MozTransformStyle = \"preserve-3d\";\n  domElement.style.oTransformStyle = \"preserve-3d\";\n  domElement.style.transformStyle = \"preserve-3d\";\n\n  this.domElement = domElement;\n\n  var cameraElement = document.createElement(\"div\");\n\n  cameraElement.style.position = \"absolute\";\n  cameraElement.style.left = \"50%\";\n  cameraElement.style.top = \"50%\";\n\n  cameraElement.style.WebkitTransformStyle = \"preserve-3d\";\n  cameraElement.style.MozTransformStyle = \"preserve-3d\";\n  cameraElement.style.oTransformStyle = \"preserve-3d\";\n  cameraElement.style.transformStyle = \"preserve-3d\";\n\n  domElement.appendChild(cameraElement);\n\n  this.setClearColor = function() {};\n\n  // Added by Argo-lite, for optimization\n  this.isPaused = false;\n\n  this.getSize = function() {\n    return {\n      width: _width,\n      height: _height\n    };\n  };\n\n  this.setSize = function(width, height) {\n    _width = width;\n    _height = height;\n\n    domElement.style.width = width + \"px\";\n    domElement.style.height = height + \"px\";\n  };\n\n  function epsilon(value) {\n    return Math.abs(value) < Number.EPSILON ? 0 : value;\n  }\n\n  function getCameraCSSMatrix(matrix) {\n    var elements = matrix.elements;\n\n    return (\n      \"matrix3d(\" +\n      epsilon(elements[0]) +\n      \",\" +\n      epsilon(-elements[1]) +\n      \",\" +\n      epsilon(elements[2]) +\n      \",\" +\n      epsilon(elements[3]) +\n      \",\" +\n      epsilon(elements[4]) +\n      \",\" +\n      epsilon(-elements[5]) +\n      \",\" +\n      epsilon(elements[6]) +\n      \",\" +\n      epsilon(elements[7]) +\n      \",\" +\n      epsilon(elements[8]) +\n      \",\" +\n      epsilon(-elements[9]) +\n      \",\" +\n      epsilon(elements[10]) +\n      \",\" +\n      epsilon(elements[11]) +\n      \",\" +\n      epsilon(elements[12]) +\n      \",\" +\n      epsilon(-elements[13]) +\n      \",\" +\n      epsilon(elements[14]) +\n      \",\" +\n      epsilon(elements[15]) +\n      \")\"\n    );\n  }\n\n  function getObjectCSSMatrix(matrix) {\n    var elements = matrix.elements;\n\n    return (\n      \"translate3d(-50%,-50%,0) matrix3d(\" +\n      epsilon(elements[0]) +\n      \",\" +\n      epsilon(elements[1]) +\n      \",\" +\n      epsilon(elements[2]) +\n      \",\" +\n      epsilon(elements[3]) +\n      \",\" +\n      epsilon(-elements[4]) +\n      \",\" +\n      epsilon(-elements[5]) +\n      \",\" +\n      epsilon(-elements[6]) +\n      \",\" +\n      epsilon(-elements[7]) +\n      \",\" +\n      epsilon(elements[8]) +\n      \",\" +\n      epsilon(elements[9]) +\n      \",\" +\n      epsilon(elements[10]) +\n      \",\" +\n      epsilon(elements[11]) +\n      \",\" +\n      epsilon(elements[12]) +\n      \",\" +\n      epsilon(elements[13]) +\n      \",\" +\n      epsilon(elements[14]) +\n      \",\" +\n      epsilon(elements[15]) +\n      \")\"\n    );\n  }\n\n  function renderObject(object, camera) {\n    if (object instanceof THREE.CSS3DObject) {\n      var style;\n\n      if (object instanceof THREE.CSS3DSprite) {\n        // http://swiftcoder.wordpress.com/2008/11/25/constructing-a-billboard-matrix/\n\n        matrix.copy(camera.matrixWorldInverse);\n        matrix.transpose();\n        matrix.copyPosition(object.matrixWorld);\n        matrix.scale(object.scale);\n\n        matrix.elements[3] = 0;\n        matrix.elements[7] = 0;\n        matrix.elements[11] = 0;\n        matrix.elements[15] = 1;\n\n        style = getObjectCSSMatrix(matrix);\n      } else {\n        style = getObjectCSSMatrix(object.matrixWorld);\n      }\n\n      var element = object.element;\n      var cachedStyle = cache.objects[object.id];\n\n      if (cachedStyle === undefined || cachedStyle !== style) {\n        element.style.WebkitTransform = style;\n        element.style.MozTransform = style;\n        element.style.oTransform = style;\n        element.style.transform = style;\n\n        cache.objects[object.id] = style;\n      }\n\n      if (element.parentNode !== cameraElement) {\n        cameraElement.appendChild(element);\n      }\n    }\n\n    for (var i = 0, l = object.children.length; i < l; i++) {\n      renderObject(object.children[i], camera);\n    }\n  }\n\n  this.render = function(scene, camera) {\n    if (this.isPaused) {\n      return;\n    }\n    var fov =\n      (0.5 / Math.tan(THREE.Math.degToRad(camera.getEffectiveFOV() * 0.5))) *\n      _height;\n\n    if (cache.camera.fov !== fov) {\n      domElement.style.WebkitPerspective = fov + \"px\";\n      domElement.style.MozPerspective = fov + \"px\";\n      domElement.style.oPerspective = fov + \"px\";\n      domElement.style.perspective = fov + \"px\";\n\n      cache.camera.fov = fov;\n    }\n\n    scene.updateMatrixWorld();\n\n    if (camera.parent === null) camera.updateMatrixWorld();\n\n    camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n\n    var style =\n      \"translateZ(\" +\n      fov +\n      \"px)\" +\n      getCameraCSSMatrix(camera.matrixWorldInverse);\n\n    if (cache.camera.style !== style) {\n      cameraElement.style.WebkitTransform = style;\n      cameraElement.style.MozTransform = style;\n      cameraElement.style.oTransform = style;\n      cameraElement.style.transform = style;\n\n      cache.camera.style = style;\n    }\n\n    renderObject(scene, camera);\n  };\n};\n","var $ = require(\"jquery\");\n\nmodule.exports = function(THREE) {\n  /**\n   * @author qiao / https://github.com/qiao\n   * @author mrdoob / http://mrdoob.com\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author erich666 / http://erichaines.com\n   */\n\n  // This set of controls performs orbiting, dollying (zooming), and panning.\n  // Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n  //\n  //    Orbit - left mouse / touch: one finger move\n  //    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n  //    Pan - right mouse, or arrow keys / touch: three finter swipe\n\n  function OrbitControls(object, domElement, appState) {\n\n    \n    this.appState = appState;\n\n    this.object = object;\n\n    this.domElement = domElement !== undefined ? domElement : document;\n\n    // Set to false to disable this control\n    this.enabled = true;\n\n    // \"target\" sets the location of focus, where the object orbits around\n    this.target = new THREE.Vector3();\n\n    // How far you can dolly in and out ( PerspectiveCamera only )\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n\n    // How far you can zoom in and out ( OrthographicCamera only )\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    this.minAzimuthAngle = -Infinity; // radians\n    this.maxAzimuthAngle = Infinity; // radians\n\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    this.enableDamping = false;\n    this.dampingFactor = 0.25;\n\n    // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0;\n\n    // Set to false to disable rotating\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0;\n\n    // Set to false to disable panning\n    this.enablePan = true;\n    this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n    // Set to false to disable use of the keys\n    this.enableKeys = true;\n\n    // The four arrow keys\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40, SPACE: 32 };\n\n    // Mouse buttons\n    this.mouseButtons = {\n      ORBIT: THREE.MOUSE.LEFT,\n      ZOOM: THREE.MOUSE.MIDDLE,\n      PAN: THREE.MOUSE.RIGHT\n    };\n\n    // for reset\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n\n    // for space panning\n    this.spacePan = false;\n    this.bothPan = false;\n\n    //\n    // public methods\n    //\n\n    this.getPolarAngle = function() {\n      return spherical.phi;\n    };\n\n    this.getAzimuthalAngle = function() {\n      return spherical.theta;\n    };\n\n    this.reset = function() {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n      scope.object.zoom = scope.zoom0;\n\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent(changeEvent);\n\n      scope.update();\n\n      state = STATE.NONE;\n    };\n\n    // this method is exposed, but perhaps it would be better if we can make it private...\n    this.update = (function() {\n      var offset = new THREE.Vector3();\n\n      // so camera.up is the orbit axis\n      var quat = new THREE.Quaternion().setFromUnitVectors(\n        object.up,\n        new THREE.Vector3(0, 1, 0)\n      );\n      var quatInverse = quat.clone().inverse();\n\n      var lastPosition = new THREE.Vector3();\n      var lastQuaternion = new THREE.Quaternion();\n\n      return function update() {\n        var position = scope.object.position;\n\n        offset.copy(position).sub(scope.target);\n\n        // rotate offset to \"y-axis-is-up\" space\n        offset.applyQuaternion(quat);\n\n        // angle from z-axis around y-axis\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        spherical.theta += sphericalDelta.theta;\n        spherical.phi += sphericalDelta.phi;\n\n        // restrict theta to be between desired limits\n        spherical.theta = Math.max(\n          scope.minAzimuthAngle,\n          Math.min(scope.maxAzimuthAngle, spherical.theta)\n        );\n\n        // restrict phi to be between desired limits\n        spherical.phi = Math.max(\n          scope.minPolarAngle,\n          Math.min(scope.maxPolarAngle, spherical.phi)\n        );\n\n        spherical.makeSafe();\n\n        spherical.radius *= scale;\n\n        // restrict radius to be between desired limits\n        spherical.radius = Math.max(\n          scope.minDistance,\n          Math.min(scope.maxDistance, spherical.radius)\n        );\n\n        // move target to panned location\n        scope.target.add(panOffset);\n\n        offset.setFromSpherical(spherical);\n\n        // rotate offset back to \"camera-up-vector-is-up\" space\n        offset.applyQuaternion(quatInverse);\n\n        position.copy(scope.target).add(offset);\n\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n        } else {\n          sphericalDelta.set(0, 0, 0);\n        }\n\n        scale = 1;\n        panOffset.set(0, 0, 0);\n\n        // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (\n          zoomChanged ||\n          lastPosition.distanceToSquared(scope.object.position) > EPS ||\n          8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS\n        ) {\n          scope.dispatchEvent(changeEvent);\n\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n\n          return true;\n        }\n\n        return false;\n      };\n    })();\n\n    this.dispose = function() {\n      scope.domElement.removeEventListener(\"contextmenu\", onContextMenu, false);\n      scope.domElement.removeEventListener(\"mousedown\", onMouseDown, false);\n      scope.domElement.removeEventListener(\"wheel\", onMouseWheel, false);\n\n      scope.domElement.removeEventListener(\"touchstart\", onTouchStart, false);\n      scope.domElement.removeEventListener(\"touchend\", onTouchEnd, false);\n      scope.domElement.removeEventListener(\"touchmove\", onTouchMove, false);\n\n      document.removeEventListener(\"mousemove\", onMouseMove, false);\n      document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n      window.removeEventListener(\"keydown\", onKeyDown, false);\n\n      //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    };\n\n    //\n    // internals\n    //\n\n    var scope = this;\n    var changeEvent = { type: \"change\" };\n    var startEvent = { type: \"start\" };\n    var endEvent = { type: \"end\" };\n\n    var STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_DOLLY: 4,\n      TOUCH_PAN: 5\n    };\n\n    var state = STATE.NONE;\n\n    var EPS = 0.000001;\n\n    // current position in spherical coordinates\n    var spherical = new THREE.Spherical();\n    var sphericalDelta = new THREE.Spherical();\n\n    var scale = 1;\n    var panOffset = new THREE.Vector3();\n    var zoomChanged = false;\n\n    var rotateStart = new THREE.Vector2();\n    var rotateEnd = new THREE.Vector2();\n    var rotateDelta = new THREE.Vector2();\n\n    var panStart = new THREE.Vector2();\n    var panEnd = new THREE.Vector2();\n    var panDelta = new THREE.Vector2();\n\n    var dollyStart = new THREE.Vector2();\n    var dollyEnd = new THREE.Vector2();\n    var dollyDelta = new THREE.Vector2();\n\n    function getAutoRotationAngle() {\n      return ((2 * Math.PI) / 60 / 60) * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      sphericalDelta.theta -= angle;\n    }\n\n    function rotateUp(angle) {\n      sphericalDelta.phi -= angle;\n    }\n\n    var panLeft = (function() {\n      var v = new THREE.Vector3();\n\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n        v.multiplyScalar(-distance);\n\n        panOffset.add(v);\n      };\n    })();\n\n    var panUp = (function() {\n      var v = new THREE.Vector3();\n\n      return function panUp(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n        v.multiplyScalar(distance);\n\n        panOffset.add(v);\n      };\n    })();\n\n    // deltaX and deltaY are in pixels; right and down are positive\n    var pan = (function() {\n      var offset = new THREE.Vector3();\n\n      return function pan(deltaX, deltaY) {\n        var element =\n          scope.domElement === document\n            ? scope.domElement.body\n            : scope.domElement;\n\n        if (scope.object instanceof THREE.PerspectiveCamera) {\n          // perspective\n          var position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          var targetDistance = offset.length();\n\n          // half of the fov is center to top of screen\n          targetDistance *= Math.tan(\n            ((scope.object.fov / 2) * Math.PI) / 180.0\n          );\n\n          // we actually don't use screenWidth, since perspective camera is fixed to screen height\n          panLeft(\n            (2 * deltaX * targetDistance) / element.clientHeight,\n            scope.object.matrix\n          );\n          panUp(\n            (2 * deltaY * targetDistance) / element.clientHeight,\n            scope.object.matrix\n          );\n        } else if (scope.object instanceof THREE.OrthographicCamera) {\n          // orthographic\n          panLeft(\n            (deltaX * (scope.object.right - scope.object.left)) /\n              scope.object.zoom /\n              element.clientWidth,\n            scope.object.matrix\n          );\n          panUp(\n            (deltaY * (scope.object.top - scope.object.bottom)) /\n              scope.object.zoom /\n              element.clientHeight,\n            scope.object.matrix\n          );\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn(\n            \"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"\n          );\n          scope.enablePan = false;\n        }\n      };\n    })();\n\n    // Expose panning for external usage\n    this.pan = pan;\n\n\n    function dollyIn(dollyScale, mousePos, event) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        scope.object.zoom = Math.max(\n          scope.minZoom,\n          Math.min(scope.maxZoom, scope.object.zoom * dollyScale)\n        );\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn(\n          \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n        );\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyOut(dollyScale, mousePos) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        scope.object.zoom = Math.max(\n          scope.minZoom,\n          Math.min(scope.maxZoom, scope.object.zoom / dollyScale)\n        );\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn(\n          \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n        );\n        scope.enableZoom = false;\n      }\n    }\n\n    //public zoom in function, used when zoom in button clicked\n    this.dollyIn = function(scale) {\n      dollyIn(scale);\n      scope.update()\n    }\n    //public zoom out function, used when zoom out button clicked\n    this.dollyOut = function(scale) {\n      dollyOut(scale);\n      scope.update()\n    }\n\n    //\n    // event callbacks - update the object state\n    //\n\n    function handleMouseDownRotate(event) {\n      //console.log( 'handleMouseDownRotate' );\n\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      //console.log( 'handleMouseDownDolly' );\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      //console.log( 'handleMouseDownPan' );\n\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      //console.log( 'handleMouseMoveRotate' );\n    \n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart);\n\n      var element =\n        scope.domElement === document\n          ? scope.domElement.body\n          : scope.domElement;\n\n      // rotating across whole screen goes 360 degrees around\n      rotateLeft(\n        ((2 * Math.PI * rotateDelta.x) / element.clientWidth) *\n          scope.rotateSpeed\n      );\n\n      // rotating up and down along whole screen attempts to go 360, but limited to 180\n      rotateUp(\n        ((2 * Math.PI * rotateDelta.y) / element.clientHeight) *\n          scope.rotateSpeed\n      );\n\n      rotateStart.copy(rotateEnd);\n\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      //console.log( 'handleMouseMoveDolly' );\n      dollyEnd.set(event.clientX, event.clientY);\n\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyIn(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyOut(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      //console.log( 'handleMouseMovePan' );\n\n      panEnd.set(event.clientX, event.clientY);\n\n      panDelta.subVectors(panEnd, panStart);\n\n      pan(panDelta.x, panDelta.y);\n\n      panStart.copy(panEnd);\n\n      scope.update();\n    }\n\n    function handleMouseUp(event) {\n      //console.log( 'handleMouseUp' );\n    }\n\n    function handleMouseWheel(event) {\n      \n      mousePos = {x: event.clientX, y: event.clientY}\n\n      if (event.deltaY < 0) {\n        dollyOut(getZoomScale(), mousePos, event);\n      } else if (event.deltaY > 0) {\n        dollyIn(getZoomScale(), mousePos, event);\n      }\n\n      scope.update();\n    }\n\n    function handleKeyUp(event) {\n      switch (event.keyCode) {\n        case scope.keys.SPACE:\n          if (scope.spacePan == true) {\n            scope.spacePanStart = false;\n            state = STATE.NONE;\n          }\n          break;\n      }\n    }\n\n    function handleKeyDown(event) {\n      //console.log( 'handleKeyDown' );\n\n      switch (event.keyCode) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          scope.update();\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          scope.update();\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          scope.update();\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          scope.update();\n          break;\n\n        case scope.keys.SPACE:\n          if (scope.spacePan == true) {\n            scope.spacePanStart = true;\n            state = STATE.PAN;\n          }\n          break;\n      }\n    }\n\n    function handleTouchStartRotate(event) {\n      //console.log( 'handleTouchStartRotate' );\n\n      rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    }\n\n    function handleTouchStartDolly(event) {\n      //console.log( 'handleTouchStartDolly' );\n\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartPan(event) {\n      //console.log( 'handleTouchStartPan' );\n\n      panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    }\n\n    function handleTouchMoveRotate(event) {\n      //console.log( 'handleTouchMoveRotate' );\n\n      rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      rotateDelta.subVectors(rotateEnd, rotateStart);\n\n      var element =\n        scope.domElement === document\n          ? scope.domElement.body\n          : scope.domElement;\n\n      // rotating across whole screen goes 360 degrees around\n      rotateLeft(\n        ((2 * Math.PI * rotateDelta.x) / element.clientWidth) *\n          scope.rotateSpeed\n      );\n\n      // rotating up and down along whole screen attempts to go 360, but limited to 180\n      rotateUp(\n        ((2 * Math.PI * rotateDelta.y) / element.clientHeight) *\n          scope.rotateSpeed\n      );\n\n      rotateStart.copy(rotateEnd);\n\n      scope.update();\n    }\n\n    function handleTouchMoveDolly(event) {\n      //console.log( 'handleTouchMoveDolly' );\n\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      dollyEnd.set(0, distance);\n\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n\n      scope.update();\n    }\n\n    function handleTouchMovePan(event) {\n      //console.log( 'handleTouchMovePan' );\n\n      panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n      panDelta.subVectors(panEnd, panStart);\n\n      pan(panDelta.x, panDelta.y);\n\n      panStart.copy(panEnd);\n\n      scope.update();\n    }\n\n    function handleTouchEnd(event) {\n      //console.log( 'handleTouchEnd' );\n    }\n\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n    function onMouseDown(event) {\n      if (scope.enabled === false) return;\n\n      event.preventDefault();\n\n      if (event.button === scope.mouseButtons.ORBIT) {\n        if (scope.enableRotate === false) return;\n\n        handleMouseDownRotate(event);\n\n        state = STATE.ROTATE;\n      } else if (event.button === scope.mouseButtons.ZOOM) {\n        if (scope.enableZoom === false) return;\n\n        handleMouseDownDolly(event);\n\n        state = STATE.DOLLY;\n      } else if (event.button === scope.mouseButtons.PAN) {\n        if (scope.enablePan === false) return;\n\n        if (!scope.spacePan || scope.bothPan) {\n          handleMouseDownPan(event);\n\n          state = STATE.PAN;\n        }\n      }\n\n      if (state !== STATE.NONE) {\n        document.addEventListener(\"mousemove\", onMouseMove, false);\n        document.addEventListener(\"mouseup\", onMouseUp, false);\n\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n\n      event.preventDefault();\n\n      if (state === STATE.ROTATE) {\n        if (scope.enableRotate === false) return;\n\n        handleMouseMoveRotate(event);\n      } else if (state === STATE.DOLLY) {\n        if (scope.enableZoom === false) return;\n\n        handleMouseMoveDolly(event);\n      } else if (state === STATE.PAN) {\n        if (scope.enablePan === false) return;\n\n        if (scope.spacePan == true) {\n          if (scope.spacePanStart == true) {\n            handleMouseDownPan(event);\n            scope.spacePanStart = false;\n          }\n        }\n\n        handleMouseMovePan(event);\n      }\n    }\n\n    function onMouseUp(event) {\n      if (scope.enabled === false) return;\n\n      handleMouseUp(event);\n\n      //document.removeEventListener( 'mousemove', onMouseMove, false );\n      document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n      scope.dispatchEvent(endEvent);\n\n      state = STATE.NONE;\n    }\n\n    function onMouseWheel(event) {\n      if (\n        scope.enabled === false ||\n        scope.enableZoom === false ||\n        (state !== STATE.NONE && state !== STATE.ROTATE)\n      )\n        return;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      handleMouseWheel(event);\n\n      scope.dispatchEvent(startEvent); // not sure why these are here...\n      scope.dispatchEvent(endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (\n        scope.enabled === false ||\n        scope.enableKeys === false ||\n        scope.enablePan === false\n      )\n        return;\n\n      document.addEventListener(\"mousemove\", onMouseMove, false);\n\n      handleKeyDown(event);\n    }\n\n    function onKeyUp(event) {\n      if (\n        scope.enabled === false ||\n        scope.enableKeys === false ||\n        scope.enablePan === false\n      )\n        return;\n\n      handleKeyUp(event);\n    }\n\n    function onTouchStart(event) {\n      if (scope.enabled === false) return;\n\n      switch (event.touches.length) {\n        case 1: // one-fingered touch: rotate\n          if (scope.enableRotate === false) return;\n\n          handleTouchStartRotate(event);\n\n          state = STATE.TOUCH_ROTATE;\n\n          break;\n\n        case 2: // two-fingered touch: dolly\n          if (scope.enableZoom === false) return;\n\n          handleTouchStartDolly(event);\n\n          state = STATE.TOUCH_DOLLY;\n\n          break;\n\n        case 3: // three-fingered touch: pan\n          if (scope.enablePan === false) return;\n\n          handleTouchStartPan(event);\n\n          state = STATE.TOUCH_PAN;\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      if (scope.enabled === false) return;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      switch (event.touches.length) {\n        case 1: // one-fingered touch: rotate\n          if (scope.enableRotate === false) return;\n          if (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n          handleTouchMoveRotate(event);\n\n          break;\n\n        case 2: // two-fingered touch: dolly\n          if (scope.enableZoom === false) return;\n          if (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n\n          handleTouchMoveDolly(event);\n\n          break;\n\n        case 3: // three-fingered touch: pan\n          if (scope.enablePan === false) return;\n          if (state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n          handleTouchMovePan(event);\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onTouchEnd(event) {\n      if (scope.enabled === false) return;\n\n      handleTouchEnd(event);\n\n      scope.dispatchEvent(endEvent);\n\n      state = STATE.NONE;\n    }\n\n    function onContextMenu(event) {\n      event.preventDefault();\n    }\n\n    //\n\n    scope.domElement.addEventListener(\"contextmenu\", onContextMenu, false);\n\n    scope.domElement.addEventListener(\"mousedown\", onMouseDown, false);\n    scope.domElement.addEventListener(\"wheel\", onMouseWheel, false);\n\n    scope.domElement.addEventListener(\"touchstart\", onTouchStart, false);\n    scope.domElement.addEventListener(\"touchend\", onTouchEnd, false);\n    scope.domElement.addEventListener(\"touchmove\", onTouchMove, false);\n\n    window.addEventListener(\"keydown\", onKeyDown, false);\n    window.addEventListener(\"keyup\", onKeyUp, false);\n\n    // force an update at start\n\n    this.update();\n\n    \n    \n  }\n\n  OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\n  OrbitControls.prototype.constructor = OrbitControls;\n\n  Object.defineProperties(OrbitControls.prototype, {\n    center: {\n      get: function() {\n        console.warn(\n          \"THREE.OrbitControls: .center has been renamed to .target\"\n        );\n        return this.target;\n      }\n    },\n\n    // backward compatibility\n\n    noZoom: {\n      get: function() {\n        console.warn(\n          \"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"\n        );\n        return !this.enableZoom;\n      },\n\n      set: function(value) {\n        console.warn(\n          \"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"\n        );\n        this.enableZoom = !value;\n      }\n    },\n\n    noRotate: {\n      get: function() {\n        console.warn(\n          \"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"\n        );\n        return !this.enableRotate;\n      },\n\n      set: function(value) {\n        console.warn(\n          \"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"\n        );\n        this.enableRotate = !value;\n      }\n    },\n\n    noPan: {\n      get: function() {\n        console.warn(\n          \"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"\n        );\n        return !this.enablePan;\n      },\n\n      set: function(value) {\n        console.warn(\n          \"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"\n        );\n        this.enablePan = !value;\n      }\n    },\n\n    noKeys: {\n      get: function() {\n        console.warn(\n          \"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"\n        );\n        return !this.enableKeys;\n      },\n\n      set: function(value) {\n        console.warn(\n          \"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"\n        );\n        this.enableKeys = !value;\n      }\n    },\n\n    staticMoving: {\n      get: function() {\n        console.warn(\n          \"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"\n        );\n        return !this.enableDamping;\n      },\n\n      set: function(value) {\n        console.warn(\n          \"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"\n        );\n        this.enableDamping = !value;\n      }\n    },\n\n    dynamicDampingFactor: {\n      get: function() {\n        console.warn(\n          \"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"\n        );\n        return this.dampingFactor;\n      },\n\n      set: function(value) {\n        console.warn(\n          \"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"\n        );\n        this.dampingFactor = value;\n      }\n    }\n  });\n\n  \n\n  return OrbitControls;\n};\n","var def = require(\"../imports\").default;\nvar appState = require(\"../../../stores\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\n\nmodule.exports = function(self) {\n  /**\n   * Calculates coordinates of mouse on canvas adjusted for padding\n   * @param {*} event\n   * @param {*} currentElement\n   */\n  self.relMouseCoords = function(pageX, pageY, currentElement) {\n    var totalOffsetX = 0;\n    var totalOffsetY = 0;\n    var canvasX = 0;\n    var canvasY = 0;\n\n    do {\n      totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;\n      totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;\n    } while ((currentElement = currentElement.offsetParent));\n\n    canvasX = pageX - totalOffsetX;\n    canvasY = pageY - totalOffsetY;\n\n    return { x: canvasX, y: canvasY };\n  };\n\n  /**\n   * Add metadata to node\n   * @param {*} node\n   */\n  self.prepNode = function(node) {\n    let nodeToAdd = node;\n    if (!node.data) {\n      node.data = {};\n    }\n\n    let hexToRGB = (hex) => {\n      var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n      return result ? \n      new THREE.Color(appState.graph.edges.color)\n      : null;\n  }\n    nodeToAdd.renderData = {\n      label: node.data.label || \"No Label\",\n      color: node.data.color || def.NODE_COLOR,\n      hcolor: node.data.hcolor || def.NODE_HIGHLIGHT,\n      shape: node.data.shape || def.NODE_SHAPE,\n      linecolor:  hexToRGB(appState.graph.edges.color),\n      numYeast: Math.ceil(Math.random() * 8),\n      size: node.data.size,\n      tsize: node.data.tsize || def.TEXT_SIZE,\n      x: 0,\n      y: 0,\n      vx: 0,\n      vy: 0\n    };\n    return nodeToAdd;\n  };\n\n  /**\n   * Creates a generic rectangle shape to use for selection and boundaries\n   */\n  self.make1x1Rect = function() {\n    var rectShape = new THREE.Shape();\n    rectShape.moveTo(0, 0);\n    rectShape.lineTo(0, 1);\n    rectShape.lineTo(1, 1);\n    rectShape.lineTo(1, 0);\n    rectShape.lineTo(0, 0);\n    rectShape.lineTo(0, 1);\n    return new THREE.ShapeGeometry(rectShape);\n  };\n\n  /**\n   * Creates a centered 2x2 Rectangle\n   */\n  self.make2x2Rect = function() {\n    var rectShape = new THREE.Shape();\n    rectShape.moveTo(-1, -1);\n    rectShape.lineTo(-1, 1);\n    rectShape.lineTo(1, 1);\n    rectShape.lineTo(1, -1);\n    rectShape.lineTo(-1, -1);\n    return new THREE.ShapeGeometry(rectShape);\n  };\n\n  /**\n   *  find radius of circle given the volume\n   * @param {*} volume\n   */\n  self.volToRadius = function(volume) {\n    return Math.pow((volume / Math.PI) * (3.0 / 4.0), 1.0 / 3.0);\n  };\n};\n","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\nconst { default: appState } = require(\"../../stores\");\n\n\nmodule.exports = function(self) {\n  /**\n   * Creates or converts ngraph or d3 graph\n   */\n  self.setupGraph = function() {\n    var createNGraph = require(\"ngraph.graph\");\n    self.graph = createNGraph();\n    if (self.inGraph) {\n      self.updateGraph(self.inGraph);\n    }\n  };\n\n  /**\n   *  Create layout using d3\n   */\n  self.setupLayout = function() {\n    if (self.options.layout == \"ngraph\") {\n      self.setupNgraphLayout();\n    } else if (self.options.layout == \"d3\") {\n      self.setupD3Layout();\n    }\n  };\n\n  /**\n   * Set graph layout to ngraph\n   */\n  self.setupNgraphLayout = function() {\n    self.force = require(\"ngraph.forcelayout\")(self.graph);\n  };\n\n  /**\n   * Set graph layout to D3 Force Directed and set decay parameters\n   */\n  self.setupD3Layout = function() {\n    self.force = d3\n      .forceSimulation()\n      .force(\"charge\", d3.forceManyBody().strength(-1))\n      .force(\"link\", d3.forceLink())\n      .force(\"y\", d3.forceY(0).strength(0.001))\n      .force(\"x\", d3.forceX(0).strength(0.001))\n      .stop();\n\n    // set alpha decay to be lower than the default 0.0228\n    // so force layout does not prematurely stop\n    self.force.alphaDecay(0.005);\n\n    // set velocity decay to be lower than the default 0.4\n    // so nodes move to their final locations\n    self.force.velocityDecay(0.1);\n  };\n\n  self.setDisplayParams = function() {\n    self.element = document.getElementById(\"graph-container\");\n    self.clientRect = self.element.getBoundingClientRect();\n    self.width = self.clientRect.width;\n    self.height = self.clientRect.height;\n    self.aspect = self.width / self.height;\n    self.resolution = new THREE.Vector2(self.width, self.height);\n  };\n\n  self.setRendererParams = function() {\n    self.renderer.setSize(self.width, self.height);\n    self.cssRenderer = new THREE.CSS3DRenderer();\n    self.cssRenderer.setSize(self.width, self.height);\n    self.cssRenderer.domElement.style.position = \"absolute\";\n    self.cssRenderer.domElement.style.top = 0;\n    self.minimapRenderer.domElement.style.position = \"absolute\";\n    self.minimapRenderer.domElement.style.bottom = 0;\n    self.minimapRenderer.domElement.style.left = 0;\n    self.minimapRenderer.setSize(0.2 * self.height, 0.2 * self.height);\n    self.minimapRenderer.zIndex = 1000;\n    self.renderer.setPixelRatio(window.devicePixelRatio);\n  };\n\n  /**\n   *  Create initial camera and parameters\n   */\n  self.setupCamera = function() {\n    self.ccamera = new THREE.PerspectiveCamera(\n      self.fov,\n      self.width / self.height,\n      self.near,\n      self.far\n    );\n    self.ccamera.position.z = 200;\n    var controls = new OrbitControls(self.ccamera, self.element, appState);\n    \n    //add orbitcontrols to appstate\n    appState.controls = controls\n\n    controls.spacePan = true; // Space bar panning\n    controls.bothPan = true; // Space bar and right click panning\n    controls.minDistance = 10;\n    controls.maxDistance = self.renderWidth * 2;\n    controls.target.set(0, 0, 0);\n    controls.enableRotate = false;\n    self.controls = controls;\n  };\n\n  /**\n   *  Create minimap\n   */\n  self.setupMinimap = function() {\n    self.minimap = {};\n    self.minimap.camera = new THREE.PerspectiveCamera(\n      self.fov,\n      1,\n      self.near,\n      self.far\n    );\n    self.minimap.camera.position.z = self.renderWidth * 2;\n\n    (self.oldCoords = {\n      x: null,\n      y: null,\n      z: null\n    }),\n      /**\n       * Pan the ccamera according to mouse position on screen (should be called only when mouse is on minimap)\n       * @param coordX mouse position on screen returned by relMouseCoords\n       * @param coordY mouse position on screen returned by relMouseCoords\n       */\n      (self.minimap.panToMousePosition = function(coordX, coordY) {\n        // ensures that the camera position is updated from the last pan.\n        if (\n          self.ccamera.position.x == self.oldCoords.x &&\n          self.ccamera.position.y == self.oldCoords.y &&\n          self.ccamera.position.z == self.oldCoords.z\n        ) {\n          return;\n        }\n\n        self.oldCoords.x = self.ccamera.position.x;\n        self.oldCoords.y = self.ccamera.position.y;\n        self.oldCoords.z = self.ccamera.position.z;\n\n        // 850 is an approximation\n        const coefficient = (self.height - 200) / self.ccamera.position.z;\n\n        self.controls.pan(\n          ((coordX / self.minimap.width) * 4000 -\n            2000 -\n            self.ccamera.position.x) *\n            -coefficient,\n          (((self.height - coordY) / self.minimap.height) * 4000 -\n            2000 -\n            self.ccamera.position.y) *\n            coefficient\n        );\n      });\n\n      appState.panToMousePosition = self.minimap.panToMousePosition;\n  };\n\n  /**\n   *  Create initial scene geometry and attributes\n   */\n  self.setupGeometry = function() {\n    self.scene = new THREE.Scene();\n\n    self.points = new THREE.BufferGeometry();\n    self.nodes = new THREE.Group();\n    self.scene.add(self.nodes);\n\n    if (def.LINES == \"fancy\") {\n      self.setupFancyEdges();\n    } else {\n      self.setUpSimpleEdges();\n    }\n\n    var rect = self.make1x1Rect();\n\n    self.setupSelectionBox(rect);\n    self.setupBoundaries(rect);\n    self.setupViewPort(rect);\n  };\n\n  /**\n   * Setup data structures for fancy edges\n   */\n  self.setupFancyEdges = function() {\n    self.edges = [];\n    self.edgeCount = 0;\n  };\n\n  /**\n   * Sets up data structures for simple edges\n   */\n  self.setUpSimpleEdges = function() {\n    self.edges = new THREE.BufferGeometry();\n    var material = new THREE.LineBasicMaterial({\n      linewidth: 2,\n      color: 0xffffff,\n      vertexColors: THREE.VertexColors,\n      shading: THREE.FlatShading\n    });\n    self.line = new THREE.LineSegments(self.edges, material);\n    self.line.frustumCulled = false;\n    self.scene.add(self.line);\n\n    var positions = new THREE.BufferAttribute(\n      new Float32Array(self.MAX_LINES * 3),\n      3\n    );\n    var colors = new THREE.BufferAttribute(\n      new Float32Array(self.MAX_LINES * 3),\n      3\n    );\n\n    self.edges.addAttribute(\"position\", positions);\n    self.edges.addAttribute(\"color\", colors);\n\n    /**Adding triangles for directed edges update*/\n    self.directedArrows = new THREE.BufferGeometry();\n    var arrowMaterial = new THREE.MeshBasicMaterial({\n      color: 0xffffff,\n    });\n    self.arrow = new THREE.Mesh(self.directedArrows, arrowMaterial);\n    self.arrow.frustumCulled = false;\n    self.scene.add(self.arrow)\n    var arrowPositions = new THREE.BufferAttribute(\n      new Float32Array(self.MAX_LINES * 3),\n      3\n    );\n    var arrowColors = new THREE.BufferAttribute(\n      new Float32Array(self.MAX_LINES * 3),\n      3\n    );\n\n    self.directedArrows.addAttribute(\"position\", arrowPositions);\n    self.directedArrows.addAttribute(\"color\", arrowColors);\n    \n    self.drawCount = 0;\n  };\n\n  /**\n   * Adds box to screen that is displayed when selecting groups of nodes\n   */\n  self.setupSelectionBox = function(rect) {\n    self.selectBox = new THREE.Line(\n      rect,\n      new THREE.LineBasicMaterial({ linewidth: 3, color: 0x3399aa })\n    );\n    self.selectBox.visible = false;\n    self.scene.add(self.selectBox);\n  };\n\n  /**\n   * Sets boundaries for max edges of graph\n   */\n  self.setupBoundaries = function(rect) {\n    self.boundaries = new THREE.Line(\n      rect,\n      new THREE.LineBasicMaterial({ linewidth: 3, color: 0x999999 })\n    ); \n    self.scene.add(self.boundaries);\n    self.setBoundarySize(self.renderWidth * 2);\n  };\n\n  /**\n   * Sets viewport to match size of display\n   */\n  self.setupViewPort = function(rect) {\n    self.viewPort = new THREE.Line(\n      rect,\n      new THREE.LineBasicMaterial({ linewidth: 3, color: self.darkMode? 0xffffff : 0x000000})\n    );\n    self.scene.add(self.viewPort);\n    self.setViewPortSize(self.ccamera);\n  };\n\n  /**\n   *  Creates listeners and events for selecting nodes\n   */\n  self.setupSelect = function() {\n    self.points.addAttribute(\n      \"position\",\n      new THREE.BufferAttribute(new Float32Array(20 * 3), 3)\n    );\n    self.points.computeBoundingSphere();\n    self.nodeCount = 0;\n    var mouseHandler = function(callback) {\n      return function(event) {\n        event.preventDefault();\n        let pageX, pageY;\n        if (event.touches && event.touches.length > 0) {\n          // for touch events\n          pageX = event.touches.item(0).pageX;\n          pageY = event.touches.item(0).pageY;\n        } else {\n          pageX = event.pageX;\n          pageY = event.pageY;\n        }\n        \n        var coords = self.relMouseCoords(pageX, pageY, this);\n        var mouseX = (coords.x / self.width) * 2 - 1;\n        var mouseY = 1 - (coords.y / self.height) * 2;\n        var mousePosition = new THREE.Vector3(mouseX, mouseY, 1);\n        mousePosition.unproject(self.ccamera);\n        var dir = mousePosition.sub(self.ccamera.position).clone();\n        mousePosition.normalize();\n        // Determine whether mouse is on minimap\n        self.isMouseCoordinatesOnMinimap =\n          coords.x <= self.minimap.width &&\n          self.height - coords.y <= self.minimap.height;\n        if (self.isMouseCoordinatesOnMinimap) {\n          self.minimap.mouseX = coords.x;\n          self.minimap.mouseY = coords.y;\n        }\n\n        // Determine intersects\n        var raycaster = new THREE.Raycaster(\n          self.ccamera.position,\n          mousePosition\n        );\n\n        // Find real location of mouse\n        var distance = -self.ccamera.position.z / dir.z;\n        var pos = self.ccamera.position\n          .clone()\n          .add(dir.multiplyScalar(distance));\n\n        if (callback == self.onRightClick && event.which != 3) {\n          return;\n        }\n\n        if (\n          callback == self.onRightClick &&\n          event.target.getAttribute(\"contenteditable\")\n        ) {\n          event.target.focus();\n        } else {\n          event.preventDefault();\n          if (callback == self.onRightClick) {\n            self.onRightClickCoords(event);\n          }\n          self.callMouseHandler(event, raycaster, pos, callback);\n        }\n      };\n    };\n\n    //Add listeners to web page\n    self.setupMouseHandlers(mouseHandler);\n  };\n\n  /**\n   * Checks if a node has been clicked, and calls the appropriate mouse handler function\n   */\n  self.callMouseHandler = function(event, raycaster, pos, callback) {\n    var intersects = raycaster.intersectObjects(self.nodes.children);\n    if (intersects.length) {\n      // If a node has been clicked\n      var nodeIndex = intersects[0].object.index;\n      self.oldIntersect = nodeIndex;\n      callback(\n        self.graph.getNode(nodeIndex),\n        pos.x,\n        pos.y,\n        event.button,\n        event.ctrlKey\n      );\n    } else {\n      callback(null, pos.x, pos.y, event.button, event.ctrlKey);\n    }\n  };\n\n  /**\n   * Add Mouse Event Listeners to page\n   */\n  self.setupMouseHandlers = function(mouseHandler) {\n    self.element.addEventListener(\n      \"mousemove\",\n      mouseHandler(self.onMouseMove),\n      false\n    );\n    self.element.addEventListener(\n      \"mousedown\",\n      mouseHandler(self.onMouseDown),\n      false\n    );\n    self.element.addEventListener(\n      \"mouseup\",\n      mouseHandler(self.onMouseUp),\n      false\n    );\n    self.element.addEventListener(\n      \"mouseup\",\n      mouseHandler(self.onRightClick),\n      false\n    );\n    self.element.addEventListener(\n      \"touchstart\",\n      mouseHandler(self.onMouseDown),\n      false\n    );\n    self.element.addEventListener(\n      \"touchmove\",\n      mouseHandler(self.onMouseMove),\n      false\n    );\n    self.element.addEventListener(\n      \"touchend\",\n      mouseHandler(self.onMouseUp),\n      false\n    );\n    self.element.addEventListener(\n      \"touchcancel\",\n      mouseHandler(self.onMouseUp),\n      false\n    );\n  };\n};\n","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\nvar $ = require(\"jquery\");\n\nmodule.exports = function(self) {\n  self.addNode = function(node) {\n    self.graph.addNode(node.id, node.data);\n    var graphNode = self.graph.getNode(node.id);\n    graphNode.x = node.x;\n    graphNode.y = node.y;\n    graphNode.fx = node.fx;\n    graphNode.fy = node.fy;\n    graphNode.pinnedx = node.fx != undefined;\n    graphNode.pinnedy = node.fy != undefined;\n    self.prepNode(graphNode);\n    self.drawNode(graphNode);\n    graphNode.links = [];\n    self.layoutInit = true;\n    return graphNode;\n  };\n\n  self.removeNode = function(node) {\n    if (!node || !node.id) {\n      return;\n    }\n    self.removeGraphEdges(node);\n    self.undrawEdges(node);\n    self.nodes.remove(node.renderData.draw_object);\n    self.graph.removeNode(node.id);\n    self.undrawNode(node);\n    self.nodeCount -= 1;\n  };\n\n  self.removeGraphEdges = function(node) {\n    var nodeLinks = self.graph.getLinks(node.id);\n    if (nodeLinks) {\n      nodeLinks.forEach(function(edge) {\n        self.graph.removeLink(edge);\n      });\n    }\n  };\n\n  self.undrawNode = function(node) {\n    var nodes = self.force.nodes();\n    if (nodes) {\n      for (var i = 0; i < nodes.length; i++) {\n        if (nodes[i].id == node.id) {\n          self.scene.remove(nodes[i].renderData.draw_object);\n          nodes[i].renderData.textHolder.children[0].element.hidden = true;\n          nodes.splice(i, 1);\n        }\n      }\n    }\n  };\n\n  self.undrawEdges = function(node) {\n    var positions = self.edges.attributes.position.array;\n    var colors = self.edges.attributes.color.array;\n    var killed = 0;\n    for (var i = 0; i - killed < self.lineIndices.length; i++) {\n      if (\n        self.lineIndices[i - killed].source.id == node.id ||\n        self.lineIndices[i - killed].target.id == node.id\n      ) {\n        for (var j = i - killed; j < self.lineIndices.length; j++) {\n          var k = j + 1;\n          if (k == self.lineIndices.length) {\n            positions[j * 6] = 0;\n            positions[j * 6 + 1] = 0;\n            positions[j * 6 + 3] = 0;\n            positions[j * 6 + 4] = 0;\n            colors[j * 6] = 255;\n            colors[j * 6 + 1] = 160;\n            colors[j * 6 + 2] = 80;\n            colors[j * 6 + 3] = 255;\n            colors[j * 6 + 4] = 160;\n            colors[j * 6 + 5] = 80;\n          } else {\n            self.lineIndices[j] = self.lineIndices[k];\n            self.lineObjects[j * 2] = self.lineObjects[k * 2];\n            self.lineObjects[j * 2 + 1] = self.lineObjects[k * 2 + 1];\n            positions[j * 6] = positions[k * 6];\n            positions[j * 6 + 1] = positions[k * 6 + 1];\n            positions[j * 6 + 3] = positions[k * 6 + 3];\n            positions[j * 6 + 4] = positions[k * 6 + 4];\n            colors[j * 6] = colors[k * 6];\n            colors[j * 6 + 1] = colors[k * 6 + 1];\n            colors[j * 6 + 2] = colors[k * 6 + 2];\n            colors[j * 6 + 3] = colors[k * 6 + 3];\n            colors[j * 6 + 4] = colors[k * 6 + 4];\n            colors[j * 6 + 5] = colors[k * 6 + 5];\n          }\n        }\n        self.lineIndices.pop();\n        self.lineObjects.pop();\n        self.lineObjects.pop();\n        self.drawCount -= 2;\n        killed += 1;\n      }\n    }\n    console.log(\"Deleted \" + killed.toString() + \" edges\");\n  };\n\n  self.getNode = function(node_id) {\n    return self.graph.getNode(node_id);\n  };\n\n  self.addEdge = function(source, target, visible = true) {\n    self.graph.addLink(source.id, target.id);\n    self.drawEdge(self.getNode(source.id), self.getNode(target.id), visible);\n  };\n};\n","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar d3 = def.d3;\nvar ee = def.ee;\n\nmodule.exports = function(self) {\n  /**\n   *  Change color of node edges\n   */\n  self.highlightNode = function(node, toggle, color = def.NODE_HIGHLIGHT) {\n    if (toggle) {\n      node.renderData.draw_object.children[0].material.color.setHex(color);\n      node.renderData.draw_object.children[0].visible = true;\n    } else {\n      node.renderData.draw_object.children[0].material.color.set(\n        node.renderData.hcolor\n      );\n      node.renderData.draw_object.children[0].visible = false;\n    }\n  };\n\n  /**\n   *  Highlight edges from and to a node and hide others\n   */\n  self.highlightEdges = function(node, toggle) {\n    const froms = [];\n    const tos = [];\n    for (var i = 0; i < self.selection.length; i++) {\n      for (var j = 0; j < self.selection[i].links.length; j++) {\n        froms.push(self.selection[i].links[j].fromId);\n        tos.push(self.selection[i].links[j].toId);\n      }\n    }\n    if (toggle) {\n      for (var i = 0; i < node.links.length; i++) {\n        froms.push(node.links[i].fromId);\n        tos.push(node.links[i].toId);\n      }\n      self.highlightNeighbors(node, froms, tos);\n    } else {\n      self.highlightNeighbors(node, froms, tos);\n    }\n  };\n\n  /**\n   * Highlight adjacent nodes\n   * \n   * Also highlights edges.\n   */\n  self.highlightNeighbors = function(node, froms, tos) {\n    self.graph.forEachNode(n => {\n      if (self.selection.indexOf(n) != -1 || n == node) {\n        // If the node is selected or the node is the node to be highlighted\n        self.colorNodeOpacity(n, 1);\n        self.colorNodeEdge(n, true);\n        for (var i = 0; n.linkObjs && i < n.linkObjs.length; i++) {\n          n.linkObjs[i].linecolor = n.renderData.linecolor;\n        }\n      } else if (\n        self.doHighlightNeighbors &&\n        (froms.indexOf(n.id) != -1 || tos.indexOf(n.id) != -1)\n      ) {\n        // If the node is not selected or highlighted and\n        // if the node is present in either froms or tos arrays\n        self.colorNodeOpacity(n, 1);\n        self.colorNodeEdge(n, false);\n      } else if (\n        !self.prevHighlights ||\n        self.prevHighlights.indexOf(n.id) == -1\n      ) {\n        self.colorNodeOpacity(n, 0.5);\n        self.colorNodeEdge(n, false);\n        self.highlightNode(n, false, def.ADJACENT_HIGHLIGHT);\n      }\n    });\n  };\n\n  /**\n   *  Change color of node edges\n   */\n  self.colorNodeEdge = function(node, isHighlighted) {\n    let red = new THREE.Color(appState.graph.edges.color).r;\n    let blue = new THREE.Color(appState.graph.edges.color).g;\n    let green = new THREE.Color(appState.graph.edges.color).b;\n    if(isHighlighted) {\n      node.renderData.linecolor.r = red;\n      node.renderData.linecolor.g = blue;\n      node.renderData.linecolor.b = green;\n      self.arrow.material.color.setRGB(red, blue, green);\n    } else {\n      node.renderData.linecolor.r =  self.darkMode ? 0.25 : .75;\n      node.renderData.linecolor.g = self.darkMode ? 0.25 : .75;\n      node.renderData.linecolor.b = self.darkMode ? 0.25 : .75;\n    }\n    \n  };\n\n  /**\n   *  Change node opacity\n   */\n  self.colorNodeOpacity = function(node, op) {\n    node.renderData.draw_object.material.opacity = op;\n  };\n};\n","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\nvar $ = require(\"jquery\");\nconst { default: appState } = require(\"../../stores\");\n\nmodule.exports = function (self) {\n  \n\n\n  /**\n   * Mouse move event that selections nodes in selection box\n   */\n  self.onMouseMove = function (selection, mouseX, mouseY, button, ctrl) {  \n    // check if left button is not down\n    self.mouseX = mouseX;\n    self.mouseY = mouseY;\n    if (self.leftMouseDown && self.mouseDown) {\n      \n      // left-clicked empty space (i.e., not clicking a node)\n      if (!self.dragging && self.selection.indexOf(selection) == -1 && !ctrl) {\n        self.clearSelection();\n      }\n\n\n      if (!self.dragging) {\n        // add nodes enclosed by selection box into node selection\n        self.checkSelection(mouseX, mouseY);\n      }\n    }\n\n    \n\n\n    if (self.selection.length > 0) {\n      // reactivate (in D3's terminology: reheat) the force layout\n      if (self.dragging) {\n        self.force.alpha(1);\n      }\n      // update position of nodes in selection\n      self.updateSelection(mouseX, mouseY);\n    }\n\n    if (!self.mouseDown) {\n      self.onHover(selection);\n      self.mouseStart = new THREE.Vector3(mouseX, mouseY, 0);\n    } else {\n      // if mouse is in minimap, do nothing else\n      if (self.isMouseCoordinatesOnMinimap && self.mapShowing) {\n        self.minimap.panToMousePosition(\n          self.minimap.mouseX,\n          self.minimap.mouseY\n        );\n        return;\n      }\n\n\n\n      // update selection box size/position\n      if (self.leftMouseDown && !self.dragging) {\n        if (self.showBox) {\n          self.selectBox.visible = true;\n          self.showBox = false;\n        }\n        self.selectBox.position.x = mouseX;\n        self.selectBox.position.y = mouseY;\n        var diffx = self.mouseStart.x - mouseX;\n        var diffy = self.mouseStart.y - mouseY;\n        self.selectBox.scale.set(diffx, diffy, 1);\n      } else {\n        self.selectBox.visible = false;\n      }\n    }\n  };\n\n  /**\n   * Mouse hover over node event that highlights the node and neighbors at mouse position\n   */\n  self.onHover = function (node) {\n    if (self.lastHover && self.selection.indexOf(self.lastHover) == -1) {\n      self.highlightNode(self.lastHover, false);\n      self.lastHover.renderData.textHolder.children[0].element.hideme = true;\n      self.highlightEdges(node, false);\n    }\n    self.lastHover = node;\n    if (node) {\n      self.highlightNode(node, true);\n      node.renderData.textHolder.children[0].element.hideme = false;\n      self.highlightEdges(node, true);\n      //set currently hovered node\n      appState.graph.currentlyHovered = node;\n    } else if (self.selection.length == 0) {\n      self.graph.forEachNode(n => {\n        self.colorNodeOpacity(n, 1);\n        self.colorNodeEdge(n, 0.5, 0.5);\n        self.highlightNode(n, false, def.ADJACENT_HIGHLIGHT);\n      });\n    }\n    if (self.prevHighlights != undefined) {\n      for (var i = 0; i < self.prevHighlights.length; i++) {\n        self.colorNodeOpacity(self.prevHighlights[i], 1);\n        self.highlightNode(self.prevHighlights[i], true, def.SEARCH_HIGHLIGHT);\n      }\n    }\n  };\n  \n\n\n\n\n  // vars to get time at mouse press and time at mouse release\n  var startTime = 0;\n  var endTime = 0;\n  /**\n   * Mouse down event to start a selection box or start dragging a node\n   */\n  self.onMouseDown = function (selection, mouseX, mouseY, button, ctrl) {\n    // if mouse is in minimap, do nothing else\n    if (self.isMouseCoordinatesOnMinimap && self.mapShowing) {\n      self.mouseDown = true;\n      self.minimap.panToMousePosition(self.minimap.mouseX, self.minimap.mouseY);\n      return;\n    }\n\n    \n\n    self.leftMouseDown = true;\n    if (self.leftMouseDown) {\n      self.mouseDown = true;\n      self.mouseStart = new THREE.Vector3(mouseX, mouseY, 0);\n      if (button == 0 && !self.dragging) {\n        self.showBox = true;\n      }\n      if (self.selection.indexOf(selection) == -1 && !ctrl) {\n        for (var i = 0; i < self.selection.length; i++) {\n          self.selection[i].renderData.isSelected = false;\n          if (!def.NODE_NO_HIGHLIGHT) {\n            self.selection[\n              i\n            ].renderData.draw_object.children[0].visible = false;\n          } else {\n            self.selection[i].renderData.draw_object.material.color.set(\n              new THREE.Color(self.selection[i].renderData.color)\n            );\n          }\n          self.selection[\n            i\n          ].renderData.textHolder.children[0].element.hideme = true;\n        }\n        self.selection = [];\n      }\n\n\n      if(selection) {\n        //when any node is clicked, un-smartpause if smartpaused\n        //appState.graph.smartPause.lastUnpaused = Date.now(); //old code using lastUnpaused\n        appState.graph.smartPause.interactingWithGraph = true;\n      }\n\n\n      //captures click times to measure time distance between clicks\n      oldStartTime = startTime;\n      startTime = Date.now();\n\n      //keeps track of time difference\n      clickDifference = startTime - oldStartTime;\n\n      //sets whether or not last click was \n      //double click or not\n      if (clickDifference < 225) {\n        self.doubleClicked = true;\n      } else {\n        self.doubleClicked = false;\n      }\n\n      \n\n      //selects single node when dragged\n      if (selection) {\n        self.dragging = selection;\n        if (self.selection.indexOf(selection) == -1) {\n          self.selection.push(selection);\n          selection.renderData.isSelected = false;\n        }\n      }\n\n      if (selection) {\n        self.dragging = selection;\n        //only pins node if double-clicked\n        if (self.doubleClicked) {\n          //passing in 'selection' node to pass information for node to pin\n          self.updateSelection(self.dragging.x, self.dragging.y, selection);\n        } else if (ctrl) {\n          self.selection.splice(self.selection.indexOf(selection), 1);\n          selection.renderData.isSelected = false;\n          if (!def.NODE_NO_HIGHLIGHT) {\n            selection.renderData.draw_object.children[0].visible = false;\n          } else {\n            selection.renderData.draw_object.material.color.set(\n              new THREE.Color(self.selection[i].renderData.color)\n            );\n          }\n          selection.renderData.textHolder.children[0].element.hideme = true;\n          self.dragging = null;\n        }\n      } else {\n        if (self.newNodeIds) {\n          self.highlightNodeIds([], true);\n          self.newNodeIds = undefined;\n        }\n      }\n    }\n  };\n\n  /**\n   * Mouse up event that closes selection flags and emits selection to Argo\n   */\n  self.onMouseUp = function (selection, mouseX, mouseY, button) {\n    endTime = Date.now();\n    self.mouseDown = false;\n\n    //when not clicking, nodes aren't being interacted with\n    appState.graph.smartPause.interactingWithGraph = false;\n\n    // Left or right mouse button\n    if (true) {\n      self.showBox = false;\n      self.dragging = null;\n      self.selectBox.visible = false;\n\n      self.ee.emit(\"select-nodes\", self.selection);\n    }\n\n  };\n\n\n\n  /**\n   * Right click event to save right clicked node\n   */\n  self.onRightClick = function (selection) {\n    if (selection) {\n      self.rightClickedNode = selection;\n    } else {\n      self.rightClickedNode = null;\n    }\n  };\n\n  /**\n   * Right click event that emits context menu event to Argo\n   */\n  self.onRightClickCoords = function (event) {\n    // Don't show menu if dragging camera\n    if (endTime - startTime < 200) {\n      self.ee.emit(\"right-click\", {\n        pageX: event.pageX,\n        pageY: event.pageY\n      });\n    }\n  };\n};","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\n\nmodule.exports = function(self) {\n  /**\n   * Set all nodes to a size\n   */\n  self.setUniformNodeSize = function(s) {\n    self.graph.forEachNode(function(node) {\n      node.renderData.draw_object.scale.set(s, s, 1);\n      var hsize = 1 + def.HIGHLIGHT_SIZE / s;\n      node.renderData.draw_object.children[0].scale.set(hsize, hsize, 1);\n    });\n  };\n\n  /**\n   * Set all nodes to a size based on a value in the node's data\n   */\n  self.setNodeDataSize = function(dataValue) {\n    self.graph.forEachNode(function(node) {\n      dataVal = node.renderData[dataValue];\n      if (!dataVal) {\n        console.log(\"Data value does not exist\");\n      } else {\n        dataVal = Math.log(dataVal + 1);\n        node.renderData.draw_object.scale.set(dataVal, dataVal, 1);\n        var hsize = 1 + def.HIGHLIGHT_SIZE / dataVal;\n        node.renderData.draw_object.children[0].scale.set(hsize, hsize, 1);\n      }\n    });\n  };\n\n  /**\n   * Set all nodes to a color\n   */\n  self.setUniformNodeColor = function(hsvDegree) {\n    self.graph.forEachNode(function(node) {\n      node.renderData.draw_object.material.color.set(\n        new THREE.Color(\"hsl(\" + hsvDegree + \", 100%, 43%)\")\n      );\n      if (!def.NODE_NO_HIGHLIGHT) {\n        node.renderData.draw_object.children[0].material.color.set(\n          new THREE.Color(\"hsl(\" + hsvDegree + \", 100%, 63%)\")\n        );\n      }\n    });\n  };\n\n  /**\n   * Set all nodes to a color based on a value in the node's data\n   */\n  self.setNodeDataColor = function(dataValue) {\n    var i = 0;\n    values = [];\n    min = null;\n    max = null;\n\n    self.graph.forEachNode(function(node) {\n      if ((dataVal = node.renderData[dataValue])) {\n        if (min == null) min = dataVal;\n        if (max == null) max = dataVal;\n        if (dataVal < min) min = dataVal;\n        else if (dataVal > max) max = dataVal;\n        values[i] = dataVal;\n        i += 1;\n      } else {\n        values[i] = -1;\n      }\n    });\n\n    i = 0;\n    self.graph.forEachNode(function(node) {\n      var hsvDegree;\n      if (values[i] == -1) {\n        hsvDegree = 0;\n      } else {\n        values[i] = (values[i] - min) / (max - min);\n        hsvDegree = values[i] * 120;\n      }\n      node.renderData.draw_object.material.color.set(\n        new THREE.Color(\"hsl(\" + hsvDegree + \", 100%, 48%)\")\n      );\n      if (!def.NODE_NO_HIGHLIGHT) {\n        node.renderData.draw_object.children[0].material.color.set(\n          new THREE.Color(\"hsl(\" + hsvDegree + \", 100%, 63%)\")\n        );\n      }\n      i++;\n    });\n  };\n\n  /**\n   * Map a node attribute based on some mapping function\n   */\n  self.mapNodeAttributes = function(mapping, nodes = null) {\n    let val;\n    if (mapping[0] == \"degree\") {\n      val = node => (node.links ? node.links.length + 2 : 2);\n    } else if (mapping[0] == \"scalex\") {\n      val = node => node.renderData.draw_object.scale.x;\n    } else {\n      val = node => mapping[0];\n    }\n\n    let mod;\n    if (mapping[1] == \"volume\") {\n      mod = val => self.volToRadius(val);\n    } else if (mapping[1] == \"mult\") {\n      mod = val => val * mapping[3](val);\n    } else if (mapping[1] == \"add\") {\n      mod = val => val + mapping[3](val);\n    } else if (mapping[1] == \"log\") {\n      mod = val => Math.log(val);\n    } else {\n      mod = val => val;\n    }\n\n    let attr;\n    if (mapping[2] == \"scalexy\") {\n      attr = (node, val) => {\n        node.renderData.draw_object.scale.set(val, val, 1);\n        var hsize = 1 + def.HIGHLIGHT_SIZE / val;\n        node.renderData.draw_object.children[0].scale.set(hsize, hsize, 1);\n      };\n    } else if (mapping[2] == \"edgeColorRed\") {\n      attr = (node, val) => {\n        node.renderData.linecolor.r = 1;\n        node.renderData.linecolor.b = 1 - val / 5;\n        node.renderData.linecolor.g = 1 - val / 5;\n      };\n    } else if (mapping[2] == \"edgeColorBlue\") {\n      attr = (node, val) => {\n        node.renderData.linecolor.b = 1;\n        node.renderData.linecolor.r = 1 - val / 5;\n        node.renderData.linecolor.g = 1 - val / 5;\n      };\n    } else if (mapping[2] == \"edgeColorGreen\") {\n      attr = (node, val) => {\n        node.renderData.linecolor.g = 1;\n        node.renderData.linecolor.b = 1 - val / 5;\n        node.renderData.linecolor.r = 1 - val / 5;\n      };\n    } else if (mapping[2] == \"nodeColorBlue\") {\n      attr = (node, val) => {\n        node.renderData.draw_object.material.color.b = 1;\n        node.renderData.draw_object.material.color.r = 1 - val / 5;\n        node.renderData.draw_object.material.color.g = 1 - val / 5;\n      };\n    } else if (mapping[2] == \"pinned\") {\n      attr = (node, val) => {\n        node.pinnedx = val;\n        node.pinnedy = val;\n      };\n    } else if (mapping[2] == \"labelSize\") {\n      attr = (node, val) => {\n        self.changeLabelFontSize(node, val);\n      };\n    } else if (mapping[2] == \"labelLength\") {\n      attr = (node, val) => {\n        self.changeLabelLength(node, val);\n      };\n    }\n\n    self.changeNodes(val, mod, attr, nodes);\n  };\n\n  /**\n   *  get attribute from node using function val\n   *  modify result with function mode\n   *  set node attribute with attr\n   */\n  self.changeNode = function(val, mod, attr, node) {\n    var v = val(node);\n    if (v != undefined) {\n      var r = mod(v);\n      if (r != undefined) {\n        attr(node, r);\n      }\n    }\n  };\n\n  /**\n   *  perform changeNode on many nodes\n   */\n  self.changeNodes = function(val, mod, attr, nodes = null) {\n    if (nodes == null) {\n      self.graph.forEachNode(function(node) {\n        self.changeNode(val, mod, attr, node);\n      });\n    } else {\n      for (var i = 0; i < nodes.length; i++) {\n        self.changeNode(val, mod, attr, nodes[i]);\n      }\n    }\n  };\n\n  /**\n   * Limit label size by (estimated) characters\n   * This is only accurate if the label is monospaced\n   */\n  self.changeLabelLength = function(node, numChars) {\n    node.renderData.textHolder.children[0].element.children[0].style.width =\n      numChars.toString() + \"ch\";\n  };\n\n  /**\n   * Limit label size by (estimated) characters\n   * This is only accurate if the label is monospaced\n   */\n  self.changeLabelFontSize = function(node, size, relativeSize = 1) {\n    size = size * relativeSize;\n    node.renderData.textHolder.children[0].element.children[0].style.fontSize =\n      size.toString() + \"rem\";\n  };\n\n  /**\n   * Change boundary size\n   */\n  self.setBoundarySize = function(size) {\n    self.renderWidth = size;\n    self.renderHeight = size;\n    self.boundaries.scale.set(size * 2, size * 2, 1);\n    self.boundaries.position.x = -size;\n    self.boundaries.position.y = -size;\n    self.controls.maxDistance = size * 2;\n    self.minimap.camera.position.z = self.renderWidth * 2;\n  };\n\n  /**\n   * Change viewport size\n   */\n  self.setViewPortSize = function(camera) {\n    var distance = self.ccamera.position.z;\n    var height =\n      Math.tan(((camera.fov * Math.PI) / 180) * 0.5) * distance * 2 + 5;\n    var width = height * camera.aspect + 5;\n    self.viewPort.scale.set(width, height, 1);\n    self.viewPort.position.x = camera.position.x - width / 2;\n    self.viewPort.position.y = camera.position.y - height / 2;\n  };\n};\n","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\n\n\nmodule.exports = function(self) {\n  /**\n   *  Create highlight mesh\n   */\n  self.createHighlightMesh = function(node, texture) {\n    var shape =\n      node.renderData.hshape || node.renderData.shape || def.NODE_HSHAPE;\n    if (shape == \"square\") {\n      var hgeometry = self.make2x2Rect();\n    } else {\n      var hgeometry = new THREE.CircleGeometry(1, 32);\n    }\n\n    return self.createHighlightDrawObject(hgeometry, node, texture);\n  };\n\n  /**\n   * Sets the material, color, visibility, and size of the highlight drawing for a node.\n   */\n  self.createHighlightDrawObject = function(hgeometry, node, texture) {\n    var size = self.getNodeSize(node);\n    var hsize = def.HIGHLIGHT_SIZE;\n\n    texture = def.NODE_NO_HTEX ? null : texture;\n    var color = def.NODE_NO_HCOLOR\n      ? null\n      : parseInt(node.renderData.hcolor || def.NODE_HIGHLIGHT);\n    var hmaterial = new THREE.MeshBasicMaterial({ color: color, map: texture });\n    hmaterial.transparent = true;\n    var highlight = new THREE.Mesh(hgeometry, hmaterial);\n    highlight.visible = true;\n    highlight.scale.set(1 + hsize / size, 1 + hsize / size, 1);\n    highlight.position.z = -0.01;\n    return highlight;\n  };\n\n  /**\n   *  Create node mesh\n   */\n  self.createNodeMesh = function(node, texture) {\n    var shape = node.renderData.shape || def.NODE_SHAPE;\n    if (shape == \"square\") {\n      var geometry = self.make2x2Rect();\n    } else {\n      var geometry = new THREE.CircleGeometry(1, 32);\n    }\n    return self.createNodeDrawObject(geometry, node, texture);\n  };\n\n  /**\n   * Create mesh to visual show pinning\n   */\n  self.createPinMesh = function(size) {\n    var geometry = self.make2x2Rect();\n    var color = new THREE.Color(def.PIN_COLOR);\n    var material = new THREE.MeshBasicMaterial({ color: color });\n    var pinMesh = new THREE.Mesh(geometry, material);\n    pinMesh.scale.set(0.1, 0.1, 1);\n    pinMesh.position.z = 0.01;\n    pinMesh.visible = false;\n    return pinMesh;\n  };\n\n  /**\n   * Create the drawing information for a node\n   */\n  self.createNodeDrawObject = function(geometry, node, texture) {\n    var size = self.getNodeSize(node);\n\n    texture = def.NODE_NO_TEX ? null : texture;\n    var color = def.NODE_NO_COLOR\n      ? null\n      : new THREE.Color(node.renderData.color || def.NODE_COLOR);\n    var material = new THREE.MeshBasicMaterial({ color: color, map: texture });\n    material.transparent = true;\n    var draw_object = new THREE.Mesh(geometry, material);\n    draw_object.scale.set(size, size, 1);\n    return draw_object;\n  };\n\n  /**\n   * Get the size of a node if it exists, otherwise get it from the render data.\n   */\n  self.getNodeSize = function(node) {\n    var size;\n    if (node.renderData.size != undefined) size = node.renderData.size;\n    else size = node.renderData[\"size\"];\n    return size;\n  };\n\n  self.createNodeLabel = function(node) {\n    var material = new THREE.MeshBasicMaterial({\n      color: 0x000000,\n      wireframe: true,\n      wireframeLinewidth: 1,\n      side: THREE.DoubleSide\n    });\n    var geometry = new THREE.PlaneGeometry(1000, 200);\n    var textMesh = self.createAndSetupLabelTextMesh(geometry, material);\n    var label = self.createAndSetupLabelDiv(node, textMesh);\n    var textHolder = self.createAndSetupTextHolder(label, textMesh);\n    node.renderData.textHolder = textHolder;\n    self.scene.add(textHolder);\n  };\n\n  self.createAndSetupLabelTextMesh = function(geometry, material) {\n    var textMesh = new THREE.Mesh(geometry, material);\n    textMesh.scale.set(def.TEXT_SIZE, def.TEXT_SIZE, 1);\n    var bbox = new THREE.Box3().setFromObject(textMesh);\n    textMesh.position.x += (bbox.max.x - bbox.min.x) * def.TEXT_X_OFFSET;\n    textMesh.position.y -= (bbox.max.y - bbox.min.y) * def.TEXT_Y_OFFSET;\n    textMesh.visible = def.TEXT_WIREFRAME;\n    return textMesh;\n  };\n\n  self.createAndSetupLabelDiv = function(node, textMesh) {\n    var label = self.createLabelDiv(node);\n    label.element.hidden = true;\n    label.position.copy(textMesh.position);\n    label.scale.copy(textMesh.scale);\n    return label;\n  };\n\n  self.createAndSetupTextHolder = function(label, textMesh) {\n    var textHolder = new THREE.Object3D();\n    textHolder.add(label);\n    textHolder.add(textMesh);\n    return textHolder;\n  };\n\n  /**\n   *  Create label div\n   */\n  self.createLabelDiv = function(node) {\n    // Create canvas to draw text label onto sprite image\n    var element = self.createLabelDivElement();\n    var content = document.createTextNode(node.renderData.label);\n    var textElement = self.createLabelTextElement();\n    textElement.appendChild(content);\n    element.appendChild(textElement);\n    var labelObj = new THREE.CSS3DObject(element);\n    return labelObj;\n  };\n\n  /**\n   * Creates the Label Div Element for a node's label\n   */\n  self.createLabelDivElement = function() {\n    var element = document.createElement(\"div\");\n    element.style.width = \"1000px\";\n    element.style.height = \"200px\";\n    element.style.backgroundColor = def.TEXT_BACK_COLOR;\n    element.style.opacity = def.TEXT_OPACITY;\n    return element;\n  };\n\n  /**\n   * Creates the text element to add to the label div for a node.\n   */\n  self.createLabelTextElement = function() {\n    var textElement = document.createElement(\"div\");\n    textElement.style.width = \"1000px\";\n    textElement.style.height = \"2ch\";\n    textElement.style.fontSize = \"96px\";\n    textElement.style.textOverflow = \"ellipsis\";\n    textElement.style.overflow = \"hidden\";\n    textElement.style.userSelect = \"all\";\n    textElement.style.whiteSpace = \"nowrap\";\n    //textElement.setAttribute('contenteditable', 'true');\n    return textElement;\n  };\n\n  /**\n   * Instantiates, sets highlight for, and sets position for the actual THREE\n   * drawing of a node\n   */\n  self.setupNodeDrawObject = function(node, htexture, texture) {\n    var draw_object = self.createNodeMesh(node, texture);\n\n    // Create highlight\n    if (!def.NODE_NO_HIGHLIGHT) {\n      var highlight = self.createHighlightMesh(node, htexture);\n      draw_object.add(highlight);\n    }\n\n    var pinMesh = self.createPinMesh();\n    draw_object.add(pinMesh);\n\n    draw_object.position.x = node.renderData.x;\n    draw_object.position.y = node.renderData.y;\n    draw_object.index = node.id;\n    draw_object.name = node.id;\n    node.renderData.draw_object = draw_object;\n\n    return draw_object;\n  };\n\n  /**\n   *  Create a node object and add it to the scene.\n   */\n  self.drawNode = function(node) {\n    function onHTextureLoad(node, htexture) {\n      // Load node texture\n      self.textureLoader.load(\n        node.renderData.image || def.NODE_TEXTURE,\n        onTextureLoad.bind(null, node, htexture)\n      );\n    }\n\n    function onTextureLoad(node, htexture, texture) {\n      // Create mesh for node\n      var draw_object = self.setupNodeDrawObject(node, htexture, texture);\n\n      // Create div for label\n      self.createNodeLabel(node);\n\n      self.nodeCount += 1;\n      self.nodes.add(draw_object);\n    }\n\n    if (def.NODE_NO_HTEX && def.NODE_NO_TEX) {\n      onTextureLoad(node, null, null);\n    } else {\n      // Load highlight texture\n      self.textureLoader.load(\n        node.renderData.himage || def.NODE_HTEXTURE,\n        onHTextureLoad.bind(null, node)\n      );\n    }\n  };\n\n  /**\n   *  Create an edge and add it to the lineSegments.\n   */\n  self.drawEdge = function(source, target, visible = true) {\n    if (\n      source.renderData.draw_object === undefined ||\n      target.renderData.draw_object === undefined\n    ) {\n      setTimeout(self.drawEdge.bind(null, source, target), 50);\n      return;\n    }\n    var index = self.drawCount * 3;\n    self.lineObjects[index / 3] = source;\n    self.lineObjects[index / 3 + 1] = target;\n    if (!source.linkObjs) {\n      source.linkObjs = [];\n    }\n    if (!target.linkObjs) {\n      target.linkObjs = [];\n    }\n\n    self.lineIndices.push({\n      source: source,\n      target: target,\n      hide: !visible,\n      linecolor: source.renderData.linecolor, \n    });\n\n    source.linkObjs.push(self.lineIndices[index / 6]);\n    target.linkObjs.push(self.lineIndices[index / 6]);\n    self.updateColorsAndPositions(source, target, index);\n    self.drawCount += 2;\n  };\n\n  /**\n   * Update the colors and positions of the edges between source and target\n   */\n  self.updateColorsAndPositions = function(source, target, index) {\n    var positions = self.edges.attributes.position.array;\n    var colors = self.edges.attributes.color.array;\n\n    var v1pos = source.renderData.draw_object.position;\n    var v2pos = target.renderData.draw_object.position;\n    var v1color = self.lineIndices[index / 6].linecolor;\n    var v2color = self.lineIndices[index / 6].linecolor;\n    colors[index] = v1color.b;\n    positions[index++] = v1pos.x;\n    colors[index] = v1color.g;\n    positions[index++] = v1pos.y;\n    colors[index] = v1color.r;\n    positions[index++] = v1pos.z - 0.02;\n    colors[index] = v2color.b;\n    positions[index++] = v2pos.x;\n    colors[index] = v2color.g;\n    positions[index++] = v2pos.y;\n    colors[index] = v2color.r;\n    positions[index++] = v2pos.z - 0.02;\n  };\n};\n","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\n\n/**\n * These functions are endpoints revealed to Argo frontend\n */\nmodule.exports = function(self) {\n  /**\n   * Set frame.mouseMode to the specified mode\n   * @param {string} mode name of the mode, currently supports ['select', 'move']\n   */\n  self.setMouseMode = mode => {\n    if (mode === \"select\") {\n      // This is the default mode, where users can select one or multiple nodes\n      self.mouseMode = \"select\";\n      self.isMouseModeMove = false;\n    } else if (mode === \"move\") {\n      // move mode, where user can drag the screen to achieve panning\n      self.mouseMode = \"move\";\n      self.isMouseModeMove = true;\n    }\n  };\n\n  self.pauseLayout = () => {\n    self.paused = true;\n  };\n  window.pause = self.pauseLayout;\n\n  self.resumeLayout = () => {\n    self.paused = false;\n  };\n\n  self.mapSelectedNodes = () => {\n    self.mapNodeAttributes([\"degree\", \"log\", \"scalexy\"], self.selection);\n  };\n\n  self.mapAllNodes = () => {\n    self.mapNodeAttributes([\"degree\", \"log\", \"scalexy\"]);\n  };\n\n  self.pinSelectedNodes = () => {\n    self.mapNodeAttributes([true, \"\", \"pinned\"], self.selection);\n  };\n\n  self.unpinSelectedNodes = () => {\n    self.mapNodeAttributes([false, \"\", \"pinned\"], self.selection);\n  };\n\n  self.setLabelFontSize = size => {\n    self.graph.forEachNode(function(node) {\n      self.changeLabelFontSize(node, size, self.relativeFontSize);\n    });\n  };\n\n  self.setLabelRelativeSize = size => {\n    self.relativeFontSize = size;\n    self.setLabelFontSize(self.labelSize);\n  };\n\n  self.setLabelLength = numChars => {\n    self.graph.forEachNode(function(node) {\n      self.changeLabelLength(node, numChars);\n    });\n  };\n\n  self.toggleMiniMap = () => {\n    if (self.mapShowing) {\n      self.hideMiniMap();\n    } else {\n      self.showMiniMap();\n    }\n  };\n\n  self.showMiniMap = () => {\n    if (self.mapShowing) {\n      return;\n    }\n    self.mapShowing = true;\n    self.element.appendChild(self.minimapRenderer.domElement);\n  };\n\n  self.hideMiniMap = () => {\n    if (!self.mapShowing) {\n      return;\n    }\n    self.mapShowing = false;\n    self.element.removeChild(self.minimapRenderer.domElement);\n  };\n\n  // The CSS Renderer for rendering labels is the most expensive\n  // renderer. For 300+ nodes it's recommended to turn it off by\n  // default and only use it when no node is moving to prevent\n  // visible lagging (during layout, dragging etc.)\n  self.turnOffLabelCSSRenderer = () => {\n    if (self.cssRenderer.isPaused) {\n      return;\n    }\n    self.element.removeChild(self.cssRenderer.domElement);\n    self.cssRenderer.isPaused = true;\n  };\n\n  // See turnOffLabelCSSRenderer.\n  self.turnOnLabelCSSRenderer = () => {\n    if (!self.cssRenderer.isPaused) {\n      return;\n    }\n    self.element.appendChild(self.cssRenderer.domElement);\n    self.cssRenderer.isPaused = false;\n  };\n\n  // Emits id of every node with label being displayed at this moment.\n  // Used to keep mobx state in sync since GraphStore and snapshot\n  // needs to save what nodes have labels shown and what not.\n  // Also turns off label CSSRenderer when no node is showing label.\n  self.updateNodesShowingLabels = () => {\n    var nodes = [];\n    self.graph.forEachNode(n => {\n      var node = self.graph.getNode(n.id);\n      if (node.renderData.textHolder.children[0].element.override) {\n        nodes.push(n.id);\n      }\n    });\n\n    // Turns off label CSSRenderer when no node is showing label.\n    // This is because CSSRenderer is slow.\n    if (nodes.length == 0) {\n      self.turnOffLabelCSSRenderer();\n    } else if (!((self.selection.length > 0) && (self.dragging)) || (appState.graph.frame.paused)) { \n      //Only turns on when no node is moving\n      self.turnOnLabelCSSRenderer();\n    }\n\n    self.ee.emit(\"show-node-label\", nodes);\n  };\n\n  self.toggleSelectedLabels = () => {\n    self.toggleLabels(self.selection.map(n => n.id));\n  };\n\n  self.showSelectedLabels = () => {\n    document.getElementById(\"showSelected\").style.display=\"none\";\n    document.getElementById(\"hideSelected\").style.display=\"inline\";\n    self.showLabels(self.selection.map(n => n.id));\n  };\n\n  self.hideSelectedLabels = () => {\n    document.getElementById(\"hideSelected\").style.display=\"none\";\n    document.getElementById(\"showSelected\").style.display=\"inline\";\n    self.hideLabels(self.selection.map(n => n.id));\n  };\n\n  self.toggleLabels = nodeids => {\n    self.graph.forEachNode(n => {\n      if (nodeids.includes(n.id)) {\n        var node = self.graph.getNode(n.id);\n        if (\n          node.renderData.textHolder.children[0].element.override == undefined\n        ) {\n          node.renderData.textHolder.children[0].element.override = false;\n        }\n        node.renderData.textHolder.children[0].element.override = !node\n          .renderData.textHolder.children[0].element.override;\n      }\n    });\n    self.updateNodesShowingLabels();\n  };\n\n  self.showLabels = nodeids => {\n    self.graph.forEachNode(n => {\n      if (nodeids.includes(n.id)) {\n        var node = self.graph.getNode(n.id);\n        node.renderData.textHolder.children[0].element.override = true;\n      }\n    });\n    self.updateNodesShowingLabels();\n  };\n\n  self.hideLabels = nodeids => {\n    self.graph.forEachNode(n => {\n      if (nodeids.includes(n.id)) {\n        var node = self.graph.getNode(n.id);\n        node.renderData.textHolder.children[0].element.override = false;\n      }\n    });\n    self.updateNodesShowingLabels();\n  };\n\n  self.hideAllLabels = () => {\n    document.getElementById(\"hideAll\").style.display=\"none\";\n    document.getElementById(\"showAll\").style.display=\"inline\";\n    self.graph.forEachNode(function(node) {\n      var node = self.graph.getNode(node.id);\n      node.renderData.textHolder.children[0].element.override = false;\n    });\n    self.updateNodesShowingLabels();\n  };\n\n  self.showAllLabels = () => {\n    document.getElementById(\"showAll\").style.display=\"none\";\n    document.getElementById(\"hideAll\").style.display=\"inline\";\n    self.graph.forEachNode(function(node) {\n      var node = self.graph.getNode(node.id);\n      node.renderData.textHolder.children[0].element.override = true;\n    });\n    self.updateNodesShowingLabels();\n  };\n\n  self.setCanvasSize = function(size) {\n    self.setBoundarySize(size);\n  };\n\n  self.setAllNodesShape = function(shape) {\n    if (self.selection.length == 0) {\n      self.graph.forEachNode(function(node) {\n        self.setNodeShape(self.graph.getNode(node.id), shape);\n      });\n    } else {\n      self.selection.forEach(function(node) {\n        self.setNodeShape(self.graph.getNode(node.id), shape);\n      });\n    }\n  };\n\n  self.setAllNodesShapeWithOverride = function(shape, overrides) {\n    self.graph.forEachNode(function(node) {\n      if (overrides.has(node.id) && overrides.get(node.id).has('shape')) {\n        self.setNodeShape(self.graph.getNode(node.id), overrides.get(node.id).get('shape'));\n      } else {\n        self.setNodeShape(self.graph.getNode(node.id), shape);\n      }\n    });\n  }\n\n  self.setNodeShape = function(node, shape) {\n    if (shape == \"square\") {\n      node.renderData.shape = shape;\n      node.renderData.draw_object.geometry = self.make2x2Rect();\n      node.renderData.draw_object.children[0].geometry = self.make2x2Rect();\n    } else if (shape == \"circle\") {\n      node.renderData.shape = shape;\n      node.renderData.draw_object.geometry = new THREE.CircleGeometry(1, 32);\n      node.renderData.draw_object.children[0].geometry = new THREE.CircleGeometry(\n        1,\n        32\n      );\n    } else if (shape == \"triangle\") {\n      node.renderData.shape = shape;\n      node.renderData.draw_object.geometry = new THREE.CircleGeometry(1, 3);\n      node.renderData.draw_object.children[0].geometry = new THREE.CircleGeometry(\n        1,\n        3\n      );\n    } else if (shape == \"pentagon\") {\n      node.renderData.shape = shape;\n      node.renderData.draw_object.geometry = new THREE.CircleGeometry(1, 5);\n      node.renderData.draw_object.children[0].geometry = new THREE.CircleGeometry(\n        1,\n        5\n      );\n    } else if (shape == \"hexagon\") {\n      node.renderData.shape = shape;\n      node.renderData.draw_object.geometry = new THREE.CircleGeometry(1, 6);\n      node.renderData.draw_object.children[0].geometry = new THREE.CircleGeometry(\n        1,\n        6\n      );\n    } else if (shape == \"octagon\") {\n      node.renderData.shape = shape;\n      node.renderData.draw_object.geometry = new THREE.CircleGeometry(1, 8);\n      node.renderData.draw_object.children[0].geometry = new THREE.CircleGeometry(\n        1,\n        8\n      );\n    }\n  };\n\n  self.getNumSelected = function() {\n    if (self.selection.length == self.graph.getNodesCount()) {\n      return 0;\n    }\n    return self.selection.length;\n  };\n\n  self.toggleDark = function() {\n    self.darkMode = !self.darkMode;\n    self.updateViewPortEdgeColor();\n  };\n\n  self.updateViewPortEdgeColor = function() {\n    self.viewPort.material.color = new THREE.Color( self.darkMode? 0xffffff : 0x000000 );       \n  }\n\n  self.getGraph = function() {\n    return self.graph;\n  };\n\n  self.getNodeList = function() {\n    var nodes = [];\n    self.graph.forEachNode(function(node) {\n      nodes.push(node);\n    });\n    return nodes;\n  };\n\n  self.getPositions = function() {\n    var poses = {};\n    self.graph.forEachNode(function(node) {\n      poses[node.id] = [node.x, node.y];\n    });\n    return poses;\n  };\n\n  self.getPinPositions = function() {\n    var poses = {};\n    self.graph.forEachNode(function(node) {\n      poses[node.id] = [node.fx, node.fy];\n    });\n    return poses;\n  };\n\n  // retrieves current graph's pinned nodes \n  self.getPinnedNodes = function() {\n    var poses = new Set();\n    self.graph.forEachNode(function(node) {\n      if(node.pinnedx && node.pinnedy) {\n        poses.add(node.id);\n      }\n    });\n    return poses;\n  }\n\n  //pins nodes that were pinned from a graph loaded in\n  self.setPinnedNodes = function(nodesToPin) {\n    self.mapNodeAttributes([true, \"\", \"pinned\"], nodesToPin);\n  }\n\n  var alias = false;\n  self.toggleAlias = () => {\n    // TODO: recreate renderer with new antialias\n    // self.init(alias);\n    // self.display();\n    alias = !alias;\n  };\n\n  self.setLastNode = id => {\n    self.lastNode = self.graph.getNode(id);\n  };\n\n  self.dragLastNode = () => {\n    self.selectNode(self.lastNode);\n  };\n\n  var x = 1.0;\n  self.lowerRes = () => {\n    x -= 0.1;\n    self.renderer.setPixelRatio(x);\n    self.onWindowResize();\n  };\n\n  self.toggleNeighborHighlight = function() {\n    self.doHighlightNeighbors = !self.doHighlightNeighbors;\n  };\n\n  self.highlightNodeIds = function(nodeids, toggle) {\n    if (nodeids.length > 0 && Array.isArray(nodeids[0])) {\n      nodeids = nodeids[0];\n    }\n    if (self.prevHighlights) {\n      for (var i = 0; i < self.prevHighlights.length; i++) {\n        self.highlightNode(\n          self.prevHighlights[i],\n          !toggle,\n          def.SEARCH_HIGHLIGHT\n        );\n      }\n    }\n    self.prevHighlights = [];\n    self.graph.forEachNode(function(node) {\n      if (nodeids.indexOf(node.id) != -1) {\n        self.highlightNode(node, toggle, def.SEARCH_HIGHLIGHT);\n        self.prevHighlights.push(node);\n      }\n    });\n  };\n\n  self.removeSelected = function() {\n    for (var i = 0; i < self.selection.length; i++) {\n      self.removeNode(self.selection[i]);\n    }\n    self.selection = [];\n  };\n\n  self.removeNodesByIds = function(nodeids) {\n    for (var i = 0; i < nodeids.length; i++) {\n      const node = self.graph.getNode(nodeids[i]);\n      if (node) {\n        self.removeNode(node);\n      }\n    }\n    self.selection = [];\n  };\n\n  self.getSelected = function() {\n    return self.selection;\n  };\n\n  self.getSelectedIds = function() {\n    return self.selection.map(n => n.id);\n  };\n};","var def = require(\"./imports\").default;\nvar THREE = def.THREE;\nvar Edge = def.Edge;\nvar Node = def.Node;\nvar OrbitControls = def.OrbitControls;\nvar d3 = def.d3;\nvar ee = def.ee;\n\nmodule.exports = function(self) {\n  /**\n   *  Update the position and color of the edges\n   */\n  self.updateEdges = function() {\n    self.edges.setDrawRange(0, self.drawCount + 6);\n    var total = self.drawCount + 6;\n    var positions = self.edges.attributes.position.array;\n    var colors = self.edges.attributes.color.array;\n\n     //directed arrows\n     self.directedArrows.attributes.position.array = new Float32Array(self.MAX_LINES * 3);\n     var arrowPosition = self.directedArrows.attributes.position.array;\n     var arrowColor = self.directedArrows.attributes.color.array;\n\n    for (var i = 0; i < total; i += 2) {\n      if (self.lineIndices[i / 2]) {\n        if (self.lineIndices[i / 2].hide) {\n          var v1pos = self.lineObjects[i].renderData.draw_object.position;\n          var v2pos = self.lineObjects[i + 1].renderData.draw_object.position;\n          positions[i * 3] = v1pos.x;\n          positions[i * 3 + 1] = v1pos.y;\n          positions[i * 3 + 3] = v2pos.x;\n          positions[i * 3 + 4] = v2pos.y;\n          colors[i * 3] = 255;\n          colors[i * 3 + 1] = 255;\n          colors[i * 3 + 2] = 255;\n          colors[i * 3 + 3] = 255;\n          colors[i * 3 + 4] = 255;\n          colors[i * 3 + 5] = 255;\n        } else {\n          var v1pos = self.lineObjects[i].renderData.draw_object.position;\n          var v2pos = self.lineObjects[i + 1].renderData.draw_object.position;\n          var v1color = self.lineIndices[i / 2].linecolor;\n          var v2color = self.lineIndices[i / 2].linecolor;\n          positions[i * 3] = v1pos.x;\n          positions[i * 3 + 1] = v1pos.y;\n          positions[i * 3 + 3] = v2pos.x;\n          positions[i * 3 + 4] = v2pos.y;\n          colors[i * 3] = v1color.r;\n          colors[i * 3 + 1] = v1color.g;\n          colors[i * 3 + 2] = v1color.b;\n          colors[i * 3 + 3] = v2color.r;\n          colors[i * 3 + 4] = v2color.g;\n          colors[i * 3 + 5] = v2color.b;\n\n          //directed edges\n          if (appState.graph.directedOrNot) {\n            self.arrow.visible = true;\n            var midPointX = (v1pos.x + v2pos.x)/2;\n            var midPointY = (v1pos.y + v2pos.y)/2;\n\n            var dX = v2pos.x - v1pos.x;\n            var dY = v2pos.y - v1pos.y;\n\n            if (dX === 0) {\n              dX = 0.001;\n            }\n            var radianDegree = Math.atan(dY / dX);\n            // var tempXCorner = midPointX - Math.cos(radianDegree) * 0.866;\n            // var tempYCorner = midPointY - Math.sin(radianDegree) * 0.866;\n\n            // var degreeDifference = Math.PI/2 - radianDegree\n            arrowPosition[i / 2 * 9] = midPointX;\n            arrowPosition[i / 2 * 9 + 1] = midPointY;\n\n            if (dX >= 0) {\n              var tempXCorner = midPointX - Math.cos(radianDegree) * 0.866;\n              var tempYCorner = midPointY - Math.sin(radianDegree) * 0.866;\n              var degreeDifference = Math.PI/2 - radianDegree;\n              arrowPosition[i / 2 * 9 + 3] = tempXCorner - 0.5 * Math.cos(degreeDifference);\n              arrowPosition[i / 2 * 9 + 4] = tempYCorner + 0.5 * Math.sin(degreeDifference);\n              arrowPosition[i / 2 * 9 + 6] = tempXCorner + 0.5 * Math.cos(degreeDifference);\n              arrowPosition[i / 2 * 9 + 7] = tempYCorner - 0.5 * Math.sin(degreeDifference);\n\n            } else {\n              var tempXCorner = midPointX + Math.cos(radianDegree) * 0.866;\n              var tempYCorner = midPointY + Math.sin(radianDegree) * 0.866;\n              var degreeDifference = Math.PI/2 - radianDegree;\n              arrowPosition[i / 2 * 9 + 3] = tempXCorner + 0.5 * Math.cos(degreeDifference);\n              arrowPosition[i / 2 * 9 + 4] = tempYCorner - 0.5 * Math.sin(degreeDifference);\n              arrowPosition[i / 2 * 9 + 6] = tempXCorner - 0.5 * Math.cos(degreeDifference);\n              arrowPosition[i / 2 * 9 + 7] = tempYCorner + 0.5 * Math.sin(degreeDifference);\n            }\n          } else {\n            self.arrow.visible = false;\n          } \n        }\n      }\n    }\n    self.edges.attributes.position.needsUpdate = true;\n    self.edges.attributes.color.needsUpdate = true;\n\n    self.directedArrows.attributes.position.needsUpdate = true;\n    self.directedArrows.attributes.color.needsUpdate = true;\n  };\n\n  /**\n   *  Update the position of the labels\n   */\n  self.updateLabels = function() {\n    var nodes = self.force.nodes();\n    for (var i = 0; i < nodes.length; i++) {\n      let thisNode = self.graph.getNode(nodes[i].id);\n      if (thisNode.renderData.textHolder != undefined) {\n        if (\n          //thisNode.renderData.textHolder.children[0].element.hideme != false &&\n          !thisNode.renderData.textHolder.children[0].element.override\n        ) {\n          thisNode.renderData.textHolder.children[0].element.hidden = true;\n        } else {\n          thisNode.renderData.textHolder.children[0].element.hidden = false;\n        }\n      }\n      thisNode.renderData.textHolder.position.x =\n        thisNode.renderData.size + thisNode.renderData.draw_object.position.x;\n      thisNode.renderData.textHolder.position.y =\n        thisNode.renderData.draw_object.position.y;\n    }\n  };\n\n  /**\n   *  Update the position and color of the edges\n   */\n  self.updateNodes = function() {\n    if (self.options.layout == \"ngraph\") {\n      self.graph.forEachNode(function(node) {\n        if (node.renderData) {\n          node.renderData.draw_object.position.x = self.force.getNodePosition(\n            node.id\n          ).x;\n          node.renderData.draw_object.position.y = self.force.getNodePosition(\n            node.id\n          ).y;\n        }\n      });\n      if (!self.paused) {\n        self.force.step();\n      }\n    } else if (self.options.layout == \"d3\") {\n      var nodes = self.force.nodes();\n      for (var i = 0; i < nodes.length; i++) {\n        nodes[i].x = Math.max(\n          -self.renderWidth,\n          Math.min(self.renderWidth, nodes[i].x)\n        );\n        nodes[i].y = Math.max(\n          -self.renderHeight,\n          Math.min(self.renderHeight, nodes[i].y)\n        );\n        let thisNode = self.graph.getNode(nodes[i].id);\n        if (thisNode && thisNode.renderData.draw_object) {\n          if (!thisNode.pinnedx) {\n            thisNode.fx = null;\n            thisNode.renderData.draw_object.children[1].visible = false;\n          } else {\n            thisNode.fx = thisNode.x;\n            thisNode.renderData.draw_object.children[1].visible = true;\n          }\n          if (!thisNode.pinnedy) {\n            thisNode.fy = null;\n          } else {\n            thisNode.fy = thisNode.y;\n          }\n          thisNode.renderData.draw_object.position.x = nodes[i].x;\n          thisNode.renderData.draw_object.position.y = nodes[i].y;\n        }\n      }\n\n      if (!self.paused) {\n        self.force.tick();\n      }\n    }\n  };\n\n  /**\n   * Restrict camera translation\n   */\n  self.updateCamera = function() {\n    self.controls.target.x -=\n      self.controls.object.position.x -\n      Math.max(\n        -self.renderWidth,\n        Math.min(self.renderWidth, self.controls.object.position.x)\n      );\n    self.controls.object.position.x -=\n      self.controls.object.position.x -\n      Math.max(\n        -self.renderWidth,\n        Math.min(self.renderWidth, self.controls.object.position.x)\n      );\n    self.controls.target.y -=\n      self.controls.object.position.y -\n      Math.max(\n        -self.renderHeight,\n        Math.min(self.renderHeight, self.controls.object.position.y)\n      );\n    self.controls.object.position.y -=\n      self.controls.object.position.y -\n      Math.max(\n        -self.renderHeight,\n        Math.min(self.renderHeight, self.controls.object.position.y)\n      );\n    self.setViewPortSize(self.ccamera);\n  };\n\n  /**\n   * Given an ngraph, update the current ngraph and add or remove inconsistent nodes\n   */\n  self.updateGraph = function(graph) {\n    var numNodesAdded = 0;\n    graph.forEachNode(function(node) {\n      var oldNode = self.graph.getNode(node.id);\n      if (!oldNode) {\n        if (!self.newNodeIds) {\n          self.newNodeIds = [];\n        }\n        self.newNodeIds.push(node.id);\n        self.addNode(node);\n        numNodesAdded += 1;\n        self.lastNode = self.graph.getNode(node.id);\n      } else {\n        self.updateNode(oldNode, node);\n      }\n    });\n    graph.forEachLink(function(link) {\n      if (!self.graph.getLink(link.fromId, link.toId)) {\n        self.addEdge(\n          self.graph.getNode(link.fromId),\n          self.graph.getNode(link.toId)\n        );\n      }\n    });\n\n    self.graph.forEachNode(function(node) {\n      var oldNode = graph.getNode(node.id);\n      if (!oldNode) {\n        self.removeNode(node);\n      }\n    });\n\n    self.force.alpha(1);\n    self.force.stop();\n\n    if (numNodesAdded > 10) {\n      // This seems unnecessary for now\n      // self.tickToStatic = true;\n      self.tickToStatic = false;\n    } else {\n      self.tickToStatic = false;\n    }\n\n    if (self.newNodeIds) {\n      // Highlight every new node.\n      self.highlightNodeIds(self.newNodeIds, true);\n\n      // Select every new node if there aren't too many of them.\n      if (self.newNodeIds.length < 10) {\n        for (let i = 0; i < self.newNodeIds.length; i++) {\n          self.selection.push(self.graph.getNode(self.newNodeIds[i]));\n        }\n        self.ee.emit(\"select-nodes\", self.selection);\n      }\n    }\n  };\n\n  /**\n   * update positions in the ngraph given a list of positions\n   */\n  self.updatePositions = function(positions) {\n    self.graph.forEachNode(function(node) {\n      var pos = positions[node.id];\n      if (pos) {\n        node.x = pos[0];\n        node.y = pos[1];\n        if (node.pinnedx) {\n          node.fx = pos[0];\n        }\n        if (node.pinnedy) {\n          node.fy = pos[1];\n        }\n      }\n    });\n  };\n\n  /**\n   * Update a node given a new node\n   */\n  self.updateNode = function(node, newNode) {\n    if (newNode.data) {\n      if (node.data.color && newNode.data.color) {\n        node.data.color = newNode.data.color;\n        node.renderData.color = node.data.color;\n        node.renderData.draw_object.material.color.set(\n          new THREE.Color(node.data.color)\n        );\n      }\n      if (newNode.data.size && newNode.data.size > 0) {\n        node.data.size = newNode.data.size;\n        node.renderData.size = newNode.data.size;\n        node.renderData.draw_object.scale.set(\n          newNode.data.size,\n          newNode.data.size,\n          1\n        );\n        var hsize = 1 + def.HIGHLIGHT_SIZE / newNode.data.size;\n        node.renderData.draw_object.children[0].scale.set(hsize, hsize, 1);\n      }\n      if (newNode.data.label) {\n        node.data.label = newNode.data.label;\n        node.renderData.label = node.data.label;\n        node.renderData.textHolder.children[0].element.childNodes[0].innerText =\n          node.data.label;\n      }\n      if (newNode.data.shape) {\n        node.data.shape = newNode.data.shape;\n        node.renderData.shape = node.data.shape;\n        self.setNodeShape(node, node.data.shape);\n      }\n    }\n  };\n};\n"],"sourceRoot":""}